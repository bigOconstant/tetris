!function(t){var o={};function i(r){if(o[r])return o[r].exports;var e=o[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=o,i.d=function(t,o,r){i.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,o){if(1&o&&(t=i(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var e in t)i.d(r,e,function(o){return t[o]}.bind(null,e));return r},i.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(o,"a",o),o},i.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},i.p="",i(i.s=4)}([function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.flipped=Math.random()<.5,this.setcolor(),this.done=!1}return t.prototype.decr=function(){this.row=this.row+1},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t.prototype.leftPress=function(t,o){if(this.flipped){for(var i=0;i<4;i++)t[this.row+i][this.col].color=this.originalColor,t[this.row+i][this.col].empty=!0;var r=!0;if(this.col>0)for(i=0;i<4;++i)0==t[this.row+i][this.col-1].empty&&(r=!1);this.col>0&&r&&--this.col}else{for(i=0;i<4;i++)t[this.row][this.col+i].color=this.originalColor,t[this.row][this.col+i].empty=!0;this.col>0&&t[this.row][this.col-1].empty&&--this.col}},t.prototype.rightPress=function(t,o){if(console.log("This.flipped = "+this.flipped),this.flipped){if(this.col<9){for(var i=0;i<4;i++)t[this.row+i][this.col].color=this.originalColor,t[this.row+i][this.col].empty=!0;var r=!0;if(this.col<9){for(i=0;i<4;++i)0==t[this.row+i][this.col+1].empty&&(r=!1);this.col<9&&r&&++this.col}}}else if(this.col<6){for(i=0;i<4;i++)t[this.row][this.col+i].color=this.originalColor,t[this.row][this.col+i].empty=!0;this.col<6&&t[this.row][this.col+4].empty&&++this.col}},t.prototype.upPress=function(t,o){if(this.flipped){if(this.col>0&&this.col<8&&this.row<17&&t[this.row][this.col-1].empty&&t[this.row][this.col+1].empty&&t[this.row][this.col+2].empty){for(var i=0;i<4;++i)t[this.row+i][this.col].color=this.originalColor,t[this.row+i][this.col].empty=!0;this.flipped=!this.flipped}}else{console.log("Checking if we can rotate horizontal");var r=!0;console.log("This row:"+this.row);for(i=0;i<4;++i)t[this.row][this.col+i].color=this.originalColor,t[this.row][this.col+i].empty=!0;this.row>15&&(r=!1);for(i=0;i<4;++i)console.log(t[this.row+i][this.col].empty),t[this.row+i][this.col].empty||(r=!1);if(r){console.log("Horizontal can change!"),this.flipped=!this.flipped;for(i=0;i<4;++i)t[this.row][this.col+i].color=this.originalColor,t[this.row][this.col+i].empty=!0;for(i=0;i<4;++i)t[this.row+i][this.col].color=this.originalColor,t[this.row+i][this.col].empty=!0}}},t.prototype.draw=function(t,o){return this.flipped?this.drawFlipped(t,o):this.drawNotFlipped(t,o)},t.prototype.drawFlipped=function(t,o){if(0===this.row)for(var i=0;i<4;i++)if(!t[this.row+i][this.col].empty){for(var r=0;r<i;++r)t[this.row+r][this.col].color=this.color,t[this.row+r][this.col].empty=!1;return!1}if(t[this.row]&&t[this.row+1]&&t[this.row+2]&&t[this.row+3]){t[this.row-1]&&(t[this.row-1][this.col].color=this.originalColor,t[this.row-1][this.col].empty=!0);for(i=0;i<4;i++)t[this.row+i][this.col].empty&&(t[this.row+i][this.col].color=this.color,t[this.row+i][this.col].empty=!1);return t[this.row+4]&&t[this.row+4][this.col].empty&&!(this.row<15&&!t[this.row+4][this.col].empty)||(this.done=!0,!0)}if(!t[this.row+3])return this.row=0,this.col=Math.floor(10*Math.random()+0),this.done=!0,!0},t.prototype.drawNotFlipped=function(t,o){if(0===this.row){t[this.row][this.col].empty;for(var i=0;i<4;i++)if(!t[this.row][this.col+i].empty){for(var r=0;r<i;++r)t[this.row][this.col+r].color=this.color,t[this.row][this.col+r].empty=!1;return!1}}if(t[this.row]&&t[this.row][this.col]&&t[this.row][this.col+1]&&t[this.row][this.col+2]&&t[this.row][this.col+3]){if(t[this.row-1])for(i=0;i<4;i++)t[this.row-1][this.col+i].color=this.originalColor,t[this.row-1][this.col+i].empty=!0;for(i=0;i<4;i++)t[this.row][this.col+i].color=this.color,t[this.row][this.col+i].empty=!1;for(i=0;i<4;++i)if(this.row<19&&!t[this.row+1][this.col+i].empty)return this.row=0,this.col=0,this.done=!0,!0;return!0}if(!t[this.row+1])return console.log("Finishing!"),this.done=!0,!0},t}();o.IPiece=r},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=i(0),e=function(){function t(t){this.originalColor="rgb(66, 66, 66)",this.initP(t)}return t.prototype.printBoard=function(t){for(var o=0;o<20;++o){for(var i="",r=0;r<10;++r)t[o][r].empty?i+="x":i+="o";console.log(i)}},t.prototype.initP=function(t){this.started=!1,this.speiceList=[],this.generateType(),this.player.row=-1,this.firstTime=!0,this.player.col=Math.floor(6*Math.random()+0),this.checkBoardForRows(t)},t.prototype.leftPress=function(t,o){this.player.leftPress(t,o),this.draw(t,o)},t.prototype.rightPress=function(t,o){this.player.rightPress(t,o),this.draw(t,o)},t.prototype.upPress=function(t,o){this.printBoard(t),console.log("Attempting transformation"),this.player.upPress(t,o),this.draw(t,o),this.printBoard(t)},t.prototype.generateType=function(){Math.floor(7*Math.random()+1);this.kind="I","I"===this.kind&&(this.player=new r.IPiece)},t.prototype.draw=function(t,o){console.log("calling draw"),this.player.done&&(this.player=new r.IPiece);var i=this.player.draw(t,o);return this.player.done&&(this.player=new r.IPiece,this.initP(t)),i},t.prototype.decr=function(){this.player.decr()},t.prototype.checkBoardForRows=function(t){for(var o=19;o>-1;o--){for(var i=!0,r=9;r>-1;r--)t[o][r].empty&&(i=!1);if(i){for(var e=o;e>1;--e)for(var s=0;s<10;++s)t[e][s].empty=t[e-1][s].empty,t[e][s].color=t[e-1][s].color;for(r=0;r<10;r++)t[0][r].empty=!0,t[0][r].color=this.originalColor;this.checkBoardForRows(t)}}},t}();o.TPiece=e},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(t,o,i){this.color=t,this.left=o,this.top=i}return t.prototype.draw=function(t,o){t.fillStyle=this.color,t.fillRect(this.left+2+o,this.top+2+60,38,38)},t}();o.Piece=r},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=i(2),e=i(1),s=function(){function t(){this.canvas=document.querySelector(".myCanvas"),this.backgroundColor="rgb(38, 37, 37)",this.boardmap=[],this.zeroBoard(),this.initBoard(),this.gameInProgress=!0,this.t=new e.TPiece(this.boardmap);var t=this.getCenter();this.left=t-200}return t.prototype.getPiece=function(){return this.t},t.prototype.getCenter=function(){return Math.floor(this.width/2)},t.prototype.keyPress=function(t){"38"==t.keyCode?this.t.upPress(this.boardmap,this.left):"40"==t.keyCode||("37"==t.keyCode?this.t.leftPress(this.boardmap,this.left):"39"==t.keyCode&&this.t.rightPress(this.boardmap,this.left))},t.prototype.decrTime=function(){this.gameInProgress&&(this.t.decr(),this.t.draw(this.boardmap,this.left)||(this.gameInProgress=!1))},t.prototype.zeroBoard=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.width=window.innerWidth,this.height=window.innerHeight,this.ctx=this.canvas.getContext("2d")},t.prototype.initBoard=function(){var t=this.getCenter()-200;this.left=t;for(var o=0;o<20;o++){for(var i=[],e=0;e<10;++e){var s=new r.Piece("rgb(66, 66, 66)",40*e,40*o);s.empty=!0,i.push(s)}this.boardmap.push(i),i=[]}},t.prototype.drawBoard=function(){this.zeroBoard(),this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height);var t=this.getCenter()-200;this.left=t,this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.lineWidth=1,this.ctx.strokeRect(t,60,400,800),this.drawLines(t);for(var o=0,i=this.boardmap;o<i.length;o++)for(var r=0,e=i[o];r<e.length;r++){e[r].draw(this.ctx,t)}},t.prototype.drawLines=function(t){this.ctx.strokeStyle="rgb(91, 89, 89)";for(var o=40;o<400;o+=40)this.ctx.moveTo(t+o,60),this.ctx.lineTo(t+o,860),this.ctx.stroke();for(o=60;o<860;o+=40)this.ctx.moveTo(t,o),this.ctx.lineTo(t+400,o),this.ctx.stroke()},t}();o.Board=s},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=new(i(3).Board);window.setInterval(function(){r.drawBoard()},20),window.setInterval(function(){r.decrTime()},300);window.addEventListener("keydown",function(t){r.keyPress(t)},!1),window.addEventListener("gamepadconnected",function(t){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",t.gamepad.index,t.gamepad.id,t.gamepad.buttons.length,t.gamepad.axes.length)}),window.onresize=function(t){r.drawBoard()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BsYXllcnMvSVBpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QaWVjZS9UUGllY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BpZWNlL1BpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9Cb2FyZC9Cb2FyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJJUGllY2UiLCJ0aGlzIiwib3JpZ2luYWxDb2xvciIsImZsaXBwZWQiLCJNYXRoIiwicmFuZG9tIiwic2V0Y29sb3IiLCJkb25lIiwiZGVjciIsInJvdyIsImZsb29yIiwiY29sb3IiLCJsZWZ0UHJlc3MiLCJib2FyZG1hcCIsImxlZnQiLCJjb2wiLCJlbXB0eSIsIm5vYWJzdHJ1Y3Rpb24iLCJyaWdodFByZXNzIiwiY29uc29sZSIsImxvZyIsInVwUHJlc3MiLCJjYW5DaGFuZ2UiLCJkcmF3IiwiZHJhd0ZsaXBwZWQiLCJkcmF3Tm90RmxpcHBlZCIsImoiLCJJUGllY2VfMSIsIlRQaWVjZSIsImluaXRQIiwicHJpbnRCb2FyZCIsInN0cmluZyIsInN0YXJ0ZWQiLCJzcGVpY2VMaXN0IiwiZ2VuZXJhdGVUeXBlIiwicGxheWVyIiwiZmlyc3RUaW1lIiwiY2hlY2tCb2FyZEZvclJvd3MiLCJraW5kIiwicmV0dXJudmFsIiwiaGVpZ2h0IiwiTmVlZFRvRGVsZXRlIiwid2lkdGgiLCJrIiwiUGllY2UiLCJ0b3AiLCJjdHgiLCJvZmZzZXQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIlBpZWNlXzEiLCJUUGllY2VfMSIsIkJvYXJkIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYmFja2dyb3VuZENvbG9yIiwiemVyb0JvYXJkIiwiaW5pdEJvYXJkIiwiZ2FtZUluUHJvZ3Jlc3MiLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJnZXRQaWVjZSIsImtleVByZXNzIiwiZSIsImtleUNvZGUiLCJkZWNyVGltZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImdldENvbnRleHQiLCJtaWRkbGVMaXN0IiwicHVzaG1lUGVhY2UiLCJwdXNoIiwiZHJhd0JvYXJkIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2VSZWN0IiwiZHJhd0xpbmVzIiwiX2kiLCJfYSIsImxlbmd0aCIsIl9iIiwidG9wZW50cnlfMSIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImJvYXJkIiwic2V0SW50ZXJ2YWwiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2FtZXBhZCIsImluZGV4IiwiaWQiLCJidXR0b25zIiwiYXhlcyIsIm9ucmVzaXplIiwiZXZlbnQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFH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LElBQUFzQyxPQUFBdEUsRUFBQWlDLEdBQ0E5QyxLQUFBNkMsSUFBQXVDLE9BQUF2RSxFQUFBLElBQUFpQyxHQUNBOUMsS0FBQTZDLElBQUF3QyxVQUdBbEMsRUExR0EsR0E0R0F0RixFQUFBc0Ysc0NDL0dBMUUsT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q21CLE9BQUEsSUFDOUMsSUFDQXNHLEVBQUEsSUFEQTNILEVBQUEsR0FDQXdGLE9BVUFlLE9BQUFxQixZQVRBLFdBRUFELEVBQUFiLGFBT0EsSUFDQVAsT0FBQXFCLFlBTEEsV0FDQUQsRUFBQXJCLFlBSUEsS0FDQUMsT0FBQXNCLGlCQUFBLFVBSUEsU0FBQXpCLEdBQ0F1QixFQUFBeEIsU0FBQUMsS0FMQSxHQUNBRyxPQUFBc0IsaUJBQUEsNEJBQUF6QixHQUNBN0MsUUFBQUMsSUFBQSwwREFBQTRDLEVBQUEwQixRQUFBQyxNQUFBM0IsRUFBQTBCLFFBQUFFLEdBQUE1QixFQUFBMEIsUUFBQUcsUUFBQVosT0FBQWpCLEVBQUEwQixRQUFBSSxLQUFBYixVQUtBZCxPQUFBNEIsU0FBQSxTQUFBQyxHQUNBVCxFQUFBYiIsImZpbGUiOiIuL2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0KTtcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBJUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBJUGllY2UoKSB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcclxuICAgICAgICB0aGlzLmZsaXBwZWQgPSBNYXRoLnJhbmRvbSgpIDwgMC41O1xyXG4gICAgICAgIHRoaXMuc2V0Y29sb3IoKTtcclxuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIElQaWVjZS5wcm90b3R5cGUuZGVjciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnJvdyA9IHRoaXMucm93ICsgMTtcclxuICAgIH07XHJcbiAgICBJUGllY2UucHJvdG90eXBlLnNldGNvbG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb2xvciA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDEpO1xyXG4gICAgICAgIHN3aXRjaCAoY29sb3IpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDExLCA5OCwgMjM3KVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxOSwgMjM3LCAxMSlcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ5LCA3MiwgOTApXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0NSwgMjU1LCA2NilcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoNjYsIDI1NSwgMjQ4KVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDY2LCAxNzYpXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgMTU0LCA2NilcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBJUGllY2UucHJvdG90eXBlLmxlZnRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xyXG4gICAgICAgIGlmICh0aGlzLmZsaXBwZWQpIHsgLy9EZWxldGUgYWxsIGVsZW1lbnRzIHRvIHJpZ2h0XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcclxuICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmVtcHR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbm9hYnN0cnVjdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2wgLSAxXS5lbXB0eSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2Fic3RydWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA+IDAgJiYgbm9hYnN0cnVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLS10aGlzLmNvbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIGldLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xyXG4gICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgaV0uZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA+IDAgJiYgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcclxuICAgICAgICAgICAgICAgIC0tdGhpcy5jb2w7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gIGlmKHRoaXMuY29sID4wICl7XHJcbiAgICAgICAgLy8gICAgICAtLXRoaXMuY29sOyBcclxuICAgICAgICAvLyAgfVxyXG4gICAgfTtcclxuICAgIElQaWVjZS5wcm90b3R5cGUucmlnaHRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVGhpcy5mbGlwcGVkID0gXCIgKyB0aGlzLmZsaXBwZWQpO1xyXG4gICAgICAgIGlmICh0aGlzLmZsaXBwZWQpIHtcclxuICAgICAgICAgICAgLy9EZWxldGUgYWxsIGVsZW1lbnRzIHRvIHJpZ2h0XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIG5vYWJzdHJ1Y3Rpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgOSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sICsgMV0uZW1wdHkgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vYWJzdHJ1Y3Rpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA5ICYmIG5vYWJzdHJ1Y3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKyt0aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vKyt0aGlzLmNvbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgNikge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5lbXB0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA2ICYmIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDRdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBJUGllY2UucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuZmxpcHBlZCA9ICF0aGlzLmZsaXBwZWQ7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJDaGFuZ2UhXCIpO1xyXG4gICAgICAgICAgICAvL0NoZWNrIGlmIHRoZXJlIGlzIHJvb20gb24gbGVmdFxyXG4gICAgICAgICAgICBpZiAodGhpcy5jb2wgPiAwICYmIHRoaXMuY29sIDwgOCAmJiB0aGlzLnJvdyA8IDE3KSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2coXCJGaXIgY2hlY2sgcGFzcyFcIilcclxuICAgICAgICAgICAgICAgIC8vSW4gcmFuZ2Ugd2hlcmUgaXQncyBwb3NzaWJsZSBub3cgY2hlY2sgZm9yIG9ic3RydWN0aW9uc1xyXG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCAtIDFdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDFdLmVtcHR5ICYmIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIldlIGNhbiB0cmFuc2Zvcm1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2coYm9hcmRtYXBbdGhpcy5yb3craV1bdGhpcy5jb2xdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoaXMuZmxpcHBlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZsaXBwZWQgPSAhdGhpcy5mbGlwcGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhpcy5mbGlwcGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGlzLmZsaXBwZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhpcy5mbGlwcGVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vQ2hlY2sgaWYgdGhlcmUgaXMgcm9vbSBvbiByaWdodFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHsgLy9ob3Jpem9udGFsXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2hlY2tpbmcgaWYgd2UgY2FuIHJvdGF0ZSBob3Jpem9udGFsXCIpO1xyXG4gICAgICAgICAgICB2YXIgY2FuQ2hhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUaGlzIHJvdzpcIiArIHRoaXMucm93KTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIGldLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xyXG4gICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgaV0uZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDE1KSB7XHJcbiAgICAgICAgICAgICAgICBjYW5DaGFuZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uZW1wdHkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sXS5lbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbkNoYW5nZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjYW5DaGFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSG9yaXpvbnRhbCBjYW4gY2hhbmdlIVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmxpcHBlZCA9ICF0aGlzLmZsaXBwZWQ7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIGldLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIGldLmVtcHR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJldHVybiB0aGlzLmZsaXBwZWQ7XHJcbiAgICAgICAgICAgIC8vICAgY29uc29sZS5sb2coXCJDaGFuZ2UgQWdhaW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xyXG4gICAgICAgIGlmICh0aGlzLmZsaXBwZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHJhd0ZsaXBwZWQoYm9hcmRtYXAsIGxlZnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHJhd05vdEZsaXBwZWQoYm9hcmRtYXAsIGxlZnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBJUGllY2UucHJvdG90eXBlLmRyYXdGbGlwcGVkID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMucm93ID09PSAwKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpOyArK2opIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyBqXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIGpdW3RoaXMuY29sXS5lbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vZ2FtZSBvdmVyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93XVxyXG4gICAgICAgICAgICAmJiBib2FyZG1hcFt0aGlzLnJvdyArIDFdXHJcbiAgICAgICAgICAgICYmIGJvYXJkbWFwW3RoaXMucm93ICsgMl1cclxuICAgICAgICAgICAgJiYgYm9hcmRtYXBbdGhpcy5yb3cgKyAzXSkge1xyXG4gICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3cgLSAxXSkge1xyXG4gICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAxXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XHJcbiAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDFdW3RoaXMuY29sXS5lbXB0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sXS5lbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sXS5lbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyA0XSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyA0XVt0aGlzLmNvbF0uZW1wdHkpIHsgLy9MYXN0IHNxdWFyZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE1ICYmICFib2FyZG1hcFt0aGlzLnJvdyArIDRdW3RoaXMuY29sXS5lbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgLy9UaGlzIGhlcmUgcHJvYmFibHkgZG9lc24ndCB3b3JrXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDNdKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm93ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5jb2wgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTApICsgMCk7XHJcbiAgICAgICAgICAgIC8vV2UgaGF2ZSBzdG9wcGVkIG11c3QgY2FsY3VsYXRlIGlmIHdlIG5lZWQgdG8gY2xlYXIuXHJcbiAgICAgICAgICAgIC8vIHRoaXMuY2hlY2tCb2FyZEZvclJvd3MoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSVBpZWNlLnByb3RvdHlwZS5kcmF3Tm90RmxpcHBlZCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJvdyA9PT0gMCkge1xyXG4gICAgICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkpIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5lbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaTsgKytqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIGpdLmNvbG9yID0gdGhpcy5jb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgal0uZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvL2dhbWUgb3ZlclxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvd10gJiYgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXVxyXG4gICAgICAgICAgICAmJiBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAxXVxyXG4gICAgICAgICAgICAmJiBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAyXVxyXG4gICAgICAgICAgICAmJiBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAzXSkge1xyXG4gICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3cgLSAxXSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDFdW3RoaXMuY29sICsgaV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAxXVt0aGlzLmNvbCArIGldLmVtcHR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgaV0uY29sb3IgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgaV0uZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTkgJiYgIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyBpXS5lbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdKSB7XHJcbiAgICAgICAgICAgIC8vdGhpcy5jaGVja0JvYXJkRm9yUm93cyhib2FyZG1hcCk7ICAgIFxyXG4gICAgICAgICAgICAvLyB0aGlzLmluaXRQKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmluaXNoaW5nIVwiKTtcclxuICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBJUGllY2U7XHJcbn0oKSk7XHJcbmV4cG9ydHMuSVBpZWNlID0gSVBpZWNlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgSVBpZWNlXzEgPSByZXF1aXJlKFwiLi4vUGxheWVycy9JUGllY2VcIik7XHJcbnZhciBUUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUUGllY2UoYm9hcmRtYXApIHtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xyXG4gICAgICAgIC8vdGhpcy5raW5kID0ga2luZDtcclxuICAgICAgICB0aGlzLmluaXRQKGJvYXJkbWFwKTtcclxuICAgIH1cclxuICAgIFRQaWVjZS5wcm90b3R5cGUucHJpbnRCb2FyZCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjA7ICsraSkge1xyXG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gXCJcIjtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxMDsgKytqKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbaV1bal0uZW1wdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyBcInhcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZyArIFwib1wiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0cmluZyk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJfXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBUUGllY2UucHJvdG90eXBlLmluaXRQID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcGVpY2VMaXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVR5cGUoKTtcclxuICAgICAgICB0aGlzLnBsYXllci5yb3cgPSAtMTtcclxuICAgICAgICB0aGlzLmZpcnN0VGltZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMCk7XHJcbiAgICAgICAgdGhpcy5jaGVja0JvYXJkRm9yUm93cyhib2FyZG1hcCk7XHJcbiAgICB9O1xyXG4gICAgVFBpZWNlLnByb3RvdHlwZS5sZWZ0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICB0aGlzLnBsYXllci5sZWZ0UHJlc3MoYm9hcmRtYXAsIGxlZnQpO1xyXG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XHJcbiAgICB9O1xyXG4gICAgVFBpZWNlLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIucmlnaHRQcmVzcyhib2FyZG1hcCwgbGVmdCk7XHJcbiAgICAgICAgdGhpcy5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcclxuICAgIH07XHJcbiAgICBUUGllY2UucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICB0aGlzLnByaW50Qm9hcmQoYm9hcmRtYXApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXR0ZW1wdGluZyB0cmFuc2Zvcm1hdGlvblwiKTtcclxuICAgICAgICB0aGlzLnBsYXllci51cFByZXNzKGJvYXJkbWFwLCBsZWZ0KTtcclxuICAgICAgICB0aGlzLmRyYXcoYm9hcmRtYXAsIGxlZnQpO1xyXG4gICAgICAgIHRoaXMucHJpbnRCb2FyZChib2FyZG1hcCk7XHJcbiAgICB9O1xyXG4gICAgVFBpZWNlLnByb3RvdHlwZS5nZW5lcmF0ZVR5cGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHR5cGUgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNykgKyAxKTtcclxuICAgICAgICAvLyAgc3dpdGNoKHR5cGUpe1xyXG4gICAgICAgIC8vICAgICAgY2FzZSAwOlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiMFwiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgY2FzZSAxOlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiVFwiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgY2FzZSAyOlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiSVwiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgY2FzZSAzOlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiU1wiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgY2FzZSA0OlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiWlwiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgY2FzZSA1OlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiSlwiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgY2FzZSA2OlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiTFwiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICB9XHJcbiAgICAgICAgdGhpcy5raW5kID0gXCJJXCI7XHJcbiAgICAgICAgaWYgKHRoaXMua2luZCA9PT0gXCJJXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgSVBpZWNlXzEuSVBpZWNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFRQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2FsbGluZyBkcmF3XCIpO1xyXG4gICAgICAgIGlmICh0aGlzLnBsYXllci5kb25lKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IElQaWVjZV8xLklQaWVjZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmV0dXJudmFsID0gdGhpcy5wbGF5ZXIuZHJhdyhib2FyZG1hcCwgbGVmdCk7XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmRvbmUpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgSVBpZWNlXzEuSVBpZWNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdFAoYm9hcmRtYXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmV0dXJudmFsO1xyXG4gICAgfTtcclxuICAgIC8vIGRyYXdJRmxpcHBlZChib2FyZG1hcDpQaWVjZVtdW10sbGVmdDpudW1iZXIpey8vdmVydGljbGVcclxuICAgIC8vICAgICAgdmFyIHZhbHRvcmV0dXJuID0gdGhpcy5wbGF5ZXIuZHJhd0ZsaXBwZWQoYm9hcmRtYXAsbGVmdCk7XHJcbiAgICAvLyAgICAgIGlmICh0aGlzLnBsYXllci5kb25lKXtcclxuICAgIC8vICAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XHJcbiAgICAvLyAgICAgIH1cclxuICAgIC8vICAgICAgcmV0dXJuIHZhbHRvcmV0dXJuO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gZHJhd0lOb3RGbGlwcGVkKGJvYXJkbWFwOlBpZWNlW11bXSxsZWZ0Om51bWJlcil7IC8vaG9yaXpvbnRhbFxyXG4gICAgLy8gICAgIHZhciB2YWx0b3JldHVybiA9IHRoaXMucGxheWVyLmRyYXdOb3RGbGlwcGVkKGJvYXJkbWFwLGxlZnQpO1xyXG4gICAgLy8gICAgIGlmKHRoaXMucGxheWVyLmRvbmUpe1xyXG4gICAgLy8gICAgICAgICB0aGlzLmluaXRQKGJvYXJkbWFwKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgcmV0dXJuIHZhbHRvcmV0dXJuO1xyXG4gICAgLy8gfVxyXG4gICAgVFBpZWNlLnByb3RvdHlwZS5kZWNyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVyLmRlY3IoKTtcclxuICAgIH07XHJcbiAgICBUUGllY2UucHJvdG90eXBlLmNoZWNrQm9hcmRGb3JSb3dzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYWxsaW5nIGRyYXdcIik7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IDIwO1xyXG4gICAgICAgIHZhciB3aWR0aCA9IDEwO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSBoZWlnaHQgLSAxOyBpID4gLTE7IGktLSkge1xyXG4gICAgICAgICAgICB2YXIgTmVlZFRvRGVsZXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IHdpZHRoIC0gMTsgaiA+IC0xOyBqLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFtpXVtqXS5lbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE5lZWRUb0RlbGV0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChOZWVkVG9EZWxldGUpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSBpOyBrID4gMTsgLS1rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCB3aWR0aDsgKytsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW2tdW2xdLmVtcHR5ID0gYm9hcmRtYXBbayAtIDFdW2xdLmVtcHR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFtrXVtsXS5jb2xvciA9IGJvYXJkbWFwW2sgLSAxXVtsXS5jb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHdpZHRoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFswXVtqXS5lbXB0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbMF1bal0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7IC8vIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tCb2FyZEZvclJvd3MoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBUUGllY2U7XHJcbn0oKSk7XHJcbmV4cG9ydHMuVFBpZWNlID0gVFBpZWNlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQaWVjZShjb2xvciwgbGVmdCwgdG9wKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XHJcbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XHJcbiAgICB9XHJcbiAgICBQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChjdHgsIG9mZnNldCkge1xyXG4gICAgICAgIC8vIHRoaXMubGVmdCA9IG9mZnNldDtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5sZWZ0ICsgMiArIG9mZnNldCwgdGhpcy50b3AgKyAyICsgNjAsIDM4LCAzOCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFBpZWNlO1xyXG59KCkpO1xyXG5leHBvcnRzLlBpZWNlID0gUGllY2U7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBQaWVjZV8xID0gcmVxdWlyZShcIi4uL1BpZWNlL1BpZWNlXCIpO1xyXG52YXIgVFBpZWNlXzEgPSByZXF1aXJlKFwiLi4vUGllY2UvVFBpZWNlXCIpO1xyXG52YXIgQm9hcmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBCb2FyZCgpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teUNhbnZhcycpO1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gJ3JnYigzOCwgMzcsIDM3KSc7IC8vYmxhY2tcclxuICAgICAgICB0aGlzLmJvYXJkbWFwID0gW107XHJcbiAgICAgICAgdGhpcy56ZXJvQm9hcmQoKTtcclxuICAgICAgICB0aGlzLmluaXRCb2FyZCgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZUluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudCA9IG5ldyBUUGllY2VfMS5UUGllY2UodGhpcy5ib2FyZG1hcCk7XHJcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gY2VudGVyIC0gMjAwO1xyXG4gICAgfVxyXG4gICAgQm9hcmQucHJvdG90eXBlLmdldFBpZWNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnQ7XHJcbiAgICB9O1xyXG4gICAgQm9hcmQucHJvdG90eXBlLmdldENlbnRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMik7XHJcbiAgICB9O1xyXG4gICAgQm9hcmQucHJvdG90eXBlLmtleVByZXNzID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09ICczOCcpIHtcclxuICAgICAgICAgICAgLy8gdXAgYXJyb3dcclxuICAgICAgICAgICAgdGhpcy50LnVwUHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICc0MCcpIHtcclxuICAgICAgICAgICAgLy8gZG93biBhcnJvd1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gJzM3Jykge1xyXG4gICAgICAgICAgICAvLyBsZWZ0IGFycm93XHJcbiAgICAgICAgICAgIHRoaXMudC5sZWZ0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICczOScpIHtcclxuICAgICAgICAgICAgLy8gcmlnaHQgYXJyb3dcclxuICAgICAgICAgICAgdGhpcy50LnJpZ2h0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQm9hcmQucHJvdG90eXBlLmRlY3JUaW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVJblByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudC5kZWNyKCk7XHJcbiAgICAgICAgICAgIHZhciBzdWNjZXNzID0gdGhpcy50LmRyYXcodGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcclxuICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVJblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQm9hcmQucHJvdG90eXBlLnplcm9Cb2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgfTtcclxuICAgIEJvYXJkLnByb3RvdHlwZS5pbml0Qm9hcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgdmFyIGxlZnQgPSBjZW50ZXIgLSAyMDA7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcclxuICAgICAgICB2YXIgdG9wID0gNjA7XHJcbiAgICAgICAgdmFyIGxvY2FsY29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjA7IGkrKykge1xyXG4gICAgICAgICAgICAvL2kgPSByb3dzXHJcbiAgICAgICAgICAgIHZhciBtaWRkbGVMaXN0ID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTA7ICsraikge1xyXG4gICAgICAgICAgICAgICAgLy9jb2x1bW5zXHJcbiAgICAgICAgICAgICAgICB2YXIgcHVzaG1lUGVhY2UgPSBuZXcgUGllY2VfMS5QaWVjZShsb2NhbGNvbG9yLCAoaiAqIDQwKSwgKGkgKiA0MCkpO1xyXG4gICAgICAgICAgICAgICAgcHVzaG1lUGVhY2UuZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWlkZGxlTGlzdC5wdXNoKHB1c2htZVBlYWNlKTtcclxuICAgICAgICAgICAgICAgIC8vdGhpcy5ib2FyZG1hcFtpLTFdW2otMV0gPSBuZXcgU3BlYWNlKGxvY2FsY29sb3IsbGVmdCsoaio0MCksdG9wKyhpKjQwKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5ib2FyZG1hcC5wdXNoKG1pZGRsZUxpc3QpO1xyXG4gICAgICAgICAgICBtaWRkbGVMaXN0ID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEJvYXJkLnByb3RvdHlwZS5kcmF3Qm9hcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy56ZXJvQm9hcmQoKTtcclxuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgdmFyIGxlZnQgPSBjZW50ZXIgLSAyMDA7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICdyZ2IoMjU1LCAyNTUsIDI1NSknO1xyXG4gICAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlUmVjdChsZWZ0LCA2MCwgNDAwLCA4MDApO1xyXG4gICAgICAgIHRoaXMuZHJhd0xpbmVzKGxlZnQpO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmJvYXJkbWFwOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgdG9wZW50cnkgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgdG9wZW50cnlfMSA9IHRvcGVudHJ5OyBfYiA8IHRvcGVudHJ5XzEubGVuZ3RoOyBfYisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSB0b3BlbnRyeV8xW19iXTtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmRyYXcodGhpcy5jdHgsIGxlZnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEJvYXJkLnByb3RvdHlwZS5kcmF3TGluZXMgPSBmdW5jdGlvbiAobGVmdCkge1xyXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ3JnYig5MSwgODksIDg5KSc7XHJcbiAgICAgICAgdmFyIGxpbmVCb3R0b20gPSA2MDtcclxuICAgICAgICB2YXIgbGluZVRvcCA9IDYwICsgODAwO1xyXG4gICAgICAgIC8vRHJhdyBob3Jpem9udGFsIGxpbmVzXHJcbiAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gNDA7IG9mZnNldCA8IDQwMDsgb2Zmc2V0ID0gb2Zmc2V0ICsgNDApIHtcclxuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKGxlZnQgKyBvZmZzZXQsIGxpbmVCb3R0b20pO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8obGVmdCArIG9mZnNldCwgbGluZVRvcCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSA2MDsgb2Zmc2V0IDwgODAwICsgNjA7IG9mZnNldCA9IG9mZnNldCArIDQwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4Lm1vdmVUbyhsZWZ0LCBvZmZzZXQpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8obGVmdCArIDQwMCwgb2Zmc2V0KTtcclxuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBCb2FyZDtcclxufSgpKTtcclxuZXhwb3J0cy5Cb2FyZCA9IEJvYXJkO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQm9hcmRfMSA9IHJlcXVpcmUoXCIuL0JvYXJkL0JvYXJkXCIpO1xyXG52YXIgYm9hcmQgPSBuZXcgQm9hcmRfMS5Cb2FyZCgpO1xyXG5mdW5jdGlvbiBkcmF3Qm9hcmQoKSB7XHJcbiAgICAvL2NvbnNvbGUubG9nKFwiQ2FsbGluZyBkcmF3IGJvYXJkXCIpXHJcbiAgICBib2FyZC5kcmF3Qm9hcmQoKTtcclxufVxyXG47XHJcbmZ1bmN0aW9uIGRlc2NUaW1lKCkge1xyXG4gICAgYm9hcmQuZGVjclRpbWUoKTtcclxufVxyXG4vLyBib2FyZC5kcmF3Qm9hcmQoKTtcclxudmFyIHRpbWVyRm9yTG9hZGluZ1Jlc3VsdCA9IHdpbmRvdy5zZXRJbnRlcnZhbChkcmF3Qm9hcmQsIDIwKTtcclxudmFyIHRpbWVyRm9yTG9hZGluZ1Jlc3VsdCA9IHdpbmRvdy5zZXRJbnRlcnZhbChkZXNjVGltZSwgMzAwKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjaGVjaywgZmFsc2UpO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImdhbWVwYWRjb25uZWN0ZWRcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiR2FtZXBhZCBjb25uZWN0ZWQgYXQgaW5kZXggJWQ6ICVzLiAlZCBidXR0b25zLCAlZCBheGVzLlwiLCBlLmdhbWVwYWQuaW5kZXgsIGUuZ2FtZXBhZC5pZCwgZS5nYW1lcGFkLmJ1dHRvbnMubGVuZ3RoLCBlLmdhbWVwYWQuYXhlcy5sZW5ndGgpO1xyXG59KTtcclxuZnVuY3Rpb24gY2hlY2soZSkge1xyXG4gICAgYm9hcmQua2V5UHJlc3MoZSk7XHJcbn1cclxud2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBib2FyZC5kcmF3Qm9hcmQoKTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==