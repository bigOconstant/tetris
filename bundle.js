!function(t){var o={};function e(i){if(o[i])return o[i].exports;var r=o[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=o,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var r in t)e.d(i,r,function(o){return t[o]}.bind(null,r));return i},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=9)}([function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){return function(t,o){this.row=t,this.col=o}}();o.Coordinate=i},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.coordinates=[],this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+2),this.state=3,this.matrixOne=[[0,1,0],[0,1,0],[0,1,1]],this.matrixTwo=[[0,0,0],[1,1,1],[1,0,0]],this.matrixThree=[[1,1,0],[0,1,0],[0,1,0]],this.matrixFour=[[0,0,0],[0,0,1],[1,1,1]]}return t.prototype.leftPress=function(t,o){this.checkBelowWrapper(t,this.row,this.col-1)&&this.col--},t.prototype.rightPress=function(t,o){this.checkBelowWrapper(t,this.row,this.col+1)&&this.col++},t.prototype.upPress=function(t,o){var e=this,i=this.deleteCoordinates(t),r=this.state;this.incrementState(),this.checkBelowWrapper(t,this.row,this.col)||(this.state=r,i.forEach(function(o){e.drawToPoint(t,o)}))},t.prototype.downPress=function(t){this.checkBelowWrapper(t,this.row+1,this.col)&&this.row++},t.prototype.draw=function(t,o){return this.row>17?(this.done=!0,!0):this.checkBelowWrapper(t,this.row,this.col)?(this.deleteCoordinates(t),this.drawMatrixWrapper(t),!0):(this.done=!0,0!==this.row)},t.prototype.checkBelowWrapper=function(t,o,e){switch(this.state){case 1:return this.checkBelow(t,this.matrixOne,o,e);case 2:return this.checkBelow(t,this.matrixTwo,o,e);case 3:return this.checkBelow(t,this.matrixThree,o,e);case 4:return this.checkBelow(t,this.matrixFour,o,e)}},t.prototype.drawMatrix=function(t,o){for(var e=0;e<3;++e)for(var r=0;r<3;++r)1===o[e][r]&&this.drawToPoint(t,new i.Coordinate(this.row+e,this.col+r))},t.prototype.drawMatrixWrapper=function(t){switch(this.state){case 1:this.drawMatrix(t,this.matrixOne);break;case 2:this.drawMatrix(t,this.matrixTwo);break;case 3:this.drawMatrix(t,this.matrixThree);break;case 4:this.drawMatrix(t,this.matrixFour)}},t.prototype.checkBelow=function(t,o,e,i){var r=this,s=this.deleteCoordinates(t);return!!this.checkIfFits(e,i,t,o)||(s.forEach(function(o){r.drawToPoint(t,o)}),!1)},t.prototype.checkIfFits=function(t,o,e,i){for(var r=0;r<i.length;++r)for(var s=0;s<i[r].length;++s)if(1===i[r][s]){if(!e[t+r]||!e[t+r][o+s])return!1;if(!e[t+r][o+s].empty)return!1}return!0},t.prototype.decr=function(){this.row=this.row+1},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(var o=[];this.coordinates.length>0;){var e=this.coordinates.pop();o.push(e),this.deleteToPoint(t,e.row,e.col)}return o},t.prototype.incrementState=function(){this.state<4?++this.state:this.state=1},t}();o.LPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.coordinates=[],this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+2),this.state=3,this.matrixOne=[[0,1,0],[0,1,0],[1,1,0],[0,0,0]],this.matrixTwo=[[0,0,0],[1,0,0],[1,1,1],[0,0,0]],this.matrixThree=[[0,1,1],[0,1,0],[0,1,0],[0,0,0]],this.matrixFour=[[0,0,0],[1,1,1],[0,0,1],[0,0,0]]}return t.prototype.checkIfFits=function(t,o){var e=[];switch(this.state){case 1:e=this.matrixOne;break;case 2:e=this.matrixTwo;break;case 3:e=this.matrixThree;break;case 4:e=this.matrixFour}for(var i=0;i<4;++i)for(var r=0;r<3;++r)if(1===e[i][r]){if(!o[t+i]||!o[this.row+i][this.col+r])return!1;if(!o[t+i][this.col+r].empty)return!1}return!0},t.prototype.draw=function(t,o){switch(this.state){case 1:case 2:case 3:case 4:return this.row>18?(this.done=!0,!0):this.checkBelow(t,0)?(this.done=!0,0!==this.row):(this.row>0&&this.deleteCoordinates(t),this.drawCurrent(t,o),!0)}},t.prototype.drawCurrent=function(t,o){switch(this.state){case 1:this.drawMatrix(t,this.matrixOne);break;case 2:this.drawMatrix(t,this.matrixTwo);break;case 3:this.drawMatrix(t,this.matrixThree);break;case 4:this.drawMatrix(t,this.matrixFour)}},t.prototype.drawMatrix=function(t,o){for(var e=0;e<3;++e)for(var r=0;r<3;++r)1===o[e][r]&&this.drawToPoint(t,new i.Coordinate(this.row+e,this.col+r))},t.prototype.checkRight=function(t,o){var e=!1;switch(this.state){case 1:e=this.checkRightOne(t,o);break;case 2:e=this.checkRightTwo(t,o);break;case 3:e=this.checkRightThree(t,o);break;case 4:e=this.checkRightFour(t,o)}return e},t.prototype.checkRightFour=function(t,o){var e=!1;return!t[this.row+1]||!t[this.row+1][this.col+3]||(!t[this.row+2]||!t[this.row+2][this.col+3]||(t[this.row+1][this.col+3].empty||(e=!0),t[this.row+2][this.col+3].empty||(e=!0),e))},t.prototype.checkRightThree=function(t,o){var e=!1;return!t[this.row][this.col+3]||(!t[this.row+1]||!t[this.row+1][this.col+2]||(!t[this.row+2]||!t[this.row+2][this.col+2]||(t[this.row][this.col+3].empty||(e=!0),t[this.row+1][this.col+2].empty||(e=!0),t[this.row+2][this.col+2].empty||(e=!0),e)))},t.prototype.checkRightTwo=function(t,o){if(!(t[this.row+1]&&t[this.row+1][this.col+1]&&t[this.row+2]&&t[this.row+2][this.col+3]))return!0;var e=!1;return t[this.row+1][this.col+1].empty||(e=!0),t[this.row+2][this.col+3].empty||(e=!0),e},t.prototype.checkRightOne=function(t,o){if(!(t[this.row]&&t[this.row][this.col+2]&&t[this.row+1]&&t[this.row+1][this.col+2]&&t[this.row+2]&&t[this.row+2][this.col+2]))return!0;var e=!1;return t[this.row][this.col+2].empty||(e=!0),t[this.row+1][this.col+2].empty||(e=!0),t[this.row+2][this.col+2].empty||(e=!0),e},t.prototype.checkLeft=function(t,o){var e=!1;switch(this.state){case 1:e=this.checkLeftOne(t,o);break;case 2:e=this.checkLeftTwo(t,o);break;case 3:e=this.checkLeftThree(t,o);break;case 4:e=this.checkLeftFour(t,o)}return e},t.prototype.checkLeftFour=function(t,o){if(!(t[this.row+1]&&t[this.row+1][this.col-1]&&t[this.row+2]&&t[this.row+2][this.col+1]))return!0;var e=!1;return!t[this.row+1][this.col-1].empty||(t[this.row+2][this.col+1].empty?e:(e=!0,!0))},t.prototype.checkLeftThree=function(t,o){if(!(t[this.row+1]&&t[this.row+1][this.col]&&t[this.row+2]&&t[this.row+2][this.col]))return!0;var e=!1;return t[this.row][this.col].empty||(e=!0),t[this.row+1][this.col].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkLeftTwo=function(t,o){if(!(t[this.row+1]&&t[this.row+1][this.col-1]&&t[this.row+2]&&t[this.row+2][this.col-1]))return!0;var e=!1;return t[this.row+1][this.col-1].empty||(e=!0),t[this.row+2][this.col-1].empty||(e=!0),e},t.prototype.checkLeftOne=function(t,o){var e=!1;return!(t[this.row+1]&&t[this.row+1][this.col]&&t[this.row+2]&&t[this.row+2][this.col-1])||(t[this.row][this.col].empty||(e=!0),t[this.row+1][this.col].empty||(e=!0),t[this.row+2][this.col-1].empty||(e=!0),e)},t.prototype.checkBelow=function(t,o){var e=!1;switch(this.state){case 1:e=this.checkBelowOne(t,o);break;case 2:e=this.checkBelowTwo(t,o);break;case 3:e=this.checkBelowThree(t,o);break;case 4:e=this.checkBelowFour(t,o)}return e},t.prototype.checkBelowFour=function(t,o){var e=!1;return!(t[this.row+1+o]&&t[this.row+1+o][this.col]&&t[this.row+1+o][this.col+1]&&t[this.row+2]&&t[this.row+2+o][this.col+2])||(t[this.row+1+o][this.col].empty||(e=!0),t[this.row+1+o][this.col+1].empty||(e=!0),t[this.row+2+o][this.col+2].empty||(e=!0),e)},t.prototype.checkBelowThree=function(t,o){if(!(t[this.row+2+o]&&t[this.row+2+o][this.col+1]&&t[this.row+o]&&t[this.row+o][this.col+2]))return!0;var e=!1;return t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+o][this.col+2].empty||(e=!0),e},t.prototype.checkBelowOne=function(t,o){var e=!1;return!(t[this.row+2+o]&&t[this.row+2+o][this.col]&&t[this.row+2+o]&&t[this.row+2+o][this.col+1])||(t[this.row+2+o][this.col].empty||(e=!0),t[this.row+2+o][this.col+1].empty||(e=!0),e)},t.prototype.checkBelowTwo=function(t,o){var e=!1;return!(t[this.row+2+o]&&t[this.row+2+o][this.col]&&t[this.row+2+o][this.col+1]&&t[this.row+2+o][this.col+2])||(t[this.row+2+o][this.col].empty||(e=!0),t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+2+o][this.col+2].empty||(e=!0),e)},t.prototype.decr=function(){this.row=this.row+1},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t.prototype.incrementState=function(){this.state<4?++this.state:this.state=1},t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(;this.coordinates.length>0;){var o=this.coordinates.pop();this.deleteToPoint(t,o.row,o.col)}},t.prototype.leftPress=function(t,o){this.checkLeft(t,0)?this.deleteCoordinates(t):(this.deleteCoordinates(t),this.col--)},t.prototype.rightPress=function(t,o){this.checkRight(t,0)?this.deleteCoordinates(t):(this.deleteCoordinates(t),this.col++)},t.prototype.upPress=function(t,o){this.deleteCoordinates(t);var e=this.state;this.incrementState(),this.checkIfFits(this.row,t)||(this.state=e)},t.prototype.downPress=function(t){this.deleteCoordinates(t),this.checkIfFits(this.row+1,t)&&this.row++},t}();o.JPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.coordinates=[],this.flipped=Math.random()<.5,this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+2),this.state=1}return t.prototype.incrementState=function(){this.state<4?++this.state:this.state=1},t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(;this.coordinates.length>0;){var o=this.coordinates.pop();this.deleteToPoint(t,o.row,o.col)}},t.prototype.drawSelf=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2))},t.prototype.drawSelfFlipped=function(t){this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1))},t.prototype.drawSelfRight=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1))},t.prototype.drawSelfLeft=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1))},t.prototype.leftPress=function(t,o){switch(this.state){case 1:if(!(this.col>0)){this.deleteCoordinates(t);break}if(!this.checkLeftUp(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break;case 2:if(this.col>-1&&!this.checkLeftRight(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break;case 3:if(this.col>0){if(!this.checkLeftDown(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break}this.deleteCoordinates(t);break;case 4:if(this.col>0){if(!this.checkLeftLeft(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break}this.deleteCoordinates(t)}},t.prototype.rightPress=function(t,o){switch(this.state){case 1:if(this.col<7&&!this.checkRightUp(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t);break;case 2:if(this.col<7&&!this.checkRightRight(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t);break;case 3:if(this.col<7&&!this.checkRightDown(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t);break;case 4:if(this.col<8&&!this.checkRightLeft(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t)}},t.prototype.upPress=function(t,o){switch(this.state){case 1:this.deleteCoordinates(t),this.col<8&&(this.state=2);break;case 2:this.deleteCoordinates(t),this.col>-1&&(this.state=3);break;case 3:this.deleteCoordinates(t),this.state=4;break;case 4:this.deleteCoordinates(t),this.col<8&&(this.state=1)}},t.prototype.downPress=function(t){switch(this.state){case 1:this.row<18&&(this.checkBelowup(t,1)||(this.deleteCoordinates(t),++this.row));break;case 2:if(this.row<17){this.checkBelowRight(t,1)||(this.deleteCoordinates(t),++this.row);break}break;case 3:this.row<17&&(this.checkBelowDown(t,1)||(this.deleteCoordinates(t),++this.row));break;case 4:if(this.row<17){this.checkBelowLeft(t,1)||(this.deleteCoordinates(t),++this.row);break}}},t.prototype.checkLeftUp=function(t,o){var e=!1;return t[this.row+1][this.col-1].empty||(e=!0),t[this.row][this.col].empty||(e=!0),e},t.prototype.checkRightUp=function(t,o){var e=!1;return t[this.row+1][this.col+3].empty||(e=!0),t[this.row][this.col+2].empty||(e=!0),e},t.prototype.checkRightRight=function(t,o){var e=!1;return t[this.row][this.col+2].empty||(e=!0),t[this.row+1][this.col+3].empty||(e=!0),t[this.row+2][this.col+2].empty||(e=!0),e},t.prototype.checkLeftRight=function(t,o){var e=!1;return t[this.row][this.col].empty||(e=!0),t[this.row+1][this.col].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkRightLeft=function(t,o){var e=!1;return t[this.row][this.col+2].empty||(e=!0),t[this.row+1][this.col+2]||(e=!0),t[this.row+2][this.col+2]||(e=!0),e},t.prototype.checkLeftLeft=function(t,o){var e=!1;return t[this.row][this.col].empty||(e=!0),t[this.row+1][this.col-1].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkLeftDown=function(t,o){var e=!1;return t[this.row+1][this.col-1].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkRightDown=function(t,o){var e=!1;return t[this.row+1][this.col+3].empty||(e=!0),t[this.row+2][this.col+2].empty||(e=!0),e},t.prototype.checkBelowup=function(t,o){var e=!1;return t[this.row+1+o][this.col].empty||(e=!0),t[this.row+1+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col+2].empty||(e=!0),e},t.prototype.checkBelowDown=function(t,o){var e=!1;return t[this.row+1+o][this.col].empty||(e=!0),t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col+2].empty||(e=!0),e},t.prototype.checkBelowLeft=function(t,o){var e=!1;return t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col].empty||(e=!0),e},t.prototype.checkBelowRight=function(t,o){var e=!1;return t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col+2].empty||(e=!0),e},t.prototype.draw=function(t,o){switch(this.state){case 1:if(this.row>18)return this.done=!0,!0;if(this.checkBelowup(t,0))return this.done=!0,0!==this.row;this.row>0&&this.deleteCoordinates(t),this.drawSelf(t);break;case 2:if(this.row>17)return this.done=!0,!0;if(this.row<17&&this.checkBelowRight(t,0))return this.done=!0,!0;if(this.checkBelowRight(t,0))return this.done=!0,!0;this.row>0&&this.deleteCoordinates(t),this.drawSelfRight(t);break;case 4:if(this.row>17)return this.done=!0,!0;if(this.row<17&&this.checkBelowLeft(t,0))return this.done=!0,!0;if(this.checkBelowLeft(t,0))return this.done=!0,!0;this.row>0&&this.deleteCoordinates(t),this.drawSelfLeft(t);break;case 3:if(this.row>17)return this.done=!0,!0;if(this.checkBelowDown(t,0))return this.done=!0,!0;this.row>0&&this.deleteCoordinates(t),this.drawSelfFlipped(t)}return!0},t.prototype.decr=function(){this.row=this.row+1},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t}();o.XPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.flipped=Math.random()<.5,this.setcolor(),this.done=!1,this.coordinates=[],this.col=Math.floor(3*Math.random()+2)}return t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(;this.coordinates.length>0;){var o=this.coordinates.pop();this.deleteToPoint(t,o.row,o.col)}},t.prototype.draw=function(t,o){return 19==this.row?(this.done=!0,!0):-1!==this.row?0===this.row?(this.drawSelf(t),!0):1===this.row?(this.deleteCoordinates(t),this.drawSelf(t),!0):this.checkBelow(t,-1)?(this.done=!0,!0):(this.deleteCoordinates(t),this.drawSelf(t),!0):void this.drawFirstSelf(t)},t.prototype.drawFlipped=function(t,o){console.log("Don't need this method :")},t.prototype.drawNotFlipped=function(t,o){console.log("Also don't need this method ;")},t.prototype.decr=function(){this.row=this.row+1},t.prototype.drawSelf=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1))},t.prototype.checkBelow=function(t,o){return!t[this.row+2+o][this.col].empty||!t[this.row+2+o][this.col+1].empty},t.prototype.drawFirstSelf=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col)),this.drawToPoint(t,new i.Coordinate(this.row,this.col+1))},t.prototype.downPress=function(t){this.row<18&&(t[this.row+2][this.col].empty&&(t[this.row+2][this.col+1].empty&&(this.deleteCoordinates(t),++this.row),this.deleteCoordinates(t)),this.deleteCoordinates(t)),this.deleteCoordinates(t)},t.prototype.leftPress=function(t,o){0!==this.col?(this.col>0&&t[this.row][this.col-1].empty&&this.row<19&&(t[this.row+1][this.col-1].empty?(this.deleteCoordinates(t),--this.col):this.deleteCoordinates(t)),this.deleteCoordinates(t)):this.deleteCoordinates(t)},t.prototype.rightPress=function(t,o){9!==this.col&&(this.col<9&&t[this.row][this.col+2].empty&&(this.row<19?t[this.row+1][this.col+2].empty&&(this.deleteCoordinates(t),++this.col):this.deleteCoordinates(t)),this.deleteCoordinates(t))},t.prototype.upPress=function(t,o){this.deleteCoordinates(t)},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t}();o.OPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.flipped=!0,this.coordinates=[],this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+0)}return t.prototype.decr=function(){this.row=this.row+1},t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(;this.coordinates.length>0;){var o=this.coordinates.pop();this.deleteToPoint(t,o.row,o.col)}},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t.prototype.leftPress=function(t,o){this.flipped?(this.col>=-1&&(this.checkLeftVertical(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),--this.col)),this.deleteCoordinates(t)):(this.col>=0&&(this.checkLeftHorizontal(t)||(this.deleteCoordinates(t),--this.col)),this.deleteCoordinates(t))},t.prototype.rightPress=function(t,o){this.flipped?this.col<11?this.checkRightVertical(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),++this.col):this.deleteCoordinates(t):this.col<6?this.checkRightHorizontal(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),++this.col):this.deleteCoordinates(t)},t.prototype.upPress=function(t,o){this.flipped?this.checkVerticalToHorizontal(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),this.flipped=!this.flipped):this.checkHorizontalToVertical(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),this.flipped=!this.flipped)},t.prototype.checkVerticalToHorizontal=function(t){return this.col>6||(-1===this.col||(!t[this.row+1][this.col].empty||(!t[this.row+1][this.col+2].empty||!t[this.row+1][this.col+3].empty)))},t.prototype.checkHorizontalToVertical=function(t){return this.row>17||(!t[this.row][this.col+1].empty||(!t[this.row+2][this.col+1].empty||!t[this.row+3][this.col+1].empty))},t.prototype.downPress=function(t){this.flipped?this.row<16&&(this.checkBelowVertical(t,1)||(this.deleteCoordinates(t),this.row++)):this.row<18&&(this.checkBelowHorizontal(t,0)||(this.deleteCoordinates(t),this.row++))},t.prototype.draw=function(t,o){return this.flipped?this.drawFlipped(t,o):this.drawNotFlipped(t,o)},t.prototype.drawVertical=function(t,o){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+3,this.col+1))},t.prototype.drawHorizontal=function(t,o){this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+3))},t.prototype.checkLeftVertical=function(t){var o=!1;if(this.col<0)return!0;for(var e=this.row;e<this.row+4;++e)t[e][this.col].empty||(o=!0);return o},t.prototype.checkRightVertical=function(t){var o=!1;if(this.col>7)return!0;for(var e=this.row;e<this.row+4;++e)t[e][this.col+2].empty||(o=!0);return o},t.prototype.checkRightHorizontal=function(t){return!t[this.row+1][this.col+4].empty},t.prototype.checkLeftHorizontal=function(t){return 0===this.col||!t[this.row+1][this.col-1].empty},t.prototype.checkBelowHorizontal=function(t,o){var e=!1;if(this.row+2+o===20)e=!0;else for(var i=this.col;i<this.col+4;++i)t[this.row+2+o][i].empty||(e=!0);return e},t.prototype.checkBelowVertical=function(t,o){return this.row+3===20||!t[this.row+3+o][this.col+1].empty},t.prototype.drawFlipped=function(t,o){return 0===this.row?this.checkBelowVertical(t,1)?(this.done=!0,!1):(this.drawVertical(t,o),!0):this.row<17?this.checkBelowVertical(t,0)?(this.done=!0,!0):(this.deleteCoordinates(t),this.drawVertical(t,o),!0):(this.done=!0,!0)},t.prototype.drawNotFlipped=function(t,o){return 0===this.row?this.checkBelowHorizontal(t,-1)?(this.done=!0,!1):(this.deleteCoordinates(t),this.drawHorizontal(t,o),!0):this.row<21?this.checkBelowHorizontal(t,-1)?(this.done=!0,!0):(this.deleteCoordinates(t),this.drawHorizontal(t,o),!0):(this.done=!0,!0)},t}();o.IPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(5),r=e(4),s=e(3),h=e(2),n=e(1),c=function(){function t(t){this.originalColor="rgb(66, 66, 66)",this.initP(t)}return t.prototype.printBoard=function(t){for(var o=0;o<20;++o){for(var e="",i=0;i<10;++i)t[o][i].empty?e+="x":e+="o";console.log(e)}},t.prototype.initP=function(t){this.started=!1,this.speiceList=[],this.generateType(),this.player.row=-1,this.firstTime=!0,this.checkBoardForRows(t)},t.prototype.leftPress=function(t,o){this.player.leftPress(t,o),this.draw(t,o)},t.prototype.rightPress=function(t,o){this.player.rightPress(t,o),this.draw(t,o)},t.prototype.upPress=function(t,o){this.player.upPress(t,o),this.draw(t,o)},t.prototype.downPress=function(t,o){this.player.downPress(t),this.draw(t,o)},t.prototype.generateType=function(){switch(Math.floor(5*Math.random()+1)){case 1:this.kind="I";break;case 2:this.kind="0";break;case 3:this.kind="X";break;case 4:this.kind="J";break;case 5:this.kind="L"}"I"===this.kind?this.player=new i.IPiece:"0"===this.kind?this.player=new r.OPiece:"X"===this.kind?this.player=new s.XPiece:"J"===this.kind?this.player=new h.JPiece:"L"===this.kind&&(this.player=new n.LPiece)},t.prototype.draw=function(t,o){this.player.done&&(this.player=new i.IPiece);var e=this.player.draw(t,o);return this.player.done&&(this.player=new i.IPiece,this.initP(t)),e},t.prototype.decr=function(){this.player.decr()},t.prototype.checkBoardForRows=function(t){for(var o=19;o>-1;o--){for(var e=!0,i=9;i>-1;i--)t[o][i].empty&&(e=!1);if(e){for(var r=o;r>1;--r)for(var s=0;s<10;++s)t[r][s].empty=t[r-1][s].empty,t[r][s].color=t[r-1][s].color;for(i=0;i<10;i++)t[0][i].empty=!0,t[0][i].color=this.originalColor;this.checkBoardForRows(t)}}},t}();o.TPiece=c},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t,o,e){this.color=t,this.left=o,this.top=e}return t.prototype.draw=function(t,o){t.fillStyle=this.color,t.fillRect(this.left+2+o,this.top+2+60,38,38)},t}();o.Piece=i},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(7),r=e(6),s=function(){function t(){this.canvas=document.querySelector(".myCanvas"),this.backgroundColor="rgb(38, 37, 37)",this.boardmap=[],this.zeroBoard(),this.initBoard(),this.gameInProgress=!0,this.t=new r.TPiece(this.boardmap);var t=this.getCenter();this.left=t-200,this.canvas.addEventListener("touchstart",function(o){var e=this.getTouchPos(this.canvas,o);console.log("Touching"),e.x>t?this.t.rightPress(this.boardmap,this.left):e.x<t&&this.t.leftPress(this.boardmap,this.left)},!1)}return t.prototype.getTouchPos=function(t,o){var e=t.getBoundingClientRect();return{x:o.touches[0].clientX-e.left,y:o.touches[0].clientY-e.top}},t.prototype.getPiece=function(){return this.t},t.prototype.getCenter=function(){return Math.floor(this.width/2)},t.prototype.keyPress=function(t){"38"==t.keyCode?this.t.upPress(this.boardmap,this.left):"40"==t.keyCode?this.t.downPress(this.boardmap,this.left):"37"==t.keyCode?this.t.leftPress(this.boardmap,this.left):"39"==t.keyCode&&this.t.rightPress(this.boardmap,this.left)},t.prototype.decrTime=function(){this.gameInProgress&&(this.t.decr(),this.t.draw(this.boardmap,this.left)||(this.gameInProgress=!1))},t.prototype.zeroBoard=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.width=window.innerWidth,this.height=window.innerHeight,this.ctx=this.canvas.getContext("2d")},t.prototype.initBoard=function(){var t=this.getCenter()-200;this.left=t;for(var o=0;o<20;o++){for(var e=[],r=0;r<10;++r){var s=new i.Piece("rgb(66, 66, 66)",40*r,40*o);s.empty=!0,e.push(s)}this.boardmap.push(e),e=[]}},t.prototype.drawBoard=function(){this.zeroBoard(),this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height);var t=this.getCenter()-200;this.left=t,this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.lineWidth=1,this.ctx.strokeRect(t,60,400,800),this.drawLines(t);for(var o=0,e=this.boardmap;o<e.length;o++)for(var i=0,r=e[o];i<r.length;i++){r[i].draw(this.ctx,t)}},t.prototype.drawLines=function(t){this.ctx.strokeStyle="rgb(91, 89, 89)";for(var o=40;o<400;o+=40)this.ctx.moveTo(t+o,60),this.ctx.lineTo(t+o,860),this.ctx.stroke();for(o=60;o<860;o+=40)this.ctx.moveTo(t,o),this.ctx.lineTo(t+400,o),this.ctx.stroke()},t}();o.Board=s},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=new(e(8).Board);window.setInterval(function(){i.drawBoard()},20),window.setInterval(function(){i.decrTime()},400);window.addEventListener("keydown",function(t){i.keyPress(t)},!1),window.addEventListener("gamepadconnected",function(t){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",t.gamepad.index,t.gamepad.id,t.gamepad.buttons.length,t.gamepad.axes.length)}),window.onresize=function(t){i.drawBoard()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BsYXllcnMvQ29vcmRpbmF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGxheWVycy9MUGllY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BsYXllcnMvSlBpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QbGF5ZXJzL1hQaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGxheWVycy9PUGllY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BsYXllcnMvSVBpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QaWVjZS9UUGllY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BpZWNlL1BpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9Cb2FyZC9Cb2FyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDb29yZGluYXRlIiwidGhpcyIsInJvdyIsImNvbCIsIkNvb3JkaW5hdGVfMSIsIkxQaWVjZSIsIm9yaWdpbmFsQ29sb3IiLCJjb29yZGluYXRlcyIsInNldGNvbG9yIiwiZG9uZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInN0YXRlIiwibWF0cml4T25lIiwibWF0cml4VHdvIiwibWF0cml4VGhyZWUiLCJtYXRyaXhGb3VyIiwibGVmdFByZXNzIiwiYm9hcmRtYXAiLCJsZWZ0IiwiY2hlY2tCZWxvd1dyYXBwZXIiLCJyaWdodFByZXNzIiwidXBQcmVzcyIsIl90aGlzIiwiZGVsZXRlZFBvaW50cyIsImRlbGV0ZUNvb3JkaW5hdGVzIiwib2xkc3RhdGUiLCJpbmNyZW1lbnRTdGF0ZSIsImZvckVhY2giLCJwb2ludCIsImRyYXdUb1BvaW50IiwiZG93blByZXNzIiwiZHJhdyIsImRyYXdNYXRyaXhXcmFwcGVyIiwiY2hlY2tCZWxvdyIsImRyYXdNYXRyaXgiLCJtYXRyaXgiLCJqIiwiY2hlY2tJZkZpdHMiLCJsZW5ndGgiLCJlbXB0eSIsImRlY3IiLCJjb2xvciIsIkNvcmQiLCJwdXNoIiwiY29uc29sZSIsImxvZyIsImRlbGV0ZVRvUG9pbnQiLCJ4IiwieSIsInRlbXAiLCJjdXJyZW50IiwicG9wIiwiSlBpZWNlIiwiaW5wdXRNYXRyaXgiLCJkcmF3Q3VycmVudCIsImNoZWNrUmlnaHQiLCJtb2RpZmllciIsInJldHVyblZhbCIsImNoZWNrUmlnaHRPbmUiLCJjaGVja1JpZ2h0VHdvIiwiY2hlY2tSaWdodFRocmVlIiwiY2hlY2tSaWdodEZvdXIiLCJibG9ja2VkIiwiY2hlY2tMZWZ0IiwiY2hlY2tMZWZ0T25lIiwiY2hlY2tMZWZ0VHdvIiwiY2hlY2tMZWZ0VGhyZWUiLCJjaGVja0xlZnRGb3VyIiwiY2hlY2tCZWxvd09uZSIsImNoZWNrQmVsb3dUd28iLCJjaGVja0JlbG93VGhyZWUiLCJjaGVja0JlbG93Rm91ciIsInByZXZTdGF0ZSIsIlhQaWVjZSIsImZsaXBwZWQiLCJkcmF3U2VsZiIsImRyYXdTZWxmRmxpcHBlZCIsImRyYXdTZWxmUmlnaHQiLCJkcmF3U2VsZkxlZnQiLCJjaGVja0xlZnRVcCIsImNoZWNrTGVmdFJpZ2h0IiwiY2hlY2tMZWZ0RG93biIsImNoZWNrTGVmdExlZnQiLCJjaGVja1JpZ2h0VXAiLCJjaGVja1JpZ2h0UmlnaHQiLCJjaGVja1JpZ2h0RG93biIsImNoZWNrUmlnaHRMZWZ0IiwiY2hlY2tCZWxvd3VwIiwiY2hlY2tCZWxvd1JpZ2h0IiwiY2hlY2tCZWxvd0Rvd24iLCJjaGVja0JlbG93TGVmdCIsIlRvTGVmdCIsInRvUmlnaHQiLCJ0b0xlZnQiLCJiZWxvdyIsIk9QaWVjZSIsImRyYXdGaXJzdFNlbGYiLCJkcmF3RmxpcHBlZCIsImRyYXdOb3RGbGlwcGVkIiwiSVBpZWNlIiwiY2hlY2tMZWZ0VmVydGljYWwiLCJjaGVja0xlZnRIb3Jpem9udGFsIiwiY2hlY2tSaWdodFZlcnRpY2FsIiwiY2hlY2tSaWdodEhvcml6b250YWwiLCJjaGVja1ZlcnRpY2FsVG9Ib3Jpem9udGFsIiwiY2hlY2tIb3Jpem9udGFsVG9WZXJ0aWNhbCIsImNoZWNrQmVsb3dWZXJ0aWNhbCIsImNoZWNrQmVsb3dIb3Jpem9udGFsIiwiZHJhd1ZlcnRpY2FsIiwiZHJhd0hvcml6b250YWwiLCJJUGllY2VfMSIsIk9QaWVjZV8xIiwiWFBpZWNlXzEiLCJKUGllY2VfMSIsIkxQaWVjZV8xIiwiVFBpZWNlIiwiaW5pdFAiLCJwcmludEJvYXJkIiwic3RyaW5nIiwic3RhcnRlZCIsInNwZWljZUxpc3QiLCJnZW5lcmF0ZVR5cGUiLCJwbGF5ZXIiLCJmaXJzdFRpbWUiLCJjaGVja0JvYXJkRm9yUm93cyIsImtpbmQiLCJyZXR1cm52YWwiLCJoZWlnaHQiLCJOZWVkVG9EZWxldGUiLCJ3aWR0aCIsImsiLCJQaWVjZSIsInRvcCIsImN0eCIsIm9mZnNldCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiUGllY2VfMSIsIlRQaWVjZV8xIiwiQm9hcmQiLCJjYW52YXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ6ZXJvQm9hcmQiLCJpbml0Qm9hcmQiLCJnYW1lSW5Qcm9ncmVzcyIsImNlbnRlciIsImdldENlbnRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwibW91c2VQb3MiLCJnZXRUb3VjaFBvcyIsImNhbnZhc0RvbSIsInRvdWNoRXZlbnQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiZ2V0UGllY2UiLCJrZXlQcmVzcyIsImtleUNvZGUiLCJkZWNyVGltZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImdldENvbnRleHQiLCJtaWRkbGVMaXN0IiwicHVzaG1lUGVhY2UiLCJkcmF3Qm9hcmQiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZVJlY3QiLCJkcmF3TGluZXMiLCJfaSIsIl9hIiwiX2IiLCJ0b3BlbnRyeV8xIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiYm9hcmQiLCJzZXRJbnRlcnZhbCIsImdhbWVwYWQiLCJpbmRleCIsImlkIiwiYnV0dG9ucyIsImF4ZXMiLCJvbnJlc2l6ZSIsImV2ZW50Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFq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QThDLE9BQUFqSyxFQUFBb0gsRUFKQSxJQUtBdkksS0FBQXNJLElBQUErQyxPQUFBbEssRUFBQW9ILEVBSkEsS0FLQXZJLEtBQUFzSSxJQUFBZ0QsU0FFQSxJQUFBL0MsRUFBQSxHQUE2QkEsRUFBQSxJQUFtQkEsR0FBQSxHQUNoRHZJLEtBQUFzSSxJQUFBOEMsT0FBQWpLLEVBQUFvSCxHQUNBdkksS0FBQXNJLElBQUErQyxPQUFBbEssRUFBQSxJQUFBb0gsR0FDQXZJLEtBQUFzSSxJQUFBZ0QsVUFHQTFDLEVBN0hBLEdBK0hBL0ssRUFBQStLLHNDQ2xJQW5LLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENtQixPQUFBLElBQzlDLElBQ0F1TSxFQUFBLElBREE1TixFQUFBLEdBQ0FpTCxPQVVBeUIsT0FBQW1CLFlBVEEsV0FFQUQsRUFBQVosYUFPQSxJQUNBTixPQUFBbUIsWUFMQSxXQUNBRCxFQUFBbkIsWUFJQSxLQUNBQyxPQUFBZixpQkFBQSxVQUlBLFNBQUFDLEdBQ0FnQyxFQUFBckIsU0FBQVgsS0FMQSxHQUNBYyxPQUFBZixpQkFBQSw0QkFBQUMsR0FDQTFHLFFBQUFDLElBQUEsMERBQUF5RyxFQUFBa0MsUUFBQUMsTUFBQW5DLEVBQUFrQyxRQUFBRSxHQUFBcEMsRUFBQWtDLFFBQUFHLFFBQUFySixPQUFBZ0gsRUFBQWtDLFFBQUFJLEtBQUF0SixVQUtBOEgsT0FBQXlCLFNBQUEsU0FBQUMsR0FDQVIsRUFBQVoiLCJmaWxlIjoiLi9idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb29yZGluYXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvb3JkaW5hdGUociwgYykge1xuICAgICAgICB0aGlzLnJvdyA9IHI7XG4gICAgICAgIHRoaXMuY29sID0gYztcbiAgICB9XG4gICAgcmV0dXJuIENvb3JkaW5hdGU7XG59KCkpO1xuZXhwb3J0cy5Db29yZGluYXRlID0gQ29vcmRpbmF0ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvb3JkaW5hdGVfMSA9IHJlcXVpcmUoXCIuL0Nvb3JkaW5hdGVcIik7XG52YXIgTFBpZWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExQaWVjZSgpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IFtdO1xuICAgICAgICB0aGlzLnNldGNvbG9yKCk7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDIpO1xuICAgICAgICB0aGlzLnN0YXRlID0gMzsgLy9NYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpKjQpICsxKTtcbiAgICAgICAgdGhpcy5tYXRyaXhPbmUgPVxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAxLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMSwgMF0sXG4gICAgICAgICAgICAgICAgWzAsIDEsIDFdXG4gICAgICAgICAgICBdO1xuICAgICAgICB0aGlzLm1hdHJpeFR3byA9XG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDAsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMCwgMF1cbiAgICAgICAgICAgIF07XG4gICAgICAgIHRoaXMubWF0cml4VGhyZWUgPVxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAxLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMSwgMF0sXG4gICAgICAgICAgICAgICAgWzAsIDEsIDBdXG4gICAgICAgICAgICBdO1xuICAgICAgICB0aGlzLm1hdHJpeEZvdXIgPVxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAwLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMCwgMV0sXG4gICAgICAgICAgICAgICAgWzEsIDEsIDFdXG4gICAgICAgICAgICBdO1xuICAgIH1cbiAgICA7XG4gICAgTFBpZWNlLnByb3RvdHlwZS5sZWZ0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd1dyYXBwZXIoYm9hcmRtYXAsIHRoaXMucm93LCB0aGlzLmNvbCAtIDEpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbC0tO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMUGllY2UucHJvdG90eXBlLnJpZ2h0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd1dyYXBwZXIoYm9hcmRtYXAsIHRoaXMucm93LCB0aGlzLmNvbCArIDEpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMUGllY2UucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGRlbGV0ZWRQb2ludHMgPSB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgdmFyIG9sZHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdGhpcy5pbmNyZW1lbnRTdGF0ZSgpO1xuICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93V3JhcHBlcihib2FyZG1hcCwgdGhpcy5yb3csIHRoaXMuY29sKSkge1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IG9sZHN0YXRlO1xuICAgICAgICAgICAgZGVsZXRlZFBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBwb2ludCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTFBpZWNlLnByb3RvdHlwZS5kb3duUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd1dyYXBwZXIoYm9hcmRtYXAsIHRoaXMucm93ICsgMSwgdGhpcy5jb2wpKSB7XG4gICAgICAgICAgICB0aGlzLnJvdysrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMUGllY2UucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMucm93ID4gMTcpIHtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0JlbG93V3JhcHBlcihib2FyZG1hcCwgdGhpcy5yb3csIHRoaXMuY29sKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd01hdHJpeFdyYXBwZXIoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBMUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3dXcmFwcGVyID0gZnVuY3Rpb24gKGJvYXJkbWFwLCByb3csIGNvbCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGVja0JlbG93KGJvYXJkbWFwLCB0aGlzLm1hdHJpeE9uZSwgcm93LCBjb2wpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoZWNrQmVsb3coYm9hcmRtYXAsIHRoaXMubWF0cml4VHdvLCByb3csIGNvbCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tCZWxvdyhib2FyZG1hcCwgdGhpcy5tYXRyaXhUaHJlZSwgcm93LCBjb2wpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoZWNrQmVsb3coYm9hcmRtYXAsIHRoaXMubWF0cml4Rm91ciwgcm93LCBjb2wpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMUGllY2UucHJvdG90eXBlLmRyYXdNYXRyaXggPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1hdHJpeCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAzOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0cml4W2ldW2pdID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIGksIHRoaXMuY29sICsgaikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTFBpZWNlLnByb3RvdHlwZS5kcmF3TWF0cml4V3JhcHBlciA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdNYXRyaXgoYm9hcmRtYXAsIHRoaXMubWF0cml4T25lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdNYXRyaXgoYm9hcmRtYXAsIHRoaXMubWF0cml4VHdvKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdNYXRyaXgoYm9hcmRtYXAsIHRoaXMubWF0cml4VGhyZWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd01hdHJpeChib2FyZG1hcCwgdGhpcy5tYXRyaXhGb3VyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgTFBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtYXRyaXgsIHJvdywgY29sKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZWxldGVkUG9pbnRzID0gdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrSWZGaXRzKHJvdywgY29sLCBib2FyZG1hcCwgbWF0cml4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWxldGVkUG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIHBvaW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMUGllY2UucHJvdG90eXBlLmNoZWNrSWZGaXRzID0gZnVuY3Rpb24gKHJvdywgY29sLCBib2FyZG1hcCwgbWF0cml4KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0cml4Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1hdHJpeFtpXS5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGlmIChtYXRyaXhbaV1bal0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFib2FyZG1hcFtyb3cgKyBpXSB8fCAhYm9hcmRtYXBbcm93ICsgaV1bY29sICsgal0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWJvYXJkbWFwW3JvdyArIGldW2NvbCArIGpdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBMUGllY2UucHJvdG90eXBlLmRlY3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucm93ID0gdGhpcy5yb3cgKyAxO1xuICAgIH07XG4gICAgTFBpZWNlLnByb3RvdHlwZS5zZXRjb2xvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMSk7XG4gICAgICAgIHN3aXRjaCAoY29sb3IpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTEsIDk4LCAyMzcpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDE5LCAyMzcsIDExKVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDksIDcyLCA5MClcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ1LCAyNTUsIDY2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYig2NiwgMjU1LCAyNDgpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgNjYsIDE3NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCAxNTQsIDY2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMUGllY2UucHJvdG90eXBlLmRyYXdUb1BvaW50ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBDb3JkKSB7XG4gICAgICAgIGlmIChib2FyZG1hcFtDb3JkLnJvd10gJiYgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXSkge1xuICAgICAgICAgICAgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgICAgICBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVzLnB1c2gobmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKENvcmQucm93LCBDb3JkLmNvbCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcnlpbmcgdG8gZHJhdyBzb21ldGhpbmcgdGhhdCBkb2Vzbid0IGV4aXN0cyBhdCBib2FyZG1hcFtcIiArIENvcmQucm93ICsgXCJdW1wiICsgQ29yZC5jb2wgKyBcIl1cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExQaWVjZS5wcm90b3R5cGUuZGVsZXRlVG9Qb2ludCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgeCwgeSkge1xuICAgICAgICBpZiAoYm9hcmRtYXBbeF0gJiYgYm9hcmRtYXBbeF1beV0pIHtcbiAgICAgICAgICAgIGJvYXJkbWFwW3hdW3ldLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICAgICAgYm9hcmRtYXBbeF1beV0uZW1wdHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcnlpbmcgdG8gZGVsZXRlIHNvbWV0aGluZyB0aGF0IGRvZXNuJ3QgZXhpc3RzIGF0IGJvYXJkbWFwW1wiICsgeCArIFwiXVtcIiArIHkgKyBcIl1cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExQaWVjZS5wcm90b3R5cGUuZGVsZXRlQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgdmFyIHRlbXAgPSBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmNvb3JkaW5hdGVzLnBvcCgpO1xuICAgICAgICAgICAgdGVtcC5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgdGhpcy5kZWxldGVUb1BvaW50KGJvYXJkbWFwLCBjdXJyZW50LnJvdywgY3VycmVudC5jb2wpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgIH07XG4gICAgTFBpZWNlLnByb3RvdHlwZS5pbmNyZW1lbnRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPCA0KSB7XG4gICAgICAgICAgICArK3RoaXMuc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExQaWVjZTtcbn0oKSk7XG5leHBvcnRzLkxQaWVjZSA9IExQaWVjZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvb3JkaW5hdGVfMSA9IHJlcXVpcmUoXCIuL0Nvb3JkaW5hdGVcIik7XG52YXIgSlBpZWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEpQaWVjZSgpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IFtdO1xuICAgICAgICB0aGlzLnNldGNvbG9yKCk7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDIpO1xuICAgICAgICB0aGlzLnN0YXRlID0gMzsgLy9NYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpKjQpICsxKTtcbiAgICAgICAgdGhpcy5tYXRyaXhPbmUgPVxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAxLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMSwgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDEsIDBdLFxuICAgICAgICAgICAgICAgIFswLCAwLCAwXVxuICAgICAgICAgICAgXTtcbiAgICAgICAgdGhpcy5tYXRyaXhUd28gPVxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAwLCAwXSxcbiAgICAgICAgICAgICAgICBbMSwgMCwgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDEsIDFdLFxuICAgICAgICAgICAgICAgIFswLCAwLCAwXVxuICAgICAgICAgICAgXTtcbiAgICAgICAgdGhpcy5tYXRyaXhUaHJlZSA9XG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDEsIDFdLFxuICAgICAgICAgICAgICAgIFswLCAxLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMSwgMF0sXG4gICAgICAgICAgICAgICAgWzAsIDAsIDBdXG4gICAgICAgICAgICBdO1xuICAgICAgICB0aGlzLm1hdHJpeEZvdXIgPVxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAwLCAwXSxcbiAgICAgICAgICAgICAgICBbMSwgMSwgMV0sXG4gICAgICAgICAgICAgICAgWzAsIDAsIDFdLFxuICAgICAgICAgICAgICAgIFswLCAwLCAwXVxuICAgICAgICAgICAgXTtcbiAgICB9XG4gICAgO1xuICAgIEpQaWVjZS5wcm90b3R5cGUuY2hlY2tJZkZpdHMgPSBmdW5jdGlvbiAocm93LCBib2FyZG1hcCkge1xuICAgICAgICB2YXIgaW5wdXRNYXRyaXggPSBbXTtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaW5wdXRNYXRyaXggPSB0aGlzLm1hdHJpeE9uZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpbnB1dE1hdHJpeCA9IHRoaXMubWF0cml4VHdvO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlucHV0TWF0cml4ID0gdGhpcy5tYXRyaXhUaHJlZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpbnB1dE1hdHJpeCA9IHRoaXMubWF0cml4Rm91cjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAzOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRNYXRyaXhbaV1bal0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFib2FyZG1hcFtyb3cgKyBpXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbCArIGpdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFib2FyZG1hcFtyb3cgKyBpXVt0aGlzLmNvbCArIGpdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLyogICAyICAgICAgICAgIDMgICAgICAgICAgIDQgICAgICAgICAgIDFcbiAgICAgICAgIFsgXVsgXVsgXSA9IFsgXVsqXVsqXSA9IFsgXVsgXVsgXSA9IFsgXVsqXVsgXVxuICAgICAgICAgWypdWyBdWyBdID0gWyBdWypdWyBdID0gWypdWypdWypdID0gWyBdWypdWyBdXG4gICAgICAgICBbKl1bKl1bKl0gPSBbIF1bKl1bIF0gPSBbIF1bIF1bKl0gPSBbKl1bKl1bIF1cbiAgICAgICAgIFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXVxuICAgICAgXG4gICAgICAgICAqL1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAxOCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvdyhib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0N1cnJlbnQoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93KGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3Q3VycmVudChib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3coYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdDdXJyZW50KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAxOCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvdyhib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0N1cnJlbnQoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmRyYXdDdXJyZW50ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd01hdHJpeChib2FyZG1hcCwgdGhpcy5tYXRyaXhPbmUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd01hdHJpeChib2FyZG1hcCwgdGhpcy5tYXRyaXhUd28pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd01hdHJpeChib2FyZG1hcCwgdGhpcy5tYXRyaXhUaHJlZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TWF0cml4KGJvYXJkbWFwLCB0aGlzLm1hdHJpeEZvdXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmRyYXdNYXRyaXggPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1hdHJpeCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAzOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0cml4W2ldW2pdID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIGksIHRoaXMuY29sICsgaikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja1JpZ2h0ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKiAgIDIgICAgICAgICAgMyAgICAgICAgICAgNCAgICAgICAgICAgMVxuICAgICAgICBbIF1bIF1bIF0gPSBbIF1bKl1bKl0gPSBbIF1bIF1bIF0gPSBbIF1bKl1bIF1cbiAgICAgICAgWypdWyBdWyBdID0gWyBdWypdWyBdID0gWypdWypdWypdID0gWyBdWypdWyBdXG4gICAgICAgIFsqXVsqXVsqXSA9IFsgXVsqXVsgXSA9IFsgXVsgXVsqXSA9IFsqXVsqXVsgXVxuICAgICAgICBbIF1bIF1bIF0gPSBbIF1bIF1bIF0gPSBbIF1bIF1bIF0gPSBbIF1bIF1bIF1cblxuICAgICAgICAqL1xuICAgICAgICB2YXIgcmV0dXJuVmFsID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHRoaXMuY2hlY2tSaWdodE9uZShib2FyZG1hcCwgbW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHRoaXMuY2hlY2tSaWdodFR3byhib2FyZG1hcCwgbW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHRoaXMuY2hlY2tSaWdodFRocmVlKGJvYXJkbWFwLCBtb2RpZmllcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gdGhpcy5jaGVja1JpZ2h0Rm91cihib2FyZG1hcCwgbW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5WYWw7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHRGb3VyID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAzXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgM10pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDNdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgKyAzXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJsb2NrZWQ7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHRUaHJlZSA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgdmFyIGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgLypFeGlzdCBjaGVja3MqL1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDNdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAyXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgMl0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKioqKioqKioqKioqL1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDNdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja1JpZ2h0VHdvID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKkV4aXN0IGNoZWNrcyovXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDFdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDJdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgM10pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKioqKioqKioqKioqICovXG4gICAgICAgIHZhciBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgKyAzXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJsb2NrZWQ7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHRPbmUgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qICAgMiAgICAgICAgICAzICAgICAgICAgICA0ICAgICAgICAgICAxXG4gIFsgXVsgXVsgXSA9IFsgXVsqXVsqXSA9IFsgXVsgXVsgXSA9IFsgXVsqXVsgXVxuICBbKl1bIF1bIF0gPSBbIF1bKl1bIF0gPSBbKl1bKl1bKl0gPSBbIF1bKl1bIF1cbiAgWypdWypdWypdID0gWyBdWypdWyBdID0gWyBdWyBdWypdID0gWypdWypdWyBdXG4gIFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXVxuXG4gICovXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddIHx8ICFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAyXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAxXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDJdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDJdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgMl0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJsb2NrZWQ7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmNoZWNrTGVmdCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgLyogICAyICAgICAgICAgIDMgICAgICAgICAgIDQgICAgICAgICAgIDFcbiAgICAgICAgWyBdWyBdWyBdID0gWyBdWypdWypdID0gWyBdWyBdWyBdID0gWyBdWypdWyBdXG4gICAgICAgIFsqXVsgXVsgXSA9IFsgXVsqXVsgXSA9IFsqXVsqXVsqXSA9IFsgXVsqXVsgXVxuICAgICAgICBbKl1bKl1bKl0gPSBbIF1bKl1bIF0gPSBbIF1bIF1bKl0gPSBbKl1bKl1bIF1cbiAgICAgICAgWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdXG5cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIHJldHVyblZhbCA9IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSB0aGlzLmNoZWNrTGVmdE9uZShib2FyZG1hcCwgbW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHRoaXMuY2hlY2tMZWZ0VHdvKGJvYXJkbWFwLCBtb2RpZmllcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gdGhpcy5jaGVja0xlZnRUaHJlZShib2FyZG1hcCwgbW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHRoaXMuY2hlY2tMZWZ0Rm91cihib2FyZG1hcCwgbW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5WYWw7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmNoZWNrTGVmdEZvdXIgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qICAgMiAgICAgICAgICAzICAgICAgICAgICA0ICAgICAgICAgICAxXG4gICAgICAgWyBdWyBdWyBdID0gWyBdWypdWypdID0gWyBdWyBdWyBdID0gWyBdWypdWyBdXG4gICAgICAgWypdWyBdWyBdID0gWyBdWypdWyBdID0gWypdWypdWypdID0gWyBdWypdWyBdXG4gICAgICAgWypdWypdWypdID0gWyBdWypdWyBdID0gWyBdWyBdWypdID0gWypdWypdWyBdXG4gICAgICAgWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdXG5cbiAgICAgICAqL1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgLSAxXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCArIDFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImVtcHR5OlwiK2JvYXJkbWFwW3RoaXMucm93KzFdW3RoaXMuY29sLTFdLmVtcHR5KTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJsb2NrZWQ7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmNoZWNrTGVmdFRocmVlID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2xdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDJdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxvY2tlZDtcbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuY2hlY2tMZWZ0VHdvID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgLSAxXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCAtIDFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgLSAxXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnRPbmUgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIHZhciBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbF0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMl0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgLSAxXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgLSAxXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJsb2NrZWQ7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3cgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qICAgMiAgICAgICAgICAzICAgICAgICAgICA0ICAgICAgICAgICAxXG4gICAgICAgIFsgXVsgXVsgXSA9IFsgXVsqXVsqXSA9IFsgXVsgXVsgXSA9IFsgXVsqXVsgXVxuICAgICAgICBbKl1bIF1bIF0gPSBbIF1bKl1bIF0gPSBbKl1bKl1bKl0gPSBbIF1bKl1bIF1cbiAgICAgICAgWypdWypdWypdID0gWyBdWypdWyBdID0gWyBdWyBdWypdID0gWyBdWypdWyBdXG4gICAgICAgIFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsqXVsqXVsgXVxuXG4gICAgICAgICovXG4gICAgICAgIHZhciByZXR1cm5WYWwgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gdGhpcy5jaGVja0JlbG93T25lKGJvYXJkbWFwLCBtb2RpZmllcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gdGhpcy5jaGVja0JlbG93VHdvKGJvYXJkbWFwLCBtb2RpZmllcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gdGhpcy5jaGVja0JlbG93VGhyZWUoYm9hcmRtYXAsIG1vZGlmaWVyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSB0aGlzLmNoZWNrQmVsb3dGb3VyKGJvYXJkbWFwLCBtb2RpZmllcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuY2hlY2tCZWxvd0ZvdXIgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qICAgMiAgICAgICAgICAzICAgICAgICAgICA0ICAgICAgICAgICAxXG4gICAgWyBdWyBdWyBdID0gWyBdWypdWypdID0gWyBdWyBdWyBdID0gWyBdWypdWyBdXG4gICAgWypdWyBdWyBdID0gWyBdWypdWyBdID0gWypdWypdWypdID0gWyBdWypdWyBdXG4gICAgWypdWypdWypdID0gWyBdWypdWyBdID0gWyBdWyBdWypdID0gWypdWypdWyBdXG4gICAgWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdXG5cbiAgICAqL1xuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMSArIG1vZGlmaWVyXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAxICsgbW9kaWZpZXJdW3RoaXMuY29sXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAxICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMV0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMl0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDJdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMSArIG1vZGlmaWVyXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93VGhyZWUgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qICAgMiAgICAgICAgICAzICAgICAgICAgICA0ICAgICAgICAgICAxXG4gICAgICAgIFsgXVsgXVsgXSA9IFsgXVsqXVsqXSA9IFsgXVsgXVsgXSA9IFsgXVsqXVsgXVxuICAgICAgICBbKl1bIF1bIF0gPSBbIF1bKl1bIF0gPSBbKl1bKl1bKl0gPSBbIF1bKl1bIF1cbiAgICAgICAgWypdWypdWypdID0gWyBdWypdWyBdID0gWyBdWyBdWypdID0gWypdWypdWyBdXG4gICAgICAgIFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXVxuXG4gICAgICAgICovXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAxXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyBtb2RpZmllcl0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMl0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJsb2NrZWQ7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3dPbmUgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qICAgMiAgICAgICAgICAzICAgICAgICAgICA0ICAgICAgICAgICAxXG4gICAgICAgICAgIFsgXVsgXVsgXSA9IFsgXVsqXVsqXSA9IFsgXVsgXVsgXSA9IFsgXVsqXVsgXVxuICAgICAgICAgICBbKl1bIF1bIF0gPSBbIF1bKl1bIF0gPSBbKl1bKl1bKl0gPSBbIF1bKl1bIF1cbiAgICAgICAgICAgWypdWypdWypdID0gWyBdWypdWyBdID0gWyBdWyBdWypdID0gWyBdWypdWyBdXG4gICAgICAgICAgIFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsqXVsqXVsgXVxuICAgXG4gICAgICAgICAgICovXG4gICAgICAgIHZhciBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2xdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93VHdvID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMV0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDJdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5kZWNyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJvdyA9IHRoaXMucm93ICsgMTtcbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuc2V0Y29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb2xvciA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDEpO1xuICAgICAgICBzd2l0Y2ggKGNvbG9yKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDExLCA5OCwgMjM3KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxOSwgMjM3LCAxMSlcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ5LCA3MiwgOTApXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0NSwgMjU1LCA2NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoNjYsIDI1NSwgMjQ4KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDY2LCAxNzYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgMTU0LCA2NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5pbmNyZW1lbnRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPCA0KSB7XG4gICAgICAgICAgICArK3RoaXMuc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5kcmF3VG9Qb2ludCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgQ29yZCkge1xuICAgICAgICBpZiAoYm9hcmRtYXBbQ29yZC5yb3ddICYmIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0pIHtcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICAgICAgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlcy5wdXNoKG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZShDb3JkLnJvdywgQ29yZC5jb2wpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRyYXcgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdHMgYXQgYm9hcmRtYXBbXCIgKyBDb3JkLnJvdyArIFwiXVtcIiArIENvcmQuY29sICsgXCJdXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmRlbGV0ZVRvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIHgsIHkpIHtcbiAgICAgICAgaWYgKGJvYXJkbWFwW3hdICYmIGJvYXJkbWFwW3hdW3ldKSB7XG4gICAgICAgICAgICBib2FyZG1hcFt4XVt5XS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgIGJvYXJkbWFwW3hdW3ldLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRlbGV0ZSBzb21ldGhpbmcgdGhhdCBkb2Vzbid0IGV4aXN0cyBhdCBib2FyZG1hcFtcIiArIHggKyBcIl1bXCIgKyB5ICsgXCJdXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmRlbGV0ZUNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5jb29yZGluYXRlcy5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlVG9Qb2ludChib2FyZG1hcCwgY3VycmVudC5yb3csIGN1cnJlbnQuY29sKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5sZWZ0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLyogICAyICAgICAgICAgIDMgICAgICAgICAgIDQgICAgICAgICAgIDFcbiAgICAgICAgIFsgXVsgXVsgXSA9IFsgXVsqXVsqXSA9IFsgXVsgXVsgXSA9IFsgXVsqXVsgXVxuICAgICAgICAgWypdWyBdWyBdID0gWyBdWypdWyBdID0gWypdWypdWypdID0gWyBdWypdWyBdXG4gICAgICAgICBbKl1bKl1bKl0gPSBbIF1bKl1bIF0gPSBbIF1bIF1bKl0gPSBbKl1bKl1bIF1cbiAgICAgICAgIFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXVxuIFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrTGVmdChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgdGhpcy5jb2wtLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICB9XG4gICAgICAgIC8vdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLnJpZ2h0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrUmlnaHQoYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHRoaXMuY29sKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS51cFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICB2YXIgcHJldlN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdGhpcy5pbmNyZW1lbnRTdGF0ZSgpO1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tJZkZpdHModGhpcy5yb3csIGJvYXJkbWFwKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHByZXZTdGF0ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5kb3duUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrSWZGaXRzKHRoaXMucm93ICsgMSwgYm9hcmRtYXApKSB7XG4gICAgICAgICAgICB0aGlzLnJvdysrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSlBpZWNlO1xufSgpKTtcbmV4cG9ydHMuSlBpZWNlID0gSlBpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29vcmRpbmF0ZV8xID0gcmVxdWlyZShcIi4vQ29vcmRpbmF0ZVwiKTtcbi8vIGV4cG9ydCBjbGFzcyBjb29yZGluYXRle1xuLy8gICAgIHJvdzpudW1iZXI7XG4vLyAgICAgY29sOm51bWJlcjtcbi8vICAgICBjb25zdHJ1Y3RvcihyOm51bWJlcixjOm51bWJlcil7XG4vLyAgICAgICAgIHRoaXMucm93ID0gcjtcbi8vICAgICAgICAgdGhpcy5jb2wgPSBjO1xuLy8gICAgIH1cbi8vIH1cbnZhciBYUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWFBpZWNlKCkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHRoaXMuZmxpcHBlZCA9IE1hdGgucmFuZG9tKCkgPCAwLjU7XG4gICAgICAgIHRoaXMuc2V0Y29sb3IoKTtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMik7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAxOyAvL01hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkqNCkgKzEpO1xuICAgICAgICAvLyAgY29uc29sZS5sb2coXCJDcmVhdGluZyBvYmplY3Q6IGNvbDpcIit0aGlzLmNvbCk7XG4gICAgfVxuICAgIFhQaWVjZS5wcm90b3R5cGUuaW5jcmVtZW50U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlIDwgNCkge1xuICAgICAgICAgICAgKyt0aGlzLnN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuZHJhd1RvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIENvcmQpIHtcbiAgICAgICAgaWYgKGJvYXJkbWFwW0NvcmQucm93XSAmJiBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdKSB7XG4gICAgICAgICAgICBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXMucHVzaChuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUoQ29yZC5yb3csIENvcmQuY29sKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyeWluZyB0byBkcmF3IHNvbWV0aGluZyB0aGF0IGRvZXNuJ3QgZXhpc3RzIGF0IGJvYXJkbWFwW1wiICsgQ29yZC5yb3cgKyBcIl1bXCIgKyBDb3JkLmNvbCArIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5kZWxldGVUb1BvaW50ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCB4LCB5KSB7XG4gICAgICAgIGlmIChib2FyZG1hcFt4XSAmJiBib2FyZG1hcFt4XVt5XSkge1xuICAgICAgICAgICAgYm9hcmRtYXBbeF1beV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgICAgICBib2FyZG1hcFt4XVt5XS5lbXB0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyeWluZyB0byBkZWxldGUgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdHMgYXQgYm9hcmRtYXBbXCIgKyB4ICsgXCJdW1wiICsgeSArIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5kZWxldGVDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICB3aGlsZSAodGhpcy5jb29yZGluYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuY29vcmRpbmF0ZXMucG9wKCk7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVRvUG9pbnQoYm9hcmRtYXAsIGN1cnJlbnQucm93LCBjdXJyZW50LmNvbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuZHJhd1NlbGYgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLypcbiAgICAgICAgW15dXG4gICAgIFsgXVsgXVsgXVxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3csIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAyKSk7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmRyYXdTZWxmRmxpcHBlZCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvKlxuXG4gICAgICAgWzxdW15dWz5dXG4gICAgICAgICAgW3ZdXG5cbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAxKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMikpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAyLCB0aGlzLmNvbCArIDEpKTtcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuZHJhd1NlbGZSaWdodCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvKlxuICAgICAgICBbXl1cbiAgICAgICAgWzxdWz5dXG4gICAgICAgIFt2XVxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3csIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAyKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDIsIHRoaXMuY29sICsgMSkpO1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5kcmF3U2VsZkxlZnQgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLypcbiAgICAgICAgW15dXG4gICAgIFs8XVs+XVxuICAgICAgICBbdl1cbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93LCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAxKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDIsIHRoaXMuY29sICsgMSkpO1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5sZWZ0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tMZWZ0VXAoYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sID0gLS10aGlzLmNvbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0xlZnRSaWdodChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2wgPSAtLXRoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tMZWZ0RG93bihib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2wgPSAtLXRoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0xlZnRMZWZ0KGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbCA9IC0tdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLnJpZ2h0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgNykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tSaWdodFVwKGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbCA9ICsrdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1JpZ2h0UmlnaHQoYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sID0gKyt0aGlzLmNvbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrUmlnaHREb3duKGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbCA9ICsrdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1JpZ2h0TGVmdChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2wgPSArK3RoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUudXBQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTogLy91cFxuICAgICAgICAgICAgICAgIC8vdHJhbnNmb3JtIHRvIHJpZ2h0XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgOCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6IC8vcmlnaHRcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6IC8vZG93blxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSA0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OiAvL2xlZnRcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5kb3duUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQmVsb3d1cChib2FyZG1hcCwgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnJvdztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxNykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tCZWxvd1JpZ2h0KGJvYXJkbWFwLCAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3RoaXMucm93O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxNykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tCZWxvd0Rvd24oYm9hcmRtYXAsIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrdGhpcy5yb3c7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQmVsb3dMZWZ0KGJvYXJkbWFwLCAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3RoaXMucm93O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnRVcCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgdmFyIFRvTGVmdCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgLSAxXS5lbXB0eSkge1xuICAgICAgICAgICAgVG9MZWZ0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIFRvTGVmdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRvTGVmdDtcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuY2hlY2tSaWdodFVwID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgdG9SaWdodCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAzXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvUmlnaHQ7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHRSaWdodCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgLy8gMyBwb3NzaWJsZSBwb2ludHMgb2YgY29udGFjdFxuICAgICAgICAvKlxuICAgICAgIFteXSA8LSAgdGhpcy5yb3csIHRoaXMuY29sICsgMlxuICAgICAgIFs8XVs+XSA8LSAgdGhpcy5yb3crMSAsIHRoaXMuY29sICszXG4gICAgICAgW3ZdIDwtICB0aGlzLnJvdysyLCB0aGlzLmNvbCArMlxuICAgICAgICovXG4gICAgICAgIHZhciB0b1JpZ2h0ID0gZmFsc2U7XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDNdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvUmlnaHQ7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrTGVmdFJpZ2h0ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgdG9SaWdodCA9IGZhbHNlO1xuICAgICAgICAvLyAzIHBvc3NpYmxlIHBvaW50cyBvZiBjb250YWN0XG4gICAgICAgIC8qXG4gICAgICB0aGlzLnJvdywgdGhpcy5jb2wgLT4gW15dXG4gICAgICB0aGlzLnJvdysxLHRoaXMuY29sLT4gWzxdWz5dXG4gICAgICB0aGlzLnJvdysyLHRoaXMuY29sLT4gW3ZdXG4gICAgICAgKi9cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9SaWdodDtcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuY2hlY2tSaWdodExlZnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qXG4gICAgICAgW15dIC0+IHRoaXMucm93LCB0aGlzLmNvbCsyXG4gICAgWzxdWz5dIC0+IHRoaXMucm93KzEsIHRoaXMuY29sKzJcbiAgICAgICBbdl0gLT4gdGhpcy5yb3crMiwgdGhpcy5jb2wrMlxuICAgICAgICovXG4gICAgICAgIHZhciB0b1JpZ2h0ID0gZmFsc2U7XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDJdKSB7XG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgKyAyXSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvUmlnaHQ7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrTGVmdExlZnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qXG4gICAgIHRoaXMucm93LHRoaXMuY29sLT4gICAgIFteXVxuICAgIHRoaXMucm93KzEsdGhpcy5jb2wgLTFbPF1bPl1cbiAgICAgdGhpcy5yb3crMix0aGlzLmNvbCAgICAgW3ZdXG4gICAgICAgKi9cbiAgICAgICAgdmFyIHRvTGVmdCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvTGVmdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvTGVmdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9MZWZ0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9MZWZ0O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnREb3duID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKlxuICAgICAgICAgICAgVHdvIFBvaW50cyBvZiBFbnRyeVxuICAgICAgICAgICB0aGlzLnJvdysxLHRoaXMuY29sLTEgWzxdW15dWz5dXG4gICAgICAgICAgIHRoaXMucm93KzIsdGhpcy5jb2wgICAgICBbdl1cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIHRvTGVmdCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgLSAxXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9MZWZ0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b0xlZnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b0xlZnQ7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHREb3duID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKlxuICAgICAgICAgVHdvIFBvaW50cyBvZiBFbnRyeVxuICAgICAgICAgIFs8XVteXVs+XSAtPiB0aGlzLnJvdysxLCB0aGlzLmNvbCszXG4gICAgICAgICAgICAgW3ZdICAtPiB0aGlzLnJvdysyLCB0aGlzLmNvbCsyXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdG9SaWdodCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAzXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b1JpZ2h0O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93dXAgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIHZhciBiZWxvdyA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMSArIG1vZGlmaWVyXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJlbG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMSArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICBiZWxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJiZWxvdyA9XCIrYmVsb3cpO1xuICAgICAgICByZXR1cm4gYmVsb3c7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3dEb3duID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgYmVsb3cgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICBiZWxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJlbG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmVsb3c7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3dMZWZ0ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgYmVsb3cgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxICsgbW9kaWZpZXJdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmKCFib2FyZG1hcFt0aGlzLnJvdyszK21vZGlmaWVyXVt0aGlzLmNvbCsxXS5lbXB0eSl7XG4gICAgICAgIC8vICAgICBiZWxvdyA9IHRydWU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgcmV0dXJuIGJlbG93O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93UmlnaHQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIHZhciBiZWxvdyA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICBiZWxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmKCFib2FyZG1hcFt0aGlzLnJvdyszK21vZGlmaWVyXVt0aGlzLmNvbCsxXS5lbXB0eSl7XG4gICAgICAgIC8vICAgICBiZWxvdyA9IHRydWU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgcmV0dXJuIGJlbG93O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIC8vIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCwwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAxOCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd3VwKGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE3ICYmIHRoaXMuY2hlY2tCZWxvd1JpZ2h0KGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd1JpZ2h0KGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2VsZlJpZ2h0KGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAxNykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTcgJiYgdGhpcy5jaGVja0JlbG93TGVmdChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3dMZWZ0KGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2VsZkxlZnQoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDE3KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93RG93bihib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5kZWxldGVTZWxmRmxpcHBlZChib2FyZG1hcCwxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NlbGZGbGlwcGVkKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuZGVjciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yb3cgPSB0aGlzLnJvdyArIDE7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLnNldGNvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29sb3IgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAxKTtcbiAgICAgICAgc3dpdGNoIChjb2xvcikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxMSwgOTgsIDIzNylcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTksIDIzNywgMTEpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0OSwgNzIsIDkwKVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDUsIDI1NSwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDY2LCAyNTUsIDI0OClcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCA2NiwgMTc2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDE1NCwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBYUGllY2U7XG59KCkpO1xuZXhwb3J0cy5YUGllY2UgPSBYUGllY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb29yZGluYXRlXzEgPSByZXF1aXJlKFwiLi9Db29yZGluYXRlXCIpO1xudmFyIE9QaWVjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPUGllY2UoKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb2xvciA9IFwicmdiKDY2LCA2NiwgNjYpXCI7XG4gICAgICAgIHRoaXMuZmxpcHBlZCA9IE1hdGgucmFuZG9tKCkgPCAwLjU7XG4gICAgICAgIHRoaXMuc2V0Y29sb3IoKTtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5jb2wgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMykgKyAyKTtcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgb2JqZWN0OiBjb2w6XCIrdGhpcy5jb2wpO1xuICAgIH1cbiAgICBPUGllY2UucHJvdG90eXBlLmRyYXdUb1BvaW50ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBDb3JkKSB7XG4gICAgICAgIGlmIChib2FyZG1hcFtDb3JkLnJvd10gJiYgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXSkge1xuICAgICAgICAgICAgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgICAgICBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVzLnB1c2gobmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKENvcmQucm93LCBDb3JkLmNvbCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcnlpbmcgdG8gZHJhdyBzb21ldGhpbmcgdGhhdCBkb2Vzbid0IGV4aXN0cyBhdCBib2FyZG1hcFtcIiArIENvcmQucm93ICsgXCJdW1wiICsgQ29yZC5jb2wgKyBcIl1cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZGVsZXRlVG9Qb2ludCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgeCwgeSkge1xuICAgICAgICBpZiAoYm9hcmRtYXBbeF0gJiYgYm9hcmRtYXBbeF1beV0pIHtcbiAgICAgICAgICAgIGJvYXJkbWFwW3hdW3ldLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICAgICAgYm9hcmRtYXBbeF1beV0uZW1wdHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcnlpbmcgdG8gZGVsZXRlIHNvbWV0aGluZyB0aGF0IGRvZXNuJ3QgZXhpc3RzIGF0IGJvYXJkbWFwW1wiICsgeCArIFwiXVtcIiArIHkgKyBcIl1cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZGVsZXRlQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmNvb3JkaW5hdGVzLnBvcCgpO1xuICAgICAgICAgICAgdGhpcy5kZWxldGVUb1BvaW50KGJvYXJkbWFwLCBjdXJyZW50LnJvdywgY3VycmVudC5jb2wpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLy9oYW5kbGUgaWYgcm93IHplcm8gYW5kIGlmIHBlaWNlIGlzIGFscmVhZHkgdGhlcmUgcmV0dXJuIGZhbHNlIHlvdSBsb3NlXG4gICAgICAgIGlmICh0aGlzLnJvdyA9PSAxOSkge1xuICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucm93ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5kcmF3Rmlyc3RTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnJvdyA9PT0gMCkge1xuICAgICAgICAgICAgLy90aGlzLmRyYXdGaXJzdFNlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgLy8gdGhpcy5kZWxldGVGaXJzdFNlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgdGhpcy5kcmF3U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnJvdyA9PT0gMSkge1xuICAgICAgICAgICAgLy9jb25zb2xlIGNvbnNvbGUubG9nKFwiRGVsZXRpbmcgZmlyc3Qgc2VsZlwiKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgLy8gdGhpcy5kZWxldGVQcmV2U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAvL3RoaXMuZGVsZXRlUHJldlNlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgdGhpcy5kcmF3U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmKCFib2FyZG1hcFt0aGlzLnJvdysxXVt0aGlzLmNvbF0uZW1wdHkgfHwhYm9hcmRtYXBbdGhpcy5yb3crMV1bK3RoaXMuY29sXS5lbXB0eSApe1xuICAgICAgICAgICAgLy8gICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93KGJvYXJkbWFwLCAtMSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYWxsaW5nIERyYXdcIilcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZHJhd0ZsaXBwZWQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJEb24ndCBuZWVkIHRoaXMgbWV0aG9kIDpcIik7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRyYXdOb3RGbGlwcGVkID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQWxzbyBkb24ndCBuZWVkIHRoaXMgbWV0aG9kIDtcIik7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRlY3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVGhpcy5yb3cgPSBcIit0aGlzLnJvdyk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBkZXNjclwiKTtcbiAgICAgICAgdGhpcy5yb3cgPSB0aGlzLnJvdyArIDE7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRyYXdTZWxmID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdywgdGhpcy5jb2wpKTtcbiAgICAgICAgLy9ib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wpKTtcbiAgICAgICAgLy9ib2FyZG1hcFt0aGlzLnJvdysxXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3csIHRoaXMuY29sICsgMSkpO1xuICAgICAgICAvLyBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wrMV0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICAvL2JvYXJkbWFwW3RoaXMucm93KzFdW3RoaXMuY29sKzFdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAxKSk7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3cgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qWypdWypdXG4gICAgICAgICAgWypdWypdXG4gICAgICAgICovXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5kcmF3Rmlyc3RTZWxmID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdywgdGhpcy5jb2wpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93LCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgLy9ib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgLy9ib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgIC8vICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wrMV0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICAvLyBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wrMV0uZW1wdHkgPSBmYWxzZTtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZG93blByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBkb3duIHByZXNzQFwiKVxuICAgICAgICBpZiAodGhpcy5yb3cgPCAxOCkge1xuICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnJvdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLmNvbCA9PT0gMCkge1xuICAgICAgICAgICAgLy9kbyBub3RoaW5nXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb2wgPiAwKSB7XG4gICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxOSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCAtIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC0tdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLmNvbCA9PT0gOSkge1xuICAgICAgICAgICAgLy9kbyBub3RoaW5nXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29sIDwgOSkge1xuICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3RoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS51cFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAvLyB0aGlzLmRyYXcoYm9hcmRtYXAsbGVmdCk7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLnNldGNvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29sb3IgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAxKTtcbiAgICAgICAgc3dpdGNoIChjb2xvcikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxMSwgOTgsIDIzNylcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTksIDIzNywgMTEpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0OSwgNzIsIDkwKVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDUsIDI1NSwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDY2LCAyNTUsIDI0OClcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCA2NiwgMTc2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDE1NCwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBPUGllY2U7XG59KCkpO1xuZXhwb3J0cy5PUGllY2UgPSBPUGllY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb29yZGluYXRlXzEgPSByZXF1aXJlKFwiLi9Db29yZGluYXRlXCIpO1xudmFyIElQaWVjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJUGllY2UoKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb2xvciA9IFwicmdiKDY2LCA2NiwgNjYpXCI7XG4gICAgICAgIHRoaXMuZmxpcHBlZCA9IHRydWU7IC8vTWF0aC5yYW5kb20oKSA8IDAuNTtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IFtdO1xuICAgICAgICB0aGlzLnNldGNvbG9yKCk7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDApO1xuICAgIH1cbiAgICBJUGllY2UucHJvdG90eXBlLmRlY3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucm93ID0gdGhpcy5yb3cgKyAxO1xuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kcmF3VG9Qb2ludCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgQ29yZCkge1xuICAgICAgICBpZiAoYm9hcmRtYXBbQ29yZC5yb3ddICYmIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0pIHtcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICAgICAgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlcy5wdXNoKG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZShDb3JkLnJvdywgQ29yZC5jb2wpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRyYXcgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdHMgYXQgYm9hcmRtYXBbXCIgKyBDb3JkLnJvdyArIFwiXVtcIiArIENvcmQuY29sICsgXCJdXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmRlbGV0ZVRvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIHgsIHkpIHtcbiAgICAgICAgaWYgKGJvYXJkbWFwW3hdICYmIGJvYXJkbWFwW3hdW3ldKSB7XG4gICAgICAgICAgICBib2FyZG1hcFt4XVt5XS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgIGJvYXJkbWFwW3hdW3ldLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRlbGV0ZSBzb21ldGhpbmcgdGhhdCBkb2Vzbid0IGV4aXN0cyBhdCBib2FyZG1hcFtcIiArIHggKyBcIl1bXCIgKyB5ICsgXCJdXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmRlbGV0ZUNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5jb29yZGluYXRlcy5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlVG9Qb2ludChib2FyZG1hcCwgY3VycmVudC5yb3csIGN1cnJlbnQuY29sKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5zZXRjb2xvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMSk7XG4gICAgICAgIHN3aXRjaCAoY29sb3IpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTEsIDk4LCAyMzcpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDE5LCAyMzcsIDExKVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDksIDcyLCA5MClcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ1LCAyNTUsIDY2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYig2NiwgMjU1LCAyNDgpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgNjYsIDE3NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCAxNTQsIDY2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmxlZnRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb2wgPj0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tMZWZ0VmVydGljYWwoYm9hcmRtYXApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAtLXRoaXMuY29sO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAvL3RoaXMuZHJhd1ZlcnRpY2FsKGJvYXJkbWFwLGxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29sID49IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tMZWZ0SG9yaXpvbnRhbChib2FyZG1hcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIC0tdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAvL3RoaXMuZHJhd0hvcml6b250YWwoYm9hcmRtYXAsbGVmdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUucmlnaHRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvKlxuWyBdWypdWyBdWyBdICAgICBbIF1bIF1bIF1bIF1cblsgXVsqXVsgXVsgXSAgICAgWypdWypdWypdWypdXG5bIF1bKl1bIF1bIF0gICAgIFsgXVsgXVsgXVsgXVxuWyBdWypdWyBdWyBdICAgICBbIF1bIF1bIF1bIF1cblxuKi9cbiAgICAgICAgaWYgKHRoaXMuZmxpcHBlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgMTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tSaWdodFZlcnRpY2FsKGJvYXJkbWFwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLmNvbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgNikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1JpZ2h0SG9yaXpvbnRhbChib2FyZG1hcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICsrdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS51cFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8qXG4gICAgICAgWyBdWypdWyBdWyBdICAgICBbIF1bIF1bIF1bIF1cbiAgICAgICBbIF1bKl1bIF1bIF0gLT4gIFsqXVsqXVsqXVsqXVxuICAgICAgIFsgXVsqXVsgXVsgXSAgICAgWyBdWyBdWyBdWyBdXG4gICAgICAgWyBdWypdWyBdWyBdICAgICBbIF1bIF1bIF1bIF1cblxuICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLmZsaXBwZWQpIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJOb3QgaW1wbGVtZW50ZWRcIilcbiAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1ZlcnRpY2FsVG9Ib3Jpem9udGFsKGJvYXJkbWFwKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIHRoaXMuZmxpcHBlZCA9ICF0aGlzLmZsaXBwZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgWyBdWyBdWyBdWyBdICAgIFsgXVsqXVsgXVsgXVxuICAgICAgWypdWypdWypdWypdIC0+IFsgXVsqXVsgXVsgXVxuICAgICAgWyBdWyBdWyBdWyBdICAgIFsgXVsqXVsgXVsgXVxuICAgICAgWyBdWyBdWyBdWyBdICAgIFsgXVsqXVsgXVsgXVxuICAgICAgKi9cbiAgICAgICAgZWxzZSB7IC8vaG9yaXpvbnRhbFxuICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrSG9yaXpvbnRhbFRvVmVydGljYWwoYm9hcmRtYXApKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mbGlwcGVkID0gIXRoaXMuZmxpcHBlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0dXJuIHRoaXMuZmxpcHBlZDtcbiAgICAgICAgICAgIC8vICAgY29uc29sZS5sb2coXCJDaGFuZ2UgQWdhaW5cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuY2hlY2tWZXJ0aWNhbFRvSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvKlxuICAgICBbIF1bKl1bIF1bIF0gICAgIFsgXVsgXVsgXVsgXVxuICAgICBbIF1bKl1bIF1bIF0gLT4gIFsqXVsqXVsqXVsqXVxuICAgICBbIF1bKl1bIF1bIF0gICAgIFsgXVsgXVsgXVsgXVxuICAgICBbIF1bKl1bIF1bIF0gICAgIFsgXVsgXVsgXVsgXVxuXG4gICAgICovXG4gICAgICAgIHZhciBub3RlbXB0eSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jb2wgPiA2KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb2wgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgM10uZW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3RlbXB0eTtcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuY2hlY2tIb3Jpem9udGFsVG9WZXJ0aWNhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvKlxuICAgICAgWyBdWyBdWyBdWyBdICAgIFsgXVsqXVsgXVsgXVxuICAgICAgWypdWypdWypdWypdIC0+IFsgXVsqXVsgXVsgXVxuICAgICAgWyBdWyBdWyBdWyBdICAgIFsgXVsqXVsgXVsgXVxuICAgICAgWyBdWyBdWyBdWyBdICAgIFsgXVsqXVsgXVsgXVxuICAgICAgKi9cbiAgICAgICAgdmFyIG5vdGVtcHR5ID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnJvdyA+IDE3KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDNdW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3RlbXB0eTtcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZG93blByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIC8vdmVydGljYWxcbiAgICAgICAgLypcbiAgICAgICAgWyBdWyBdWyBdWyBdICBbIF1bKl1bIF1bIF1cbiAgICAgICAgWypdWypdWypdWypdICBbIF1bKl1bIF1bIF1cbiAgICAgICAgWyBdWyBdWyBdWyBdICBbIF1bKl1bIF1bIF1cbiAgICAgICAgWyBdWyBdWyBdWyBdICBbIF1bKl1bIF1bIF1cbiAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuZmxpcHBlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tCZWxvd1ZlcnRpY2FsKGJvYXJkbWFwLCAxKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3crKztcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5kcmF3VmVydGljYWwoYm9hcmRtYXAsMCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZHJhdyhib2FyZG1hcCwwKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy9ob3Jpem9udGFsXG4gICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxOCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0JlbG93SG9yaXpvbnRhbChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93Kys7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5kcmF3SG9yaXpvbnRhbChib2FyZG1hcCwwKTtcbiAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gdGhpcy5kcmF3KGJvYXJkbWFwLDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZHJhdyhib2FyZG1hcCwwKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XG4gICAgICAgICAgICB2YXIgcmV0dXJudmFsID0gdGhpcy5kcmF3RmxpcHBlZChib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJudmFsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHJhd05vdEZsaXBwZWQoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmRyYXdWZXJ0aWNhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvKlxuICAgICAgICAgWyBdWypdWyBdWyBdXG4gICAgICAgICBbIF1bKl1bIF1bIF1cbiAgICAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgICAgWyBdWypdWyBdWyBdXG4gICAgICAgICB0aGlzLnJvdywgdGhpcy5jb2wrMVxuICAgICAgICAgdGhpcy5yb3crMSwgdGhpcy5jb2wrMVxuICAgICAgICAgdGhpcy5yb3crMiwgdGhpcy5jb2wrMVxuICAgICAgICAgdGhpcy5yb3crMywgdGhpcy5jb2wrMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93LCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAxKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDIsIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAzLCB0aGlzLmNvbCArIDEpKTtcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhd0hvcml6b250YWwgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLypcbiAgICAgICBbIF1bIF1bIF1bIF1cbiAgICAgICBbKl1bKl1bKl1bKl1cbiAgICAgICBbIF1bIF1bIF1bIF1cbiAgICAgICBbIF1bIF1bIF1bIF1cbiAgICAgICB0aGlzLnJvdysxLCB0aGlzLmNvbFxuICAgICAgIHRoaXMucm93KzEsIHRoaXMuY29sKzFcbiAgICAgICB0aGlzLnJvdysxLCB0aGlzLmNvbCsyXG4gICAgICAgdGhpcy5yb3crMSwgdGhpcy5jb2wrM1xuICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDIpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAzKSk7XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmNoZWNrTGVmdFZlcnRpY2FsID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIC8qXG4gICAgICBbIF1bKl1bIF1bIF1cbiAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgWyBdWypdWyBdWyBdXG4gICAgICBbIF1bKl1bIF1bIF1cbiAgICAgICovXG4gICAgICAgIHZhciBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmNvbCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnJvdzsgaSA8IHRoaXMucm93ICsgNDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoIWJvYXJkbWFwW2ldW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5jaGVja1JpZ2h0VmVydGljYWwgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLypcbiAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgWyBdWypdWyBdWyBdXG4gICAgICBbIF1bKl1bIF1bIF1cbiAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgKi9cbiAgICAgICAgdmFyIGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuY29sID4gNykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMucm93OyBpIDwgdGhpcy5yb3cgKyA0OyArK2kpIHtcbiAgICAgICAgICAgIGlmICghYm9hcmRtYXBbaV1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5jaGVja1JpZ2h0SG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvKlxuICAgICAgICAgICAgICBbIF1bIF1bIF1bIF1cbiAgICAgICAgICAgICAgWypdWypdWypdWypdXG4gICAgICAgICAgICAgIFsgXVsgXVsgXVsgXVxuICAgICAgICAgICAgICBbIF1bIF1bIF1bIF1cbiAgICAgICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuICFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgNF0uZW1wdHk7XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmNoZWNrTGVmdEhvcml6b250YWwgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLypcbiAgICAgIFsgXVsgXVsgXVsgXVxuICAgICAgWypdWypdWypdWypdXG4gICAgICBbIF1bIF1bIF1bIF1cbiAgICAgIFsgXVsgXVsgXVsgXVxuICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuY29sID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgLSAxXS5lbXB0eTtcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuY2hlY2tCZWxvd0hvcml6b250YWwgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qXG5bIF1bIF1bIF1bIF1cblsqXVsqXVsqXVsqXVxuWyBdWyBdWyBdWyBdXG5bIF1bIF1bIF1bIF1cbiovXG4gICAgICAgIHZhciBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnJvdyArIDIgKyBtb2RpZmllciA9PT0gMjApIHtcbiAgICAgICAgICAgIC8vZG9lc24ndCBleGlzdCByZXR1cm5cbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuY29sOyBpIDwgdGhpcy5jb2wgKyA0OyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVtpXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJsb2NrZWQ7XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3dWZXJ0aWNhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgLypcblsgXVsqXVsgXVsgXVxuWyBdWypdWyBdWyBdXG5bIF1bKl1bIF1bIF1cblsgXVsqXVsgXVsgXVxuKi9cbiAgICAgICAgaWYgKHRoaXMucm93ICsgMyA9PT0gMjApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhYm9hcmRtYXBbdGhpcy5yb3cgKyAzICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMV0uZW1wdHk7XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmRyYXdGbGlwcGVkID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8qXG4gICAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgICBbIF1bKl1bIF1bIF1cbiAgICAgICAgWyBdWypdWyBdWyBdXG4gICAgICAgIFsgXVsqXVsgXVsgXVxuICAgICovXG4gICAgICAgIGlmICh0aGlzLnJvdyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd1ZlcnRpY2FsKGJvYXJkbWFwLCAxKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvL2dhbWUgaXMgZG9uZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1ZlcnRpY2FsKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy9ub3QgMFxuICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTcpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tCZWxvd1ZlcnRpY2FsKGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3VmVydGljYWwoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhd05vdEZsaXBwZWQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLypcbiAgICAgICAgICAgWyBdWyBdWyBdWyBdXG4gICAgICAgICAgIFsqXVsqXVsqXVsqXVxuICAgICAgICAgICBbIF1bIF1bIF1bIF1cbiAgICAgICAgICAgWyBdWyBdWyBdWyBdXG4gICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMucm93ID09PSAwKSB7IC8vIFJlYWxseSBzaG91bGRuJ3QgaGF2ZSB0byB3b3JyeSBhYm91dCB0aGlzIGNhc2UsIEkgdGhpbmsgaXQgc2hvdWxkIHNwYW4gdmVydGljYWwgZXZlcnl0aW1lLlxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd0hvcml6b250YWwoYm9hcmRtYXAsIC0xKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3SG9yaXpvbnRhbChib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucm93IDwgMjEpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0JlbG93SG9yaXpvbnRhbChib2FyZG1hcCwgLTEpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3SG9yaXpvbnRhbChib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSVBpZWNlO1xufSgpKTtcbmV4cG9ydHMuSVBpZWNlID0gSVBpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgSVBpZWNlXzEgPSByZXF1aXJlKFwiLi4vUGxheWVycy9JUGllY2VcIik7XG52YXIgT1BpZWNlXzEgPSByZXF1aXJlKFwiLi4vUGxheWVycy9PUGllY2VcIik7XG52YXIgWFBpZWNlXzEgPSByZXF1aXJlKFwiLi4vUGxheWVycy9YUGllY2VcIik7XG52YXIgSlBpZWNlXzEgPSByZXF1aXJlKFwiLi4vUGxheWVycy9KUGllY2VcIik7XG52YXIgTFBpZWNlXzEgPSByZXF1aXJlKFwiLi4vUGxheWVycy9MUGllY2VcIik7XG52YXIgVFBpZWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRQaWVjZShib2FyZG1hcCkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xuICAgICAgICAvL3RoaXMua2luZCA9IGtpbmQ7XG4gICAgICAgIHRoaXMuaW5pdFAoYm9hcmRtYXApO1xuICAgIH1cbiAgICBUUGllY2UucHJvdG90eXBlLnByaW50Qm9hcmQgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyMDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTA7ICsraikge1xuICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFtpXVtqXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyBcInhcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZyArIFwib1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0cmluZyk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiX1wiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5pbml0UCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zcGVpY2VMaXN0ID0gW107XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVUeXBlKCk7XG4gICAgICAgIHRoaXMucGxheWVyLnJvdyA9IC0xO1xuICAgICAgICB0aGlzLmZpcnN0VGltZSA9IHRydWU7XG4gICAgICAgIC8vdGhpcy5wbGF5ZXIuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMCk7XG4gICAgICAgIHRoaXMuY2hlY2tCb2FyZEZvclJvd3MoYm9hcmRtYXApO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5sZWZ0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIubGVmdFByZXNzKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgdGhpcy5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUucmlnaHRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICB0aGlzLnBsYXllci5yaWdodFByZXNzKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgdGhpcy5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUudXBQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvLyAgdGhpcy5wcmludEJvYXJkKGJvYXJkbWFwKTtcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcIkF0dGVtcHRpbmcgdHJhbnNmb3JtYXRpb25cIik7XG4gICAgICAgIHRoaXMucGxheWVyLnVwUHJlc3MoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICB0aGlzLmRyYXcoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICAvLyB0aGlzLnByaW50Qm9hcmQoYm9hcmRtYXApO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5kb3duUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuZG93blByZXNzKGJvYXJkbWFwKTtcbiAgICAgICAgdGhpcy5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuZ2VuZXJhdGVUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdHlwZSA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA1KSArIDEpO1xuICAgICAgICAvLyAgc3dpdGNoKHR5cGUpe1xuICAgICAgICAvLyAgICAgIGNhc2UgMDpcbiAgICAgICAgLy8gICAgICAgICAgdGhpcy5raW5kID0gXCIwXCI7XG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyAgICAgIGNhc2UgMTpcbiAgICAgICAgLy8gICAgICAgICAgdGhpcy5raW5kID0gXCJUXCI7XG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyAgICAgIGNhc2UgMjpcbiAgICAgICAgLy8gICAgICAgICAgdGhpcy5raW5kID0gXCJJXCI7XG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyAgICAgIGNhc2UgMzpcbiAgICAgICAgLy8gICAgICAgICAgdGhpcy5raW5kID0gXCJTXCI7XG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyAgICAgIGNhc2UgNDpcbiAgICAgICAgLy8gICAgICAgICAgdGhpcy5raW5kID0gXCJaXCI7XG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyAgICAgIGNhc2UgNTpcbiAgICAgICAgLy8gICAgICAgICAgdGhpcy5raW5kID0gXCJKXCI7XG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyAgICAgIGNhc2UgNjpcbiAgICAgICAgLy8gICAgICAgICAgdGhpcy5raW5kID0gXCJMXCI7XG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyAgfVxuICAgICAgICAvLyAgY29uc29sZS5sb2coXCJ0eXBlIGhlcmUgPSBcIit0eXBlKTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gXCJJXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gXCIwXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gXCJYXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gXCJKXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gXCJMXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwiQWJvdXQgdG8gZG8gbmV4dCBraW5kOlwiK3RoaXMua2luZCk7XG4gICAgICAgIC8vdGhpcy5raW5kID0gXCJMXCI7XG4gICAgICAgIGlmICh0aGlzLmtpbmQgPT09IFwiSVwiKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBJUGllY2VfMS5JUGllY2UoKTsgLy9uZXcgT1BpZWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5raW5kID09PSBcIjBcIikge1xuICAgICAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgT3BpZWNlXCIpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgT1BpZWNlXzEuT1BpZWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5raW5kID09PSBcIlhcIikge1xuICAgICAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgT3BpZWNlXCIpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgWFBpZWNlXzEuWFBpZWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5raW5kID09PSBcIkpcIikge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgSlBpZWNlXzEuSlBpZWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5raW5kID09PSBcIkxcIikge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgTFBpZWNlXzEuTFBpZWNlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiY2FsbGluZyBkcmF3XCIpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgSVBpZWNlXzEuSVBpZWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJldHVybnZhbCA9IHRoaXMucGxheWVyLmRyYXcoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgSVBpZWNlXzEuSVBpZWNlKCk7XG4gICAgICAgICAgICB0aGlzLmluaXRQKGJvYXJkbWFwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0dXJudmFsO1xuICAgIH07XG4gICAgLy8gZHJhd0lGbGlwcGVkKGJvYXJkbWFwOlBpZWNlW11bXSxsZWZ0Om51bWJlcil7Ly92ZXJ0aWNsZVxuICAgIC8vICAgICAgdmFyIHZhbHRvcmV0dXJuID0gdGhpcy5wbGF5ZXIuZHJhd0ZsaXBwZWQoYm9hcmRtYXAsbGVmdCk7XG4gICAgLy8gICAgICBpZiAodGhpcy5wbGF5ZXIuZG9uZSl7XG4gICAgLy8gICAgICAgICB0aGlzLmluaXRQKGJvYXJkbWFwKTtcbiAgICAvLyAgICAgIH1cbiAgICAvLyAgICAgIHJldHVybiB2YWx0b3JldHVybjtcbiAgICAvLyB9XG4gICAgLy8gZHJhd0lOb3RGbGlwcGVkKGJvYXJkbWFwOlBpZWNlW11bXSxsZWZ0Om51bWJlcil7IC8vaG9yaXpvbnRhbFxuICAgIC8vICAgICB2YXIgdmFsdG9yZXR1cm4gPSB0aGlzLnBsYXllci5kcmF3Tm90RmxpcHBlZChib2FyZG1hcCxsZWZ0KTtcbiAgICAvLyAgICAgaWYodGhpcy5wbGF5ZXIuZG9uZSl7XG4gICAgLy8gICAgICAgICB0aGlzLmluaXRQKGJvYXJkbWFwKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICByZXR1cm4gdmFsdG9yZXR1cm47XG4gICAgLy8gfVxuICAgIFRQaWVjZS5wcm90b3R5cGUuZGVjciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuZGVjcigpO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5jaGVja0JvYXJkRm9yUm93cyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbGxpbmcgZHJhd1wiKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IDIwO1xuICAgICAgICB2YXIgd2lkdGggPSAxMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IGhlaWdodCAtIDE7IGkgPiAtMTsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgTmVlZFRvRGVsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSB3aWR0aCAtIDE7IGogPiAtMTsgai0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW2ldW2pdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIE5lZWRUb0RlbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChOZWVkVG9EZWxldGUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gaTsgayA+IDE7IC0taykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHdpZHRoOyArK2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW2tdW2xdLmVtcHR5ID0gYm9hcmRtYXBbayAtIDFdW2xdLmVtcHR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBba11bbF0uY29sb3IgPSBib2FyZG1hcFtrIC0gMV1bbF0uY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwWzBdW2pdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbMF1bal0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7IC8vIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0JvYXJkRm9yUm93cyhib2FyZG1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUUGllY2U7XG59KCkpO1xuZXhwb3J0cy5UUGllY2UgPSBUUGllY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQaWVjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQaWVjZShjb2xvciwgbGVmdCwgdG9wKSB7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XG4gICAgfVxuICAgIFBpZWNlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGN0eCwgb2Zmc2V0KSB7XG4gICAgICAgIC8vIHRoaXMubGVmdCA9IG9mZnNldDtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLmxlZnQgKyAyICsgb2Zmc2V0LCB0aGlzLnRvcCArIDIgKyA2MCwgMzgsIDM4KTtcbiAgICB9O1xuICAgIHJldHVybiBQaWVjZTtcbn0oKSk7XG5leHBvcnRzLlBpZWNlID0gUGllY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQaWVjZV8xID0gcmVxdWlyZShcIi4uL1BpZWNlL1BpZWNlXCIpO1xudmFyIFRQaWVjZV8xID0gcmVxdWlyZShcIi4uL1BpZWNlL1RQaWVjZVwiKTtcbnZhciBCb2FyZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCb2FyZCgpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXlDYW52YXMnKTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDM4LCAzNywgMzcpJzsgLy9ibGFja1xuICAgICAgICB0aGlzLmJvYXJkbWFwID0gW107XG4gICAgICAgIHRoaXMuemVyb0JvYXJkKCk7XG4gICAgICAgIHRoaXMuaW5pdEJvYXJkKCk7XG4gICAgICAgIHRoaXMuZ2FtZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICB0aGlzLnQgPSBuZXcgVFBpZWNlXzEuVFBpZWNlKHRoaXMuYm9hcmRtYXApO1xuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gY2VudGVyIC0gMjAwO1xuICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIG1vdXNlUG9zID0gdGhpcy5nZXRUb3VjaFBvcyh0aGlzLmNhbnZhcywgZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRvdWNoaW5nXCIpO1xuICAgICAgICAgICAgaWYgKG1vdXNlUG9zLnggPiBjZW50ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnQucmlnaHRQcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobW91c2VQb3MueCA8IGNlbnRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMudC5sZWZ0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZmFsc2UpO1xuICAgIH1cbiAgICBCb2FyZC5wcm90b3R5cGUuZ2V0VG91Y2hQb3MgPSBmdW5jdGlvbiAoY2FudmFzRG9tLCB0b3VjaEV2ZW50KSB7XG4gICAgICAgIHZhciByZWN0ID0gY2FudmFzRG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdG91Y2hFdmVudC50b3VjaGVzWzBdLmNsaWVudFggLSByZWN0LmxlZnQsXG4gICAgICAgICAgICB5OiB0b3VjaEV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSAtIHJlY3QudG9wXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZ2V0UGllY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnQ7XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZ2V0Q2VudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMik7XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUua2V5UHJlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09ICczOCcpIHtcbiAgICAgICAgICAgIC8vIHVwIGFycm93XG4gICAgICAgICAgICB0aGlzLnQudXBQcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PSAnNDAnKSB7XG4gICAgICAgICAgICB0aGlzLnQuZG93blByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICczNycpIHtcbiAgICAgICAgICAgIC8vIGxlZnQgYXJyb3dcbiAgICAgICAgICAgIHRoaXMudC5sZWZ0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gJzM5Jykge1xuICAgICAgICAgICAgLy8gcmlnaHQgYXJyb3dcbiAgICAgICAgICAgIHRoaXMudC5yaWdodFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5kZWNyVGltZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIC8vICAgY29uc29sZS5sb2coXCJHYW1lIGluIHBvcmdyZXNzXCIpO1xuICAgICAgICAgICAgdGhpcy50LmRlY3IoKTtcbiAgICAgICAgICAgIHZhciBzdWNjZXNzID0gdGhpcy50LmRyYXcodGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIk5vIGluIHByb2dyZXNzXCIpO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLnplcm9Cb2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB0aGlzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuaW5pdEJvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcbiAgICAgICAgdmFyIGxlZnQgPSBjZW50ZXIgLSAyMDA7XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHZhciB0b3AgPSA2MDtcbiAgICAgICAgdmFyIGxvY2FsY29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAgICAgICAgICAgIC8vaSA9IHJvd3NcbiAgICAgICAgICAgIHZhciBtaWRkbGVMaXN0ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDEwOyArK2opIHtcbiAgICAgICAgICAgICAgICAvL2NvbHVtbnNcbiAgICAgICAgICAgICAgICB2YXIgcHVzaG1lUGVhY2UgPSBuZXcgUGllY2VfMS5QaWVjZShsb2NhbGNvbG9yLCAoaiAqIDQwKSwgKGkgKiA0MCkpO1xuICAgICAgICAgICAgICAgIHB1c2htZVBlYWNlLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBtaWRkbGVMaXN0LnB1c2gocHVzaG1lUGVhY2UpO1xuICAgICAgICAgICAgICAgIC8vdGhpcy5ib2FyZG1hcFtpLTFdW2otMV0gPSBuZXcgU3BlYWNlKGxvY2FsY29sb3IsbGVmdCsoaio0MCksdG9wKyhpKjQwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJvYXJkbWFwLnB1c2gobWlkZGxlTGlzdCk7XG4gICAgICAgICAgICBtaWRkbGVMaXN0ID0gW107XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5kcmF3Qm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuemVyb0JvYXJkKCk7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpO1xuICAgICAgICB2YXIgbGVmdCA9IGNlbnRlciAtIDIwMDtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAncmdiKDI1NSwgMjU1LCAyNTUpJztcbiAgICAgICAgdGhpcy5jdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlUmVjdChsZWZ0LCA2MCwgNDAwLCA4MDApO1xuICAgICAgICB0aGlzLmRyYXdMaW5lcyhsZWZ0KTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuYm9hcmRtYXA7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgdG9wZW50cnkgPSBfYVtfaV07XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIHRvcGVudHJ5XzEgPSB0b3BlbnRyeTsgX2IgPCB0b3BlbnRyeV8xLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IHRvcGVudHJ5XzFbX2JdO1xuICAgICAgICAgICAgICAgIGVudHJ5LmRyYXcodGhpcy5jdHgsIGxlZnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZHJhd0xpbmVzID0gZnVuY3Rpb24gKGxlZnQpIHtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAncmdiKDkxLCA4OSwgODkpJztcbiAgICAgICAgdmFyIGxpbmVCb3R0b20gPSA2MDtcbiAgICAgICAgdmFyIGxpbmVUb3AgPSA2MCArIDgwMDtcbiAgICAgICAgLy9EcmF3IGhvcml6b250YWwgbGluZXNcbiAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gNDA7IG9mZnNldCA8IDQwMDsgb2Zmc2V0ID0gb2Zmc2V0ICsgNDApIHtcbiAgICAgICAgICAgIHRoaXMuY3R4Lm1vdmVUbyhsZWZ0ICsgb2Zmc2V0LCBsaW5lQm90dG9tKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyhsZWZ0ICsgb2Zmc2V0LCBsaW5lVG9wKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIG9mZnNldCA9IDYwOyBvZmZzZXQgPCA4MDAgKyA2MDsgb2Zmc2V0ID0gb2Zmc2V0ICsgNDApIHtcbiAgICAgICAgICAgIHRoaXMuY3R4Lm1vdmVUbyhsZWZ0LCBvZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5jdHgubGluZVRvKGxlZnQgKyA0MDAsIG9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEJvYXJkO1xufSgpKTtcbmV4cG9ydHMuQm9hcmQgPSBCb2FyZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEJvYXJkXzEgPSByZXF1aXJlKFwiLi9Cb2FyZC9Cb2FyZFwiKTtcbnZhciBib2FyZCA9IG5ldyBCb2FyZF8xLkJvYXJkKCk7XG5mdW5jdGlvbiBkcmF3Qm9hcmQoKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcIkNhbGxpbmcgZHJhdyBib2FyZFwiKVxuICAgIGJvYXJkLmRyYXdCb2FyZCgpO1xufVxuO1xuZnVuY3Rpb24gZGVzY1RpbWUoKSB7XG4gICAgYm9hcmQuZGVjclRpbWUoKTtcbn1cbi8vIGJvYXJkLmRyYXdCb2FyZCgpO1xudmFyIHRpbWVyRm9yTG9hZGluZ1Jlc3VsdCA9IHdpbmRvdy5zZXRJbnRlcnZhbChkcmF3Qm9hcmQsIDIwKTtcbnZhciB0aW1lckZvckxvYWRpbmdSZXN1bHQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZGVzY1RpbWUsIDQwMCk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNoZWNrLCBmYWxzZSk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImdhbWVwYWRjb25uZWN0ZWRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBjb25zb2xlLmxvZyhcIkdhbWVwYWQgY29ubmVjdGVkIGF0IGluZGV4ICVkOiAlcy4gJWQgYnV0dG9ucywgJWQgYXhlcy5cIiwgZS5nYW1lcGFkLmluZGV4LCBlLmdhbWVwYWQuaWQsIGUuZ2FtZXBhZC5idXR0b25zLmxlbmd0aCwgZS5nYW1lcGFkLmF4ZXMubGVuZ3RoKTtcbn0pO1xuZnVuY3Rpb24gY2hlY2soZSkge1xuICAgIGJvYXJkLmtleVByZXNzKGUpO1xufVxud2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgYm9hcmQuZHJhd0JvYXJkKCk7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==