!function(t){var o={};function i(r){if(o[r])return o[r].exports;var e=o[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=o,i.d=function(t,o,r){i.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,o){if(1&o&&(t=i(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var e in t)i.d(r,e,function(o){return t[o]}.bind(null,e));return r},i.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(o,"a",o),o},i.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},i.p="",i(i.s=5)}([function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.flipped=Math.random()<.5,this.setcolor(),this.done=!1,this.col=Math.floor(3*Math.random()+2)}return t.prototype.draw=function(t,o){return 19==this.row?(this.done=!0,!0):-1!==this.row?0===this.row?(this.drawSelf(t),!0):1===this.row?(this.deleteFirstSelf(t),this.drawSelf(t),!0):t[this.row+1][this.col].empty&&t[this.row+1][+this.col].empty?(this.deletePrevSelf(t),this.drawSelf(t),!0):(this.done=!0,!0):void this.drawFirstSelf(t)},t.prototype.drawFlipped=function(t,o){console.log("Don't need this method :")},t.prototype.drawNotFlipped=function(t,o){console.log("Also don't need this method ;")},t.prototype.decr=function(){this.row=this.row+1},t.prototype.deleteSelf=function(t){t[this.row][this.col].color=this.originalColor,t[this.row+1][this.col].color=this.originalColor,t[this.row][this.col+1].color=this.originalColor,t[this.row+1][this.col+1].color=this.originalColor,t[this.row][this.col].empty=!0,t[this.row+1][this.col].empty=!0,t[this.row][this.col+1].empty=!0,t[this.row+1][this.col+1].empty=!0},t.prototype.deletePrevSelf=function(t){t[this.row-2][this.col].color=this.originalColor,t[this.row-1][this.col].color=this.originalColor,t[this.row-2][this.col+1].color=this.originalColor,t[this.row-1][this.col+1].color=this.originalColor,t[this.row-2][this.col].empty=!0,t[this.row-1][this.col].empty=!0,t[this.row-2][this.col+1].empty=!0,t[this.row-1][this.col+1].empty=!0},t.prototype.deleteFirstSelf=function(t){t[this.row][this.col].color=this.originalColor,t[this.row][this.col].empty=!0,t[this.row][this.col+1].color=this.originalColor,t[this.row][this.col+1].empty=!0,t[this.row-1][this.col].color=this.originalColor,t[this.row-1][this.col].empty=!0,t[this.row-1][this.col+1].color=this.originalColor,t[this.row-1][this.col+1].empty=!0},t.prototype.drawSelf=function(t){t[this.row][this.col].color=this.color,t[this.row+1][this.col].color=this.color,t[this.row][this.col+1].color=this.color,t[this.row+1][this.col+1].color=this.color,t[this.row][this.col].empty=!1,t[this.row+1][this.col].empty=!1,t[this.row][this.col+1].empty=!1,t[this.row+1][this.col+1].empty=!1},t.prototype.drawFirstSelf=function(t){t[this.row][this.col].color=this.color,t[this.row][this.col].empty=!1,t[this.row][this.col+1].color=this.color,t[this.row][this.col+1].empty=!1},t.prototype.downPress=function(t){this.row<18&&(t[this.row+2][this.col].empty&&(t[this.row+2][this.col+1].empty&&(this.deleteSelf(t),++this.row),this.deleteSelf(t)),this.deleteSelf(t)),this.deleteSelf(t)},t.prototype.leftPress=function(t,o){0!==this.col?(this.col>0&&t[this.row][this.col-1].empty&&this.row<19&&(t[this.row+1][this.col-1].empty?(this.deleteSelf(t),--this.col):this.deleteSelf(t)),this.deleteSelf(t)):this.deleteSelf(t)},t.prototype.rightPress=function(t,o){9!==this.col&&(this.col<9&&t[this.row][this.col+2].empty&&(this.row<19?t[this.row+1][this.col+2].empty&&(this.deleteSelf(t),++this.col):this.deleteSelf(t)),this.deleteSelf(t))},t.prototype.upPress=function(t,o){this.deleteSelf(t)},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t}();o.OPiece=r},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.flipped=Math.random()<.5,this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+0)}return t.prototype.decr=function(){this.row=this.row+1},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t.prototype.leftPress=function(t,o){if(this.flipped){for(var i=0;i<4;i++)t[this.row+i][this.col].color=this.originalColor,t[this.row+i][this.col].empty=!0;var r=!0;if(this.col>0)for(i=0;i<4;++i)0==t[this.row+i][this.col-1].empty&&(r=!1);this.col>0&&r&&--this.col}else{for(i=0;i<4;i++)t[this.row][this.col+i].color=this.originalColor,t[this.row][this.col+i].empty=!0;this.col>0&&t[this.row][this.col-1].empty&&--this.col}},t.prototype.rightPress=function(t,o){if(this.flipped){if(this.col<9){for(var i=0;i<4;i++)t[this.row+i][this.col].color=this.originalColor,t[this.row+i][this.col].empty=!0;var r=!0;if(this.col<9){for(i=0;i<4;++i)0==t[this.row+i][this.col+1].empty&&(r=!1);this.col<9&&r&&++this.col}}}else if(this.col<6){for(i=0;i<4;i++)t[this.row][this.col+i].color=this.originalColor,t[this.row][this.col+i].empty=!0;this.col<6&&t[this.row][this.col+4].empty&&++this.col}},t.prototype.upPress=function(t,o){if(this.flipped){if(this.col>0&&this.col<8&&this.row<17&&t[this.row][this.col-1].empty&&t[this.row][this.col+1].empty&&t[this.row][this.col+2].empty){for(var i=0;i<4;++i)t[this.row+i][this.col].color=this.originalColor,t[this.row+i][this.col].empty=!0;this.flipped=!this.flipped}}else{var r=!0;for(i=0;i<4;++i)t[this.row][this.col+i].color=this.originalColor,t[this.row][this.col+i].empty=!0;this.row>15&&(r=!1);for(i=0;i<4;++i)t[this.row+i][this.col].empty||(r=!1);if(r){this.flipped=!this.flipped;for(i=0;i<4;++i)t[this.row][this.col+i].color=this.originalColor,t[this.row][this.col+i].empty=!0;for(i=0;i<4;++i)t[this.row+i][this.col].color=this.originalColor,t[this.row+i][this.col].empty=!0}}},t.prototype.downPress=function(t){console.log("Not Implemented")},t.prototype.draw=function(t,o){return this.flipped?this.drawFlipped(t,o):this.drawNotFlipped(t,o)},t.prototype.drawVertical=function(){},t.prototype.drawFlipped=function(t,o){if(0===this.row)for(var i=0;i<4;i++)if(!t[this.row+i][this.col].empty){for(var r=0;r<i;++r)t[this.row+r][this.col].color=this.color,t[this.row+r][this.col].empty=!1;return!1}if(t[this.row]&&t[this.row+1]&&t[this.row+2]&&t[this.row+3]){t[this.row-1]&&(t[this.row-1][this.col].color=this.originalColor,t[this.row-1][this.col].empty=!0);for(i=0;i<4;i++)t[this.row+i][this.col].empty&&(t[this.row+i][this.col].color=this.color,t[this.row+i][this.col].empty=!1);return t[this.row+4]&&t[this.row+4][this.col].empty&&!(this.row<15&&!t[this.row+4][this.col].empty)||(this.done=!0,!0)}if(!t[this.row+3])return this.row=0,this.col=Math.floor(10*Math.random()+0),this.done=!0,!0},t.prototype.drawNotFlipped=function(t,o){if(0===this.row){t[this.row][this.col].empty;for(var i=0;i<4;i++)if(!t[this.row][this.col+i].empty){for(var r=0;r<i;++r)t[this.row][this.col+r].color=this.color,t[this.row][this.col+r].empty=!1;return!1}}if(t[this.row]&&t[this.row][this.col]&&t[this.row][this.col+1]&&t[this.row][this.col+2]&&t[this.row][this.col+3]){if(t[this.row-1])for(i=0;i<4;i++)t[this.row-1][this.col+i].color=this.originalColor,t[this.row-1][this.col+i].empty=!0;for(i=0;i<4;i++)t[this.row][this.col+i].color=this.color,t[this.row][this.col+i].empty=!1;for(i=0;i<4;++i)if(this.row<19&&!t[this.row+1][this.col+i].empty)return this.row=0,this.col=0,this.done=!0,!0;return!0}if(!t[this.row+1])return this.done=!0,!0},t}();o.IPiece=r},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=i(1),e=i(0),s=function(){function t(t){this.originalColor="rgb(66, 66, 66)",this.initP(t)}return t.prototype.printBoard=function(t){for(var o=0;o<20;++o){for(var i="",r=0;r<10;++r)t[o][r].empty?i+="x":i+="o";console.log(i)}},t.prototype.initP=function(t){this.started=!1,this.speiceList=[],this.generateType(),this.player.row=-1,this.firstTime=!0,this.checkBoardForRows(t)},t.prototype.leftPress=function(t,o){this.player.leftPress(t,o),this.draw(t,o)},t.prototype.rightPress=function(t,o){this.player.rightPress(t,o),this.draw(t,o)},t.prototype.upPress=function(t,o){this.player.upPress(t,o),this.draw(t,o)},t.prototype.downPress=function(t,o){this.player.downPress(t),this.draw(t,o)},t.prototype.generateType=function(){switch(Math.floor(2*Math.random()+1)){case 1:this.kind="I";break;case 2:this.kind="0"}"I"===this.kind?this.player=new r.IPiece:"0"===this.kind&&(this.player=new e.OPiece)},t.prototype.draw=function(t,o){this.player.done&&(this.player=new r.IPiece);var i=this.player.draw(t,o);return this.player.done&&(this.player=new r.IPiece,this.initP(t)),i},t.prototype.decr=function(){this.player.decr()},t.prototype.checkBoardForRows=function(t){for(var o=19;o>-1;o--){for(var i=!0,r=9;r>-1;r--)t[o][r].empty&&(i=!1);if(i){for(var e=o;e>1;--e)for(var s=0;s<10;++s)t[e][s].empty=t[e-1][s].empty,t[e][s].color=t[e-1][s].color;for(r=0;r<10;r++)t[0][r].empty=!0,t[0][r].color=this.originalColor;this.checkBoardForRows(t)}}},t}();o.TPiece=s},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(t,o,i){this.color=t,this.left=o,this.top=i}return t.prototype.draw=function(t,o){t.fillStyle=this.color,t.fillRect(this.left+2+o,this.top+2+60,38,38)},t}();o.Piece=r},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=i(3),e=i(2),s=function(){function t(){this.canvas=document.querySelector(".myCanvas"),this.backgroundColor="rgb(38, 37, 37)",this.boardmap=[],this.zeroBoard(),this.initBoard(),this.gameInProgress=!0,this.t=new e.TPiece(this.boardmap);var t=this.getCenter();this.left=t-200}return t.prototype.getPiece=function(){return this.t},t.prototype.getCenter=function(){return Math.floor(this.width/2)},t.prototype.keyPress=function(t){"38"==t.keyCode?this.t.upPress(this.boardmap,this.left):"40"==t.keyCode?this.t.downPress(this.boardmap,this.left):"37"==t.keyCode?this.t.leftPress(this.boardmap,this.left):"39"==t.keyCode&&this.t.rightPress(this.boardmap,this.left)},t.prototype.decrTime=function(){this.gameInProgress&&(this.t.decr(),this.t.draw(this.boardmap,this.left)||(this.gameInProgress=!1))},t.prototype.zeroBoard=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.width=window.innerWidth,this.height=window.innerHeight,this.ctx=this.canvas.getContext("2d")},t.prototype.initBoard=function(){var t=this.getCenter()-200;this.left=t;for(var o=0;o<20;o++){for(var i=[],e=0;e<10;++e){var s=new r.Piece("rgb(66, 66, 66)",40*e,40*o);s.empty=!0,i.push(s)}this.boardmap.push(i),i=[]}},t.prototype.drawBoard=function(){this.zeroBoard(),this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height);var t=this.getCenter()-200;this.left=t,this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.lineWidth=1,this.ctx.strokeRect(t,60,400,800),this.drawLines(t);for(var o=0,i=this.boardmap;o<i.length;o++)for(var r=0,e=i[o];r<e.length;r++){e[r].draw(this.ctx,t)}},t.prototype.drawLines=function(t){this.ctx.strokeStyle="rgb(91, 89, 89)";for(var o=40;o<400;o+=40)this.ctx.moveTo(t+o,60),this.ctx.lineTo(t+o,860),this.ctx.stroke();for(o=60;o<860;o+=40)this.ctx.moveTo(t,o),this.ctx.lineTo(t+400,o),this.ctx.stroke()},t}();o.Board=s},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=new(i(4).Board);window.setInterval(function(){r.drawBoard()},20),window.setInterval(function(){r.decrTime()},400);window.addEventListener("keydown",function(t){r.keyPress(t)},!1),window.addEventListener("gamepadconnected",function(t){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",t.gamepad.index,t.gamepad.id,t.gamepad.buttons.length,t.gamepad.axes.length)}),window.onresize=function(t){r.drawBoard()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BsYXllcnMvT1BpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QbGF5ZXJzL0lQaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGllY2UvVFBpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QaWVjZS9QaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvQm9hcmQvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiT1BpZWNlIiwidGhpcyIsIm9yaWdpbmFsQ29sb3IiLCJmbGlwcGVkIiwiTWF0aCIsInJhbmRvbSIsInNldGNvbG9yIiwiZG9uZSIsImNvbCIsImZsb29yIiwiZHJhdyIsImJvYXJkbWFwIiwibGVmdCIsInJvdyIsImRyYXdTZWxmIiwiZGVsZXRlRmlyc3RTZWxmIiwiZW1wdHkiLCJkZWxldGVQcmV2U2VsZiIsImRyYXdGaXJzdFNlbGYiLCJkcmF3RmxpcHBlZCIsImNvbnNvbGUiLCJsb2ciLCJkcmF3Tm90RmxpcHBlZCIsImRlY3IiLCJkZWxldGVTZWxmIiwiY29sb3IiLCJkb3duUHJlc3MiLCJsZWZ0UHJlc3MiLCJyaWdodFByZXNzIiwidXBQcmVzcyIsIklQaWVjZSIsIm5vYWJzdHJ1Y3Rpb24iLCJjYW5DaGFuZ2UiLCJkcmF3VmVydGljYWwiLCJqIiwiSVBpZWNlXzEiLCJPUGllY2VfMSIsIlRQaWVjZSIsImluaXRQIiwicHJpbnRCb2FyZCIsInN0cmluZyIsInN0YXJ0ZWQiLCJzcGVpY2VMaXN0IiwiZ2VuZXJhdGVUeXBlIiwicGxheWVyIiwiZmlyc3RUaW1lIiwiY2hlY2tCb2FyZEZvclJvd3MiLCJraW5kIiwicmV0dXJudmFsIiwiaGVpZ2h0IiwiTmVlZFRvRGVsZXRlIiwid2lkdGgiLCJrIiwiUGllY2UiLCJ0b3AiLCJjdHgiLCJvZmZzZXQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIlBpZWNlXzEiLCJUUGllY2VfMSIsIkJvYXJkIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYmFja2dyb3VuZENvbG9yIiwiemVyb0JvYXJkIiwiaW5pdEJvYXJkIiwiZ2FtZUluUHJvZ3Jlc3MiLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJnZXRQaWVjZSIsImtleVByZXNzIiwiZSIsImtleUNvZGUiLCJkZWNyVGltZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImdldENvbnRleHQiLCJtaWRkbGVMaXN0IiwicHVzaG1lUGVhY2UiLCJwdXNoIiwiZHJhd0JvYXJkIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2VSZWN0IiwiZHJhd0xpbmVzIiwiX2kiLCJfYSIsImxlbmd0aCIsIl9iIiwidG9wZW50cnlfMSIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImJvYXJkIiwic2V0SW50ZXJ2YWwiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2FtZXBhZCIsImluZGV4IiwiaWQiLCJidXR0b25zIiwiYXhlcyIsIm9ucmVzaXplIiwiZXZlbnQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFF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QUFBRSxHQUFBNUIsRUFBQTBCLFFBQUFHLFFBQUFaLE9BQUFqQixFQUFBMEIsUUFBQUksS0FBQWIsVUFLQWQsT0FBQTRCLFNBQUEsU0FBQUMsR0FDQVQsRUFBQWIiLCJmaWxlIjoiLi9idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBPUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT1BpZWNlKCkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xuICAgICAgICB0aGlzLmZsaXBwZWQgPSBNYXRoLnJhbmRvbSgpIDwgMC41O1xuICAgICAgICB0aGlzLnNldGNvbG9yKCk7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAzKSArIDIpO1xuICAgICAgICAvLyAgY29uc29sZS5sb2coXCJDcmVhdGluZyBvYmplY3Q6IGNvbDpcIit0aGlzLmNvbCk7XG4gICAgfVxuICAgIE9QaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvL2hhbmRsZSBpZiByb3cgemVybyBhbmQgaWYgcGVpY2UgaXMgYWxyZWFkeSB0aGVyZSByZXR1cm4gZmFsc2UgeW91IGxvc2VcbiAgICAgICAgaWYgKHRoaXMucm93ID09IDE5KSB7XG4gICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5yb3cgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdGaXJzdFNlbGYoYm9hcmRtYXApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucm93ID09PSAwKSB7XG4gICAgICAgICAgICAvL3RoaXMuZHJhd0ZpcnN0U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAvLyB0aGlzLmRlbGV0ZUZpcnN0U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucm93ID09PSAxKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUgY29uc29sZS5sb2coXCJEZWxldGluZyBmaXJzdCBzZWxmXCIpO1xuICAgICAgICAgICAgdGhpcy5kZWxldGVGaXJzdFNlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgLy8gdGhpcy5kZWxldGVQcmV2U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAvL3RoaXMuZGVsZXRlUHJldlNlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgdGhpcy5kcmF3U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbF0uZW1wdHkgfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bK3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVByZXZTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1NlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYWxsaW5nIERyYXdcIilcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZHJhd0ZsaXBwZWQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJEb24ndCBuZWVkIHRoaXMgbWV0aG9kIDpcIik7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRyYXdOb3RGbGlwcGVkID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQWxzbyBkb24ndCBuZWVkIHRoaXMgbWV0aG9kIDtcIik7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRlY3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVGhpcy5yb3cgPSBcIit0aGlzLnJvdyk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBkZXNjclwiKTtcbiAgICAgICAgdGhpcy5yb3cgPSB0aGlzLnJvdyArIDE7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRlbGV0ZVNlbGYgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDFdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgMV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkgPSB0cnVlO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sXS5lbXB0eSA9IHRydWU7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDFdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDFdLmVtcHR5ID0gdHJ1ZTtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZGVsZXRlUHJldlNlbGYgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAyXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDJdW3RoaXMuY29sICsgMV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2wgKyAxXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAyXVt0aGlzLmNvbF0uZW1wdHkgPSB0cnVlO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDFdW3RoaXMuY29sXS5lbXB0eSA9IHRydWU7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMl1bdGhpcy5jb2wgKyAxXS5lbXB0eSA9IHRydWU7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2wgKyAxXS5lbXB0eSA9IHRydWU7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRlbGV0ZUZpcnN0U2VsZiA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDFdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAxXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2xdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAxXVt0aGlzLmNvbCArIDFdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDFdW3RoaXMuY29sICsgMV0uZW1wdHkgPSB0cnVlO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5kcmF3U2VsZiA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAxXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAxXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbF0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMV0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDFdLmVtcHR5ID0gZmFsc2U7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRyYXdGaXJzdFNlbGYgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMV0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAxXS5lbXB0eSA9IGZhbHNlO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5kb3duUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYWxsaW5nIGRvd24gcHJlc3NAXCIpXG4gICAgICAgIGlmICh0aGlzLnJvdyA8IDE4KSB7XG4gICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICsrdGhpcy5yb3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVNlbGYoYm9hcmRtYXApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmxlZnRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBpZiAodGhpcy5jb2wgPT09IDApIHtcbiAgICAgICAgICAgIC8vZG8gbm90aGluZ1xuICAgICAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb2wgPiAwKSB7XG4gICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxOSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCAtIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVNlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLS10aGlzLmNvbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLmNvbCA9PT0gOSkge1xuICAgICAgICAgICAgLy9kbyBub3RoaW5nXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29sIDwgOSkge1xuICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS51cFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgICAgIC8vIHRoaXMuZHJhdyhib2FyZG1hcCxsZWZ0KTtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuc2V0Y29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb2xvciA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDEpO1xuICAgICAgICBzd2l0Y2ggKGNvbG9yKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDExLCA5OCwgMjM3KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxOSwgMjM3LCAxMSlcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ5LCA3MiwgOTApXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0NSwgMjU1LCA2NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoNjYsIDI1NSwgMjQ4KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDY2LCAxNzYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgMTU0LCA2NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE9QaWVjZTtcbn0oKSk7XG5leHBvcnRzLk9QaWVjZSA9IE9QaWVjZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIElQaWVjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJUGllY2UoKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb2xvciA9IFwicmdiKDY2LCA2NiwgNjYpXCI7XG4gICAgICAgIHRoaXMuZmxpcHBlZCA9IE1hdGgucmFuZG9tKCkgPCAwLjU7XG4gICAgICAgIHRoaXMuc2V0Y29sb3IoKTtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMCk7XG4gICAgfVxuICAgIElQaWVjZS5wcm90b3R5cGUuZGVjciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yb3cgPSB0aGlzLnJvdyArIDE7XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLnNldGNvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29sb3IgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAxKTtcbiAgICAgICAgc3dpdGNoIChjb2xvcikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxMSwgOTgsIDIzNylcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTksIDIzNywgMTEpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0OSwgNzIsIDkwKVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDUsIDI1NSwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDY2LCAyNTUsIDI0OClcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCA2NiwgMTc2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDE1NCwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLmZsaXBwZWQpIHsgLy9EZWxldGUgYWxsIGVsZW1lbnRzIHRvIHJpZ2h0XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBub2Fic3RydWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbCAtIDFdLmVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2Fic3RydWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb2wgPiAwICYmIG5vYWJzdHJ1Y3Rpb24pIHtcbiAgICAgICAgICAgICAgICAtLXRoaXMuY29sO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb2wgPiAwICYmIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCAtIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgLS10aGlzLmNvbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyAgaWYodGhpcy5jb2wgPjAgKXtcbiAgICAgICAgLy8gICAgICAtLXRoaXMuY29sOyBcbiAgICAgICAgLy8gIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUucmlnaHRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiVGhpcy5mbGlwcGVkID0gXCIrdGhpcy5mbGlwcGVkKTtcbiAgICAgICAgaWYgKHRoaXMuZmxpcHBlZCkge1xuICAgICAgICAgICAgLy9EZWxldGUgYWxsIGVsZW1lbnRzIHRvIHJpZ2h0XG4gICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA5KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG5vYWJzdHJ1Y3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sICsgMV0uZW1wdHkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2Fic3RydWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgOSAmJiBub2Fic3RydWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3RoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vKyt0aGlzLmNvbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDYpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgaV0uZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA2ICYmIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDRdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgICsrdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZmxpcHBlZCkge1xuICAgICAgICAgICAgLy8gdGhpcy5mbGlwcGVkID0gIXRoaXMuZmxpcHBlZDtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJDaGFuZ2UhXCIpO1xuICAgICAgICAgICAgLy9DaGVjayBpZiB0aGVyZSBpcyByb29tIG9uIGxlZnRcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA+IDAgJiYgdGhpcy5jb2wgPCA4ICYmIHRoaXMucm93IDwgMTcpIHtcbiAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2coXCJGaXIgY2hlY2sgcGFzcyFcIilcbiAgICAgICAgICAgICAgICAvL0luIHJhbmdlIHdoZXJlIGl0J3MgcG9zc2libGUgbm93IGNoZWNrIGZvciBvYnN0cnVjdGlvbnNcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDFdLmVtcHR5ICYmIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2coXCJXZSBjYW4gdHJhbnNmb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2coYm9hcmRtYXBbdGhpcy5yb3craV1bdGhpcy5jb2xdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sXS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoaXMuZmxpcHBlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmxpcHBlZCA9ICF0aGlzLmZsaXBwZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhpcy5mbGlwcGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhpcy5mbGlwcGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGlzLmZsaXBwZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL0NoZWNrIGlmIHRoZXJlIGlzIHJvb20gb24gcmlnaHRcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy9ob3Jpem9udGFsXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ2hlY2tpbmcgaWYgd2UgY2FuIHJvdGF0ZSBob3Jpem9udGFsXCIpO1xuICAgICAgICAgICAgdmFyIGNhbkNoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlRoaXMgcm93OlwiK3RoaXMucm93KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgaV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgaV0uZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMTUpIHtcbiAgICAgICAgICAgICAgICBjYW5DaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhib2FyZG1hcFt0aGlzLnJvdytpXVt0aGlzLmNvbF0uZW1wdHkpO1xuICAgICAgICAgICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkhvcml6b250YWwgY2FuIGNoYW5nZSFcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5mbGlwcGVkID0gIXRoaXMuZmxpcHBlZDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgaV0uZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJldHVybiB0aGlzLmZsaXBwZWQ7XG4gICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiQ2hhbmdlIEFnYWluXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmRvd25QcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk5vdCBJbXBsZW1lbnRlZFwiKTtcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kcmF3RmxpcHBlZChib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kcmF3Tm90RmxpcHBlZChib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhd1ZlcnRpY2FsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvL0RvIGxhdGVyXG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmRyYXdGbGlwcGVkID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLnJvdyA9PT0gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaTsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIGpdW3RoaXMuY29sXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIGpdW3RoaXMuY29sXS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy9nYW1lIG92ZXJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93XVxuICAgICAgICAgICAgJiYgYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVxuICAgICAgICAgICAgJiYgYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVxuICAgICAgICAgICAgJiYgYm9hcmRtYXBbdGhpcy5yb3cgKyAzXSkge1xuICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93IC0gMV0pIHtcbiAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDFdW3RoaXMuY29sXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDFdW3RoaXMuY29sXS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDRdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDRdW3RoaXMuY29sXS5lbXB0eSkgeyAvL0xhc3Qgc3F1YXJlXG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE1ICYmICFib2FyZG1hcFt0aGlzLnJvdyArIDRdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgIC8vVGhpcyBoZXJlIHByb2JhYmx5IGRvZXNuJ3Qgd29ya1xuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAzXSkge1xuICAgICAgICAgICAgdGhpcy5yb3cgPSAwO1xuICAgICAgICAgICAgdGhpcy5jb2wgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTApICsgMCk7XG4gICAgICAgICAgICAvL1dlIGhhdmUgc3RvcHBlZCBtdXN0IGNhbGN1bGF0ZSBpZiB3ZSBuZWVkIHRvIGNsZWFyLlxuICAgICAgICAgICAgLy8gdGhpcy5jaGVja0JvYXJkRm9yUm93cyhib2FyZG1hcCk7XG4gICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhd05vdEZsaXBwZWQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMucm93ID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGk7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgal0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgal0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vZ2FtZSBvdmVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvd10gJiYgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXVxuICAgICAgICAgICAgJiYgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMV1cbiAgICAgICAgICAgICYmIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDJdXG4gICAgICAgICAgICAmJiBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAzXSkge1xuICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93IC0gMV0pIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDFdW3RoaXMuY29sICsgaV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2wgKyBpXS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgaV0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTkgJiYgIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyBpXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdKSB7XG4gICAgICAgICAgICAvL3RoaXMuY2hlY2tCb2FyZEZvclJvd3MoYm9hcmRtYXApOyAgICBcbiAgICAgICAgICAgIC8vIHRoaXMuaW5pdFAoKTtcbiAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkZpbmlzaGluZyFcIik7XG4gICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJUGllY2U7XG59KCkpO1xuZXhwb3J0cy5JUGllY2UgPSBJUGllY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBJUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QbGF5ZXJzL0lQaWVjZVwiKTtcbnZhciBPUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QbGF5ZXJzL09QaWVjZVwiKTtcbnZhciBUUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVFBpZWNlKGJvYXJkbWFwKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb2xvciA9IFwicmdiKDY2LCA2NiwgNjYpXCI7XG4gICAgICAgIC8vdGhpcy5raW5kID0ga2luZDtcbiAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgfVxuICAgIFRQaWVjZS5wcm90b3R5cGUucHJpbnRCb2FyZCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxMDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW2ldW2pdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZyArIFwieFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgXCJvXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coc3RyaW5nKTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJfXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmluaXRQID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNwZWljZUxpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVR5cGUoKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIucm93ID0gLTE7XG4gICAgICAgIHRoaXMuZmlyc3RUaW1lID0gdHJ1ZTtcbiAgICAgICAgLy90aGlzLnBsYXllci5jb2wgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAwKTtcbiAgICAgICAgdGhpcy5jaGVja0JvYXJkRm9yUm93cyhib2FyZG1hcCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmxlZnRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICB0aGlzLnBsYXllci5sZWZ0UHJlc3MoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICB0aGlzLmRyYXcoYm9hcmRtYXAsIGxlZnQpO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMucGxheWVyLnJpZ2h0UHJlc3MoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICB0aGlzLmRyYXcoYm9hcmRtYXAsIGxlZnQpO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS51cFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8vICB0aGlzLnByaW50Qm9hcmQoYm9hcmRtYXApO1xuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiQXR0ZW1wdGluZyB0cmFuc2Zvcm1hdGlvblwiKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIudXBQcmVzcyhib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIC8vIHRoaXMucHJpbnRCb2FyZChib2FyZG1hcCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmRvd25QcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICB0aGlzLnBsYXllci5kb3duUHJlc3MoYm9hcmRtYXApO1xuICAgICAgICB0aGlzLmRyYXcoYm9hcmRtYXAsIGxlZnQpO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5nZW5lcmF0ZVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0eXBlID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDIpICsgMSk7XG4gICAgICAgIC8vICBzd2l0Y2godHlwZSl7XG4gICAgICAgIC8vICAgICAgY2FzZSAwOlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIjBcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICAgY2FzZSAxOlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIlRcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICAgY2FzZSAyOlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIklcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICAgY2FzZSAzOlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIlNcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICAgY2FzZSA0OlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIlpcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICAgY2FzZSA1OlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIkpcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICAgY2FzZSA2OlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIkxcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICB9XG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhcInR5cGUgaGVyZSA9IFwiK3R5cGUpO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBcIklcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyAgY29uc29sZS5sb2coXCJBYm91dCB0byBkbyBuZXh0IGtpbmQ6XCIrdGhpcy5raW5kKTtcbiAgICAgICAgaWYgKHRoaXMua2luZCA9PT0gXCJJXCIpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IElQaWVjZV8xLklQaWVjZSgpOyAvL25ldyBPUGllY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmtpbmQgPT09IFwiMFwiKSB7XG4gICAgICAgICAgICAvLyAgY29uc29sZS5sb2coXCJDcmVhdGluZyBPcGllY2VcIik7XG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBPUGllY2VfMS5PUGllY2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8vICAgY29uc29sZS5sb2coXCJjYWxsaW5nIGRyYXdcIik7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5kb25lKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBJUGllY2VfMS5JUGllY2UoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmV0dXJudmFsID0gdGhpcy5wbGF5ZXIuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5kb25lKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBJUGllY2VfMS5JUGllY2UoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdFAoYm9hcmRtYXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm52YWw7XG4gICAgfTtcbiAgICAvLyBkcmF3SUZsaXBwZWQoYm9hcmRtYXA6UGllY2VbXVtdLGxlZnQ6bnVtYmVyKXsvL3ZlcnRpY2xlXG4gICAgLy8gICAgICB2YXIgdmFsdG9yZXR1cm4gPSB0aGlzLnBsYXllci5kcmF3RmxpcHBlZChib2FyZG1hcCxsZWZ0KTtcbiAgICAvLyAgICAgIGlmICh0aGlzLnBsYXllci5kb25lKXtcbiAgICAvLyAgICAgICAgIHRoaXMuaW5pdFAoYm9hcmRtYXApO1xuICAgIC8vICAgICAgfVxuICAgIC8vICAgICAgcmV0dXJuIHZhbHRvcmV0dXJuO1xuICAgIC8vIH1cbiAgICAvLyBkcmF3SU5vdEZsaXBwZWQoYm9hcmRtYXA6UGllY2VbXVtdLGxlZnQ6bnVtYmVyKXsgLy9ob3Jpem9udGFsXG4gICAgLy8gICAgIHZhciB2YWx0b3JldHVybiA9IHRoaXMucGxheWVyLmRyYXdOb3RGbGlwcGVkKGJvYXJkbWFwLGxlZnQpO1xuICAgIC8vICAgICBpZih0aGlzLnBsYXllci5kb25lKXtcbiAgICAvLyAgICAgICAgIHRoaXMuaW5pdFAoYm9hcmRtYXApO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJldHVybiB2YWx0b3JldHVybjtcbiAgICAvLyB9XG4gICAgVFBpZWNlLnByb3RvdHlwZS5kZWNyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBsYXllci5kZWNyKCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmNoZWNrQm9hcmRGb3JSb3dzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBkcmF3XCIpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gMjA7XG4gICAgICAgIHZhciB3aWR0aCA9IDEwO1xuICAgICAgICBmb3IgKHZhciBpID0gaGVpZ2h0IC0gMTsgaSA+IC0xOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBOZWVkVG9EZWxldGUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IHdpZHRoIC0gMTsgaiA+IC0xOyBqLS0pIHtcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbaV1bal0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmVlZFRvRGVsZXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE5lZWRUb0RlbGV0ZSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSBpOyBrID4gMTsgLS1rKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgd2lkdGg7ICsrbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBba11bbF0uZW1wdHkgPSBib2FyZG1hcFtrIC0gMV1bbF0uZW1wdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFtrXVtsXS5jb2xvciA9IGJvYXJkbWFwW2sgLSAxXVtsXS5jb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHdpZHRoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbMF1bal0uZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFswXVtqXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjsgLy8gfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQm9hcmRGb3JSb3dzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRQaWVjZTtcbn0oKSk7XG5leHBvcnRzLlRQaWVjZSA9IFRQaWVjZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFBpZWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBpZWNlKGNvbG9yLCBsZWZ0LCB0b3ApIHtcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICB9XG4gICAgUGllY2UucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoY3R4LCBvZmZzZXQpIHtcbiAgICAgICAgLy8gdGhpcy5sZWZ0ID0gb2Zmc2V0O1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcbiAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMubGVmdCArIDIgKyBvZmZzZXQsIHRoaXMudG9wICsgMiArIDYwLCAzOCwgMzgpO1xuICAgIH07XG4gICAgcmV0dXJuIFBpZWNlO1xufSgpKTtcbmV4cG9ydHMuUGllY2UgPSBQaWVjZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFBpZWNlXzEgPSByZXF1aXJlKFwiLi4vUGllY2UvUGllY2VcIik7XG52YXIgVFBpZWNlXzEgPSByZXF1aXJlKFwiLi4vUGllY2UvVFBpZWNlXCIpO1xudmFyIEJvYXJkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJvYXJkKCkge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teUNhbnZhcycpO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoMzgsIDM3LCAzNyknOyAvL2JsYWNrXG4gICAgICAgIHRoaXMuYm9hcmRtYXAgPSBbXTtcbiAgICAgICAgdGhpcy56ZXJvQm9hcmQoKTtcbiAgICAgICAgdGhpcy5pbml0Qm9hcmQoKTtcbiAgICAgICAgdGhpcy5nYW1lSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgIHRoaXMudCA9IG5ldyBUUGllY2VfMS5UUGllY2UodGhpcy5ib2FyZG1hcCk7XG4gICAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpO1xuICAgICAgICB0aGlzLmxlZnQgPSBjZW50ZXIgLSAyMDA7XG4gICAgfVxuICAgIEJvYXJkLnByb3RvdHlwZS5nZXRQaWVjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudDtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMud2lkdGggLyAyKTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5rZXlQcmVzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gJzM4Jykge1xuICAgICAgICAgICAgLy8gdXAgYXJyb3dcbiAgICAgICAgICAgIHRoaXMudC51cFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICc0MCcpIHtcbiAgICAgICAgICAgIHRoaXMudC5kb3duUHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gJzM3Jykge1xuICAgICAgICAgICAgLy8gbGVmdCBhcnJvd1xuICAgICAgICAgICAgdGhpcy50LmxlZnRQcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PSAnMzknKSB7XG4gICAgICAgICAgICAvLyByaWdodCBhcnJvd1xuICAgICAgICAgICAgdGhpcy50LnJpZ2h0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmRlY3JUaW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5nYW1lSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcIkdhbWUgaW4gcG9yZ3Jlc3NcIik7XG4gICAgICAgICAgICB0aGlzLnQuZGVjcigpO1xuICAgICAgICAgICAgdmFyIHN1Y2Nlc3MgPSB0aGlzLnQuZHJhdyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTm8gaW4gcHJvZ3Jlc3NcIik7XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuemVyb0JvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5pbml0Qm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpO1xuICAgICAgICB2YXIgbGVmdCA9IGNlbnRlciAtIDIwMDtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdmFyIHRvcCA9IDYwO1xuICAgICAgICB2YXIgbG9jYWxjb2xvciA9IFwicmdiKDY2LCA2NiwgNjYpXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICAgICAgICAgICAgLy9pID0gcm93c1xuICAgICAgICAgICAgdmFyIG1pZGRsZUxpc3QgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTA7ICsraikge1xuICAgICAgICAgICAgICAgIC8vY29sdW1uc1xuICAgICAgICAgICAgICAgIHZhciBwdXNobWVQZWFjZSA9IG5ldyBQaWVjZV8xLlBpZWNlKGxvY2FsY29sb3IsIChqICogNDApLCAoaSAqIDQwKSk7XG4gICAgICAgICAgICAgICAgcHVzaG1lUGVhY2UuZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG1pZGRsZUxpc3QucHVzaChwdXNobWVQZWFjZSk7XG4gICAgICAgICAgICAgICAgLy90aGlzLmJvYXJkbWFwW2ktMV1bai0xXSA9IG5ldyBTcGVhY2UobG9jYWxjb2xvcixsZWZ0KyhqKjQwKSx0b3ArKGkqNDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYm9hcmRtYXAucHVzaChtaWRkbGVMaXN0KTtcbiAgICAgICAgICAgIG1pZGRsZUxpc3QgPSBbXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmRyYXdCb2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy56ZXJvQm9hcmQoKTtcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgICAgIHZhciBsZWZ0ID0gY2VudGVyIC0gMjAwO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICdyZ2IoMjU1LCAyNTUsIDI1NSknO1xuICAgICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAxO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VSZWN0KGxlZnQsIDYwLCA0MDAsIDgwMCk7XG4gICAgICAgIHRoaXMuZHJhd0xpbmVzKGxlZnQpO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5ib2FyZG1hcDsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciB0b3BlbnRyeSA9IF9hW19pXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgdG9wZW50cnlfMSA9IHRvcGVudHJ5OyBfYiA8IHRvcGVudHJ5XzEubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gdG9wZW50cnlfMVtfYl07XG4gICAgICAgICAgICAgICAgZW50cnkuZHJhdyh0aGlzLmN0eCwgbGVmdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5kcmF3TGluZXMgPSBmdW5jdGlvbiAobGVmdCkge1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICdyZ2IoOTEsIDg5LCA4OSknO1xuICAgICAgICB2YXIgbGluZUJvdHRvbSA9IDYwO1xuICAgICAgICB2YXIgbGluZVRvcCA9IDYwICsgODAwO1xuICAgICAgICAvL0RyYXcgaG9yaXpvbnRhbCBsaW5lc1xuICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSA0MDsgb2Zmc2V0IDwgNDAwOyBvZmZzZXQgPSBvZmZzZXQgKyA0MCkge1xuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKGxlZnQgKyBvZmZzZXQsIGxpbmVCb3R0b20pO1xuICAgICAgICAgICAgdGhpcy5jdHgubGluZVRvKGxlZnQgKyBvZmZzZXQsIGxpbmVUb3ApO1xuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gNjA7IG9mZnNldCA8IDgwMCArIDYwOyBvZmZzZXQgPSBvZmZzZXQgKyA0MCkge1xuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKGxlZnQsIG9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8obGVmdCArIDQwMCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQm9hcmQ7XG59KCkpO1xuZXhwb3J0cy5Cb2FyZCA9IEJvYXJkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQm9hcmRfMSA9IHJlcXVpcmUoXCIuL0JvYXJkL0JvYXJkXCIpO1xudmFyIGJvYXJkID0gbmV3IEJvYXJkXzEuQm9hcmQoKTtcbmZ1bmN0aW9uIGRyYXdCb2FyZCgpIHtcbiAgICAvL2NvbnNvbGUubG9nKFwiQ2FsbGluZyBkcmF3IGJvYXJkXCIpXG4gICAgYm9hcmQuZHJhd0JvYXJkKCk7XG59XG47XG5mdW5jdGlvbiBkZXNjVGltZSgpIHtcbiAgICBib2FyZC5kZWNyVGltZSgpO1xufVxuLy8gYm9hcmQuZHJhd0JvYXJkKCk7XG52YXIgdGltZXJGb3JMb2FkaW5nUmVzdWx0ID0gd2luZG93LnNldEludGVydmFsKGRyYXdCb2FyZCwgMjApO1xudmFyIHRpbWVyRm9yTG9hZGluZ1Jlc3VsdCA9IHdpbmRvdy5zZXRJbnRlcnZhbChkZXNjVGltZSwgNDAwKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2hlY2ssIGZhbHNlKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZ2FtZXBhZGNvbm5lY3RlZFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGNvbnNvbGUubG9nKFwiR2FtZXBhZCBjb25uZWN0ZWQgYXQgaW5kZXggJWQ6ICVzLiAlZCBidXR0b25zLCAlZCBheGVzLlwiLCBlLmdhbWVwYWQuaW5kZXgsIGUuZ2FtZXBhZC5pZCwgZS5nYW1lcGFkLmJ1dHRvbnMubGVuZ3RoLCBlLmdhbWVwYWQuYXhlcy5sZW5ndGgpO1xufSk7XG5mdW5jdGlvbiBjaGVjayhlKSB7XG4gICAgYm9hcmQua2V5UHJlc3MoZSk7XG59XG53aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBib2FyZC5kcmF3Qm9hcmQoKTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9