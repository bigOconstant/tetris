!function(t){var o={};function e(i){if(o[i])return o[i].exports;var r=o[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=o,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var r in t)e.d(i,r,function(o){return t[o]}.bind(null,r));return i},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=7)}([function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){return function(t,o){this.row=t,this.col=o}}();o.Coordinate=i},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.coordinates=[],this.flipped=Math.random()<.5,this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+2),this.state=1}return t.prototype.incrementState=function(){this.state<4?++this.state:this.state=1},t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(;this.coordinates.length>0;){var o=this.coordinates.pop();this.deleteToPoint(t,o.row,o.col)}},t.prototype.drawSelf=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2))},t.prototype.drawSelfFlipped=function(t){this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1))},t.prototype.drawSelfRight=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1))},t.prototype.drawSelfLeft=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1))},t.prototype.leftPress=function(t,o){switch(this.state){case 1:if(!(this.col>0)){this.deleteCoordinates(t);break}if(!this.checkLeftUp(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break;case 2:if(this.col>-1&&!this.checkLeftRight(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break;case 3:if(this.col>0){if(!this.checkLeftDown(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break}this.deleteCoordinates(t);break;case 4:if(this.col>0){if(!this.checkLeftLeft(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break}this.deleteCoordinates(t)}},t.prototype.rightPress=function(t,o){switch(this.state){case 1:if(this.col<7&&!this.checkRightUp(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t);break;case 2:if(this.col<7&&!this.checkRightRight(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t);break;case 3:if(this.col<7&&!this.checkRightDown(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t);break;case 4:if(this.col<8&&!this.checkRightLeft(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t)}},t.prototype.upPress=function(t,o){switch(this.state){case 1:this.deleteCoordinates(t),this.col<8&&(this.state=2);break;case 2:this.deleteCoordinates(t),this.col>-1&&(this.state=3);break;case 3:this.deleteCoordinates(t),this.state=4;break;case 4:this.deleteCoordinates(t),this.col<8&&(this.state=1)}},t.prototype.downPress=function(t){switch(this.state){case 1:this.row<18&&(this.checkBelowup(t,1)||(this.deleteCoordinates(t),++this.row));break;case 2:if(this.row<17){this.checkBelowRight(t,1)||(this.deleteCoordinates(t),++this.row);break}break;case 3:this.row<17&&(this.checkBelowDown(t,1)||(this.deleteCoordinates(t),++this.row));break;case 4:if(this.row<17){this.checkBelowLeft(t,1)||(this.deleteCoordinates(t),++this.row);break}}},t.prototype.checkLeftUp=function(t,o){var e=!1;return t[this.row+1][this.col-1].empty||(e=!0),t[this.row][this.col].empty||(e=!0),e},t.prototype.checkRightUp=function(t,o){var e=!1;return t[this.row+1][this.col+3].empty||(e=!0),t[this.row][this.col+2].empty||(e=!0),e},t.prototype.checkRightRight=function(t,o){var e=!1;return t[this.row][this.col+2].empty||(e=!0),t[this.row+1][this.col+3].empty||(e=!0),t[this.row+2][this.col+2].empty||(e=!0),e},t.prototype.checkLeftRight=function(t,o){var e=!1;return t[this.row][this.col].empty||(e=!0),t[this.row+1][this.col].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkRightLeft=function(t,o){var e=!1;return t[this.row][this.col+2].empty||(e=!0),t[this.row+1][this.col+2]||(e=!0),t[this.row+2][this.col+2]||(e=!0),e},t.prototype.checkLeftLeft=function(t,o){var e=!1;return t[this.row][this.col].empty||(e=!0),t[this.row+1][this.col-1].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkLeftDown=function(t,o){var e=!1;return t[this.row+1][this.col-1].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkRightDown=function(t,o){var e=!1;return t[this.row+1][this.col+3].empty||(e=!0),t[this.row+2][this.col+2].empty||(e=!0),e},t.prototype.checkBelowup=function(t,o){var e=!1;return t[this.row+1+o][this.col].empty||(e=!0),t[this.row+1+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col+2].empty||(e=!0),e},t.prototype.checkBelowDown=function(t,o){var e=!1;return t[this.row+1+o][this.col].empty||(e=!0),t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col+2].empty||(e=!0),e},t.prototype.checkBelowLeft=function(t,o){var e=!1;return t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col].empty||(e=!0),e},t.prototype.checkBelowRight=function(t,o){var e=!1;return t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col+2].empty||(e=!0),e},t.prototype.draw=function(t,o){switch(this.state){case 1:if(this.row>18)return this.done=!0,!0;if(this.checkBelowup(t,0))return this.done=!0,0!==this.row;this.row>0&&this.deleteCoordinates(t),this.drawSelf(t);break;case 2:if(this.row>17)return this.done=!0,!0;if(this.row<17&&this.checkBelowRight(t,0))return this.done=!0,!0;if(this.checkBelowRight(t,0))return this.done=!0,!0;this.row>0&&this.deleteCoordinates(t),this.drawSelfRight(t);break;case 4:if(this.row>17)return this.done=!0,!0;if(this.row<17&&this.checkBelowLeft(t,0))return this.done=!0,!0;if(this.checkBelowLeft(t,0))return this.done=!0,!0;this.row>0&&this.deleteCoordinates(t),this.drawSelfLeft(t);break;case 3:if(this.row>17)return this.done=!0,!0;if(this.checkBelowDown(t,0))return this.done=!0,!0;this.row>0&&this.deleteCoordinates(t),this.drawSelfFlipped(t)}return!0},t.prototype.decr=function(){this.row=this.row+1},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t}();o.XPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.flipped=Math.random()<.5,this.setcolor(),this.done=!1,this.coordinates=[],this.col=Math.floor(3*Math.random()+2)}return t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(;this.coordinates.length>0;){var o=this.coordinates.pop();this.deleteToPoint(t,o.row,o.col)}},t.prototype.draw=function(t,o){return 19==this.row?(this.done=!0,!0):-1!==this.row?0===this.row?(this.drawSelf(t),!0):1===this.row?(this.deleteCoordinates(t),this.drawSelf(t),!0):this.checkBelow(t,-1)?(this.done=!0,!0):(this.deleteCoordinates(t),this.drawSelf(t),!0):void this.drawFirstSelf(t)},t.prototype.drawFlipped=function(t,o){console.log("Don't need this method :")},t.prototype.drawNotFlipped=function(t,o){console.log("Also don't need this method ;")},t.prototype.decr=function(){this.row=this.row+1},t.prototype.drawSelf=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1))},t.prototype.checkBelow=function(t,o){return!t[this.row+2+o][this.col].empty||!t[this.row+2+o][this.col+1].empty},t.prototype.drawFirstSelf=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col)),this.drawToPoint(t,new i.Coordinate(this.row,this.col+1))},t.prototype.downPress=function(t){this.row<18&&(t[this.row+2][this.col].empty&&(t[this.row+2][this.col+1].empty&&(this.deleteCoordinates(t),++this.row),this.deleteCoordinates(t)),this.deleteCoordinates(t)),this.deleteCoordinates(t)},t.prototype.leftPress=function(t,o){0!==this.col?(this.col>0&&t[this.row][this.col-1].empty&&this.row<19&&(t[this.row+1][this.col-1].empty?(this.deleteCoordinates(t),--this.col):this.deleteCoordinates(t)),this.deleteCoordinates(t)):this.deleteCoordinates(t)},t.prototype.rightPress=function(t,o){9!==this.col&&(this.col<9&&t[this.row][this.col+2].empty&&(this.row<19?t[this.row+1][this.col+2].empty&&(this.deleteCoordinates(t),++this.col):this.deleteCoordinates(t)),this.deleteCoordinates(t))},t.prototype.upPress=function(t,o){this.deleteCoordinates(t)},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t}();o.OPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.flipped=!0,this.coordinates=[],this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+0)}return t.prototype.decr=function(){this.row=this.row+1},t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(;this.coordinates.length>0;){var o=this.coordinates.pop();this.deleteToPoint(t,o.row,o.col)}},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t.prototype.leftPress=function(t,o){this.flipped?(this.col>=-1&&(this.checkLeftVertical(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),--this.col)),this.deleteCoordinates(t)):(this.col>=0&&(this.checkLeftHorizontal(t)||(this.deleteCoordinates(t),--this.col)),this.deleteCoordinates(t))},t.prototype.rightPress=function(t,o){this.flipped?this.col<11?this.checkRightVertical(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),++this.col):this.deleteCoordinates(t):this.col<6?this.checkRightHorizontal(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),++this.col):this.deleteCoordinates(t)},t.prototype.upPress=function(t,o){this.flipped?this.checkVerticalToHorizontal(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),this.flipped=!this.flipped):this.checkHorizontalToVertical(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),this.flipped=!this.flipped)},t.prototype.checkVerticalToHorizontal=function(t){return this.col>6||(-1===this.col||(!t[this.row+1][this.col].empty||(!t[this.row+1][this.col+2].empty||!t[this.row+1][this.col+3].empty)))},t.prototype.checkHorizontalToVertical=function(t){return this.row>17||(!t[this.row][this.col+1].empty||(!t[this.row+2][this.col+1].empty||!t[this.row+3][this.col+1].empty))},t.prototype.downPress=function(t){this.flipped?this.row<16&&(this.checkBelowVertical(t,1)||(this.deleteCoordinates(t),this.row++)):this.row<18&&(this.checkBelowHorizontal(t,0)||(this.deleteCoordinates(t),this.row++))},t.prototype.draw=function(t,o){return this.flipped?this.drawFlipped(t,o):this.drawNotFlipped(t,o)},t.prototype.drawVertical=function(t,o){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+3,this.col+1))},t.prototype.drawHorizontal=function(t,o){this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+3))},t.prototype.checkLeftVertical=function(t){var o=!1;if(this.col<0)return!0;for(var e=this.row;e<this.row+4;++e)t[e][this.col].empty||(o=!0);return o},t.prototype.checkRightVertical=function(t){var o=!1;if(this.col>7)return!0;for(var e=this.row;e<this.row+4;++e)t[e][this.col+2].empty||(o=!0);return o},t.prototype.checkRightHorizontal=function(t){return!t[this.row+1][this.col+4].empty},t.prototype.checkLeftHorizontal=function(t){return 0===this.col||!t[this.row+1][this.col-1].empty},t.prototype.checkBelowHorizontal=function(t,o){var e=!1;if(this.row+2+o===20)e=!0;else for(var i=this.col;i<this.col+4;++i)t[this.row+2+o][i].empty||(e=!0);return e},t.prototype.checkBelowVertical=function(t,o){return this.row+3===20||!t[this.row+3+o][this.col+1].empty},t.prototype.drawFlipped=function(t,o){return 0===this.row?this.checkBelowVertical(t,1)?(this.done=!0,!1):(this.drawVertical(t,o),!0):this.row<17?this.checkBelowVertical(t,0)?(this.done=!0,!0):(this.deleteCoordinates(t),this.drawVertical(t,o),!0):(this.done=!0,!0)},t.prototype.drawNotFlipped=function(t,o){return 0===this.row?this.checkBelowHorizontal(t,-1)?(this.done=!0,!1):(this.deleteCoordinates(t),this.drawHorizontal(t,o),!0):this.row<21?this.checkBelowHorizontal(t,-1)?(this.done=!0,!0):(this.deleteCoordinates(t),this.drawHorizontal(t,o),!0):(this.done=!0,!0)},t}();o.IPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(3),r=e(2),s=e(1),h=function(){function t(t){this.originalColor="rgb(66, 66, 66)",this.initP(t)}return t.prototype.printBoard=function(t){for(var o=0;o<20;++o){for(var e="",i=0;i<10;++i)t[o][i].empty?e+="x":e+="o";console.log(e)}},t.prototype.initP=function(t){this.started=!1,this.speiceList=[],this.generateType(),this.player.row=-1,this.firstTime=!0,this.checkBoardForRows(t)},t.prototype.leftPress=function(t,o){this.player.leftPress(t,o),this.draw(t,o)},t.prototype.rightPress=function(t,o){this.player.rightPress(t,o),this.draw(t,o)},t.prototype.upPress=function(t,o){this.player.upPress(t,o),this.draw(t,o)},t.prototype.downPress=function(t,o){this.player.downPress(t),this.draw(t,o)},t.prototype.generateType=function(){switch(Math.floor(3*Math.random()+1)){case 1:this.kind="I";break;case 2:this.kind="0";break;case 3:this.kind="X"}"I"===this.kind?this.player=new i.IPiece:"0"===this.kind?this.player=new r.OPiece:"X"===this.kind&&(this.player=new s.XPiece)},t.prototype.draw=function(t,o){this.player.done&&(this.player=new i.IPiece);var e=this.player.draw(t,o);return this.player.done&&(this.player=new i.IPiece,this.initP(t)),e},t.prototype.decr=function(){this.player.decr()},t.prototype.checkBoardForRows=function(t){for(var o=19;o>-1;o--){for(var e=!0,i=9;i>-1;i--)t[o][i].empty&&(e=!1);if(e){for(var r=o;r>1;--r)for(var s=0;s<10;++s)t[r][s].empty=t[r-1][s].empty,t[r][s].color=t[r-1][s].color;for(i=0;i<10;i++)t[0][i].empty=!0,t[0][i].color=this.originalColor;this.checkBoardForRows(t)}}},t}();o.TPiece=h},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t,o,e){this.color=t,this.left=o,this.top=e}return t.prototype.draw=function(t,o){t.fillStyle=this.color,t.fillRect(this.left+2+o,this.top+2+60,38,38)},t}();o.Piece=i},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(5),r=e(4),s=function(){function t(){this.canvas=document.querySelector(".myCanvas"),this.backgroundColor="rgb(38, 37, 37)",this.boardmap=[],this.zeroBoard(),this.initBoard(),this.gameInProgress=!0,this.t=new r.TPiece(this.boardmap);var t=this.getCenter();this.left=t-200,this.canvas.addEventListener("touchstart",function(o){var e=this.getTouchPos(this.canvas,o);console.log("Touching"),e.x>t?this.t.rightPress(this.boardmap,this.left):e.x<t&&this.t.leftPress(this.boardmap,this.left)},!1)}return t.prototype.getTouchPos=function(t,o){var e=t.getBoundingClientRect();return{x:o.touches[0].clientX-e.left,y:o.touches[0].clientY-e.top}},t.prototype.getPiece=function(){return this.t},t.prototype.getCenter=function(){return Math.floor(this.width/2)},t.prototype.keyPress=function(t){"38"==t.keyCode?this.t.upPress(this.boardmap,this.left):"40"==t.keyCode?this.t.downPress(this.boardmap,this.left):"37"==t.keyCode?this.t.leftPress(this.boardmap,this.left):"39"==t.keyCode&&this.t.rightPress(this.boardmap,this.left)},t.prototype.decrTime=function(){this.gameInProgress&&(this.t.decr(),this.t.draw(this.boardmap,this.left)||(this.gameInProgress=!1))},t.prototype.zeroBoard=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.width=window.innerWidth,this.height=window.innerHeight,this.ctx=this.canvas.getContext("2d")},t.prototype.initBoard=function(){var t=this.getCenter()-200;this.left=t;for(var o=0;o<20;o++){for(var e=[],r=0;r<10;++r){var s=new i.Piece("rgb(66, 66, 66)",40*r,40*o);s.empty=!0,e.push(s)}this.boardmap.push(e),e=[]}},t.prototype.drawBoard=function(){this.zeroBoard(),this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height);var t=this.getCenter()-200;this.left=t,this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.lineWidth=1,this.ctx.strokeRect(t,60,400,800),this.drawLines(t);for(var o=0,e=this.boardmap;o<e.length;o++)for(var i=0,r=e[o];i<r.length;i++){r[i].draw(this.ctx,t)}},t.prototype.drawLines=function(t){this.ctx.strokeStyle="rgb(91, 89, 89)";for(var o=40;o<400;o+=40)this.ctx.moveTo(t+o,60),this.ctx.lineTo(t+o,860),this.ctx.stroke();for(o=60;o<860;o+=40)this.ctx.moveTo(t,o),this.ctx.lineTo(t+400,o),this.ctx.stroke()},t}();o.Board=s},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=new(e(6).Board);window.setInterval(function(){i.drawBoard()},20),window.setInterval(function(){i.decrTime()},400);window.addEventListener("keydown",function(t){i.keyPress(t)},!1),window.addEventListener("gamepadconnected",function(t){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",t.gamepad.index,t.gamepad.id,t.gamepad.buttons.length,t.gamepad.axes.length)}),window.onresize=function(t){i.drawBoard()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BsYXllcnMvQ29vcmRpbmF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGxheWVycy9YUGllY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BsYXllcnMvT1BpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QbGF5ZXJzL0lQaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGllY2UvVFBpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QaWVjZS9QaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvQm9hcmQvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ29vcmRpbmF0ZSIsInRoaXMiLCJyb3ciLCJjb2wiLCJDb29yZGluYXRlXzEiLCJYUGllY2UiLCJvcmlnaW5hbENvbG9yIiwiY29vcmRpbmF0ZXMiLCJmbGlwcGVkIiwiTWF0aCIsInJhbmRvbSIsInNldGNvbG9yIiwiZG9uZSIsImZsb29yIiwic3RhdGUiLCJpbmNyZW1lbnRTdGF0ZSIsImRyYXdUb1BvaW50IiwiYm9hcmRtYXAiLCJDb3JkIiwiY29sb3IiLCJlbXB0eSIsInB1c2giLCJjb25zb2xlIiwibG9nIiwiZGVsZXRlVG9Qb2ludCIsIngiLCJ5IiwiZGVsZXRlQ29vcmRpbmF0ZXMiLCJsZW5ndGgiLCJjdXJyZW50IiwicG9wIiwiZHJhd1NlbGYiLCJkcmF3U2VsZkZsaXBwZWQiLCJkcmF3U2VsZlJpZ2h0IiwiZHJhd1NlbGZMZWZ0IiwibGVmdFByZXNzIiwibGVmdCIsImNoZWNrTGVmdFVwIiwiY2hlY2tMZWZ0UmlnaHQiLCJjaGVja0xlZnREb3duIiwiY2hlY2tMZWZ0TGVmdCIsInJpZ2h0UHJlc3MiLCJjaGVja1JpZ2h0VXAiLCJjaGVja1JpZ2h0UmlnaHQiLCJjaGVja1JpZ2h0RG93biIsImNoZWNrUmlnaHRMZWZ0IiwidXBQcmVzcyIsImRvd25QcmVzcyIsImNoZWNrQmVsb3d1cCIsImNoZWNrQmVsb3dSaWdodCIsImNoZWNrQmVsb3dEb3duIiwiY2hlY2tCZWxvd0xlZnQiLCJtb2RpZmllciIsIlRvTGVmdCIsInRvUmlnaHQiLCJ0b0xlZnQiLCJiZWxvdyIsImRyYXciLCJkZWNyIiwiT1BpZWNlIiwiY2hlY2tCZWxvdyIsImRyYXdGaXJzdFNlbGYiLCJkcmF3RmxpcHBlZCIsImRyYXdOb3RGbGlwcGVkIiwiSVBpZWNlIiwiY2hlY2tMZWZ0VmVydGljYWwiLCJjaGVja0xlZnRIb3Jpem9udGFsIiwiY2hlY2tSaWdodFZlcnRpY2FsIiwiY2hlY2tSaWdodEhvcml6b250YWwiLCJjaGVja1ZlcnRpY2FsVG9Ib3Jpem9udGFsIiwiY2hlY2tIb3Jpem9udGFsVG9WZXJ0aWNhbCIsImNoZWNrQmVsb3dWZXJ0aWNhbCIsImNoZWNrQmVsb3dIb3Jpem9udGFsIiwiZHJhd1ZlcnRpY2FsIiwiZHJhd0hvcml6b250YWwiLCJibG9ja2VkIiwiSVBpZWNlXzEiLCJPUGllY2VfMSIsIlhQaWVjZV8xIiwiVFBpZWNlIiwiaW5pdFAiLCJwcmludEJvYXJkIiwic3RyaW5nIiwiaiIsInN0YXJ0ZWQiLCJzcGVpY2VMaXN0IiwiZ2VuZXJhdGVUeXBlIiwicGxheWVyIiwiZmlyc3RUaW1lIiwiY2hlY2tCb2FyZEZvclJvd3MiLCJraW5kIiwicmV0dXJudmFsIiwiaGVpZ2h0IiwiTmVlZFRvRGVsZXRlIiwid2lkdGgiLCJrIiwiUGllY2UiLCJ0b3AiLCJjdHgiLCJvZmZzZXQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIlBpZWNlXzEiLCJUUGllY2VfMSIsIkJvYXJkIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYmFja2dyb3VuZENvbG9yIiwiemVyb0JvYXJkIiwiaW5pdEJvYXJkIiwiZ2FtZUluUHJvZ3Jlc3MiLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsIm1vdXNlUG9zIiwiZ2V0VG91Y2hQb3MiLCJjYW52YXNEb20iLCJ0b3VjaEV2ZW50IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImdldFBpZWNlIiwia2V5UHJlc3MiLCJrZXlDb2RlIiwiZGVjclRpbWUiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJnZXRDb250ZXh0IiwibWlkZGxlTGlzdCIsInB1c2htZVBlYWNlIiwiZHJhd0JvYXJkIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2VSZWN0IiwiZHJhd0xpbmVzIiwiX2kiLCJfYSIsIl9iIiwidG9wZW50cnlfMSIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImJvYXJkIiwic2V0SW50ZXJ2YWwiLCJnYW1lcGFkIiwiaW5kZXgiLCJpZCIsImJ1dHRvbnMiLCJheGVzIiwib25yZXNpemUiLCJldmVudCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFyQixFQUFBVSxFQUFBZSxFQUFBRSxFQUFBLFNBQUFBLEdBQWdILE9BQUFOLEVBQUFNLElBQXFCQyxLQUFBLEtBQUFELElBQ3JJLE9BQUFGLEdBSUF6QixFQUFBNkIsRUFBQSxTQUFBMUIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBcUIsV0FDQSxXQUEyQixPQUFBckIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQWlCLEVBQUFDLEdBQXNELE9BQUFqQixPQUFBa0IsVUFBQUMsZUFBQTFCLEtBQUF1QixFQUFBQyxJQUd0RC9CLEVBQUFrQyxFQUFBLEdBSUFsQyxJQUFBbUMsRUFBQSxrQ0NqRkFyQixPQUFBQyxlQUFBYixFQUFBLGNBQThDbUIsT0FBQSxJQUM5QyxJQUFBZSxFQUFBLFdBS0EsT0FKQSxTQUFBbEIsRUFBQVQsR0FDQTRCLEtBQUFDLElBQUFwQixFQUNBbUIsS0FBQUUsSUFBQTlCLEdBSEEsR0FPQVAsRUFBQWtDLDJDQ1JBdEIsT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q21CLE9BQUEsSUFDOUMsSUFBQW1CLEVBQUF4QyxFQUFBLEdBU0F5QyxFQUFBLFdBQ0EsU0FBQUEsSUFDQUosS0FBQUssY0FBQSxrQkFDQUwsS0FBQU0sZUFDQU4sS0FBQU8sUUFBQUMsS0FBQUMsU0FBQSxHQUNBVCxLQUFBVSxXQUNBVixLQUFBVyxNQUFBLEVBQ0FYLEtBQUFFLElBQUFNLEtBQUFJLE1BQUEsRUFBQUosS0FBQUMsU0FBQSxHQUNBVCxLQUFBYSxNQUFBLEVBeWdCQSxPQXRnQkFULEVBQUFULFVBQUFtQixlQUFBLFdBQ0FkLEtBQUFhLE1BQUEsSUFDQWIsS0FBQWEsTUFHQWIsS0FBQWEsTUFBQSxHQUdBVCxFQUFBVCxVQUFBb0IsWUFBQSxTQUFBQyxFQUFBQyxHQUNBRCxFQUFBQyxFQUFBaEIsTUFBQWUsRUFBQUMsRUFBQWhCLEtBQUFnQixFQUFBZixNQUNBYyxFQUFBQyxFQUFBaEIsS0FBQWdCLEVBQUFmLEtBQUFnQixNQUFBbEIsS0FBQWtCLE1BQ0FGLEVBQUFDLEVBQUFoQixLQUFBZ0IsRUFBQWYsS0FBQWlCLE9BQUEsRUFDQW5CLEtBQUFNLFlBQUFjLEtBQUEsSUFBQWpCLEVBQUFKLFdBQUFrQixFQUFBaEIsSUFBQWdCLEVBQUFmLE9BR0FtQixRQUFBQyxJQUFBLDREQUFBTCxFQUFBaEIsSUFBQSxLQUFBZ0IsRUFBQWYsSUFBQSxNQUdBRSxFQUFBVCxVQUFBNEIsY0FBQSxTQUFBUCxFQUFBUSxFQUFBQyxHQUNBVCxFQUFBUSxJQUFBUixFQUFBUSxHQUFBQyxJQUNBVCxFQUFBUSxHQUFBQyxHQUFBUCxNQUFBbEIsS0FBQUssY0FDQVcsRUFBQVEsR0FBQUMsR0FBQU4sT0FBQSxHQUdBRSxRQUFBQyxJQUFBLDhEQUFBRSxFQUFBLEtBQUFDLEVBQUEsTUFHQXJCLEVBQUFULFVBQUErQixrQkFBQSxTQUFBVixHQUNBLEtBQUFoQixLQUFBTSxZQUFBcUIsT0FBQSxJQUNBLElBQUFDLEVBQUE1QixLQUFBTSxZQUFBdUIsTUFDQTdCLEtBQUF1QixjQUFBUCxFQUFBWSxFQUFBM0IsSUFBQTJCLEVBQUExQixPQUdBRSxFQUFBVCxVQUFBbUMsU0FBQSxTQUFBZCxHQUtBaEIsS0FBQWUsWUFBQUMsRUFBQSxJQUFBYixFQUFBSixXQUFBQyxLQUFBQyxJQUFBRCxLQUFBRSxJQUFBLElBQ0FGLEtBQUFlLFlBQUFDLEVBQUEsSUFBQWIsRUFBQUosV0FBQUMsS0FBQUMsSUFBQSxFQUFBRCxLQUFBRSxNQUNBRixLQUFBZSxZQUFBQyxFQUFBLElBQUFiLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsSUFBQSxJQUNBRixLQUFBZSxZQUFBQyxFQUFBLElBQUFiLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsSUFBQSxLQUVBRSxFQUFBVCxVQUFBb0MsZ0JBQUEsU0FBQWYsR0FPQWhCLEtBQUFlLFlBQUFDLEVBQUEsSUFBQWIsRUFBQUosV0FBQUMsS0FBQUMsSUFBQSxFQUFBRCxLQUFBRSxNQUNBRixLQUFBZSxZQUFBQyxFQUFBLElBQUFiLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsSUFBQSxJQUNBRixLQUFBZSxZQUFBQyxFQUFBLElBQUFiLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsSUFBQSxJQUNBRixLQUFBZSxZQUFBQyxFQUFBLElBQUFiLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsSUFBQSxLQUVBRSxFQUFBVCxVQUFBcUMsY0FBQSxTQUFBaEIsR0FNQWhCLEtBQUFlLFlBQUFDLEVBQUEsSUFBQWIsRUFBQUosV0FBQUMsS0FBQUMsSUFBQUQsS0FBQUUsSUFBQSxJQUNBRixLQUFBZSxZQUFBQyxFQUFBLElBQUFiLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsSUFBQSxJQUNBRixLQUFBZSxZQUFBQyxFQUFBLElBQUFiLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsSUFBQSxJQUNBRixLQUFBZSxZQUFBQyxFQUFBLElBQUFiLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsSUFBQSxLQUVBRSxFQUFBVCxVQUFBc0MsYUFBQSxTQUFBakIsR0FNQWhCLEtBQUFlLFlBQUFDLEVBQUEsSUFBQWIsRUFBQUosV0FBQUMsS0FBQUMsSUFBQUQsS0FBQUUsSUFBQSxJQUNBRixLQUFBZSxZQUFBQyxFQUFBLElBQUFiLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsSUFBQSxJQUNBRixLQUFBZSxZQUFBQyxFQUFBLElBQUFiLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsTUFDQUYsS0FBQWUsWUFBQUMsRUFBQSxJQUFBYixFQUFBSixXQUFBQyxLQUFBQyxJQUFBLEVBQUFELEtBQUFFLElBQUEsS0FFQUUsRUFBQVQsVUFBQXVDLFVBQUEsU0FBQWxCLEVBQUFtQixHQUNBLE9BQUFuQyxLQUFBYSxPQUNBLE9BQ0EsS0FBQWIsS0FBQUUsSUFBQSxHQU9BLENBQ0FGLEtBQUEwQixrQkFBQVYsR0FDQSxNQVJBLElBQUFoQixLQUFBb0MsWUFBQXBCLEVBQUEsSUFDQWhCLEtBQUEwQixrQkFBQVYsR0FDQWhCLEtBQUFFLE1BQUFGLEtBQUFFLElBQ0EsTUFPQUYsS0FBQTBCLGtCQUFBVixHQUNBLE1BQ0EsT0FDQSxHQUFBaEIsS0FBQUUsS0FBQSxJQUNBRixLQUFBcUMsZUFBQXJCLEVBQUEsSUFDQWhCLEtBQUEwQixrQkFBQVYsR0FDQWhCLEtBQUFFLE1BQUFGLEtBQUFFLElBQ0EsTUFHQUYsS0FBQTBCLGtCQUFBVixHQUNBLE1BQ0EsT0FDQSxHQUFBaEIsS0FBQUUsSUFBQSxHQUNBLElBQUFGLEtBQUFzQyxjQUFBdEIsRUFBQSxJQUNBaEIsS0FBQTBCLGtCQUFBVixHQUNBaEIsS0FBQUUsTUFBQUYsS0FBQUUsSUFDQSxNQUVBRixLQUFBMEIsa0JBQUFWLEdBQ0EsTUFFQWhCLEtBQUEwQixrQkFBQVYsR0FDQSxNQUNBLE9BQ0EsR0FBQWhCLEtBQUFFLElBQUEsR0FDQSxJQUFBRixLQUFBdUMsY0FBQXZCLEVBQUEsSUFDQWhCLEtBQUEwQixrQkFBQVYsR0FDQWhCLEtBQUFFLE1BQUFGLEtBQUFFLElBQ0EsTUFFQUYsS0FBQTBCLGtCQUFBVixHQUNBLE1BRUFoQixLQUFBMEIsa0JBQUFWLEtBSUFaLEVBQUFULFVBQUE2QyxXQUFBLFNBQUF4QixFQUFBbUIsR0FDQSxPQUFBbkMsS0FBQWEsT0FDQSxPQUNBLEdBQUFiLEtBQUFFLElBQUEsSUFDQUYsS0FBQXlDLGFBQUF6QixFQUFBLElBQ0FoQixLQUFBMEIsa0JBQUFWLEdBQ0FoQixLQUFBRSxNQUFBRixLQUFBRSxJQUNBLE1BR0FGLEtBQUEwQixrQkFBQVYsR0FDQSxNQUNBLE9BQ0EsR0FBQWhCLEtBQUFFLElBQUEsSUFDQUYsS0FBQTBDLGdCQUFBMUIsRUFBQSxJQUNBaEIsS0FBQTBCLGtCQUFBVixHQUNBaEIsS0FBQUUsTUFBQUYsS0FBQUUsSUFDQSxNQUdBRixLQUFBMEIsa0JBQUFWLEdBQ0EsTUFDQSxPQUNBLEdBQUFoQixLQUFBRSxJQUFBLElBQ0FGLEtBQUEyQyxlQUFBM0IsRUFBQSxJQUNBaEIsS0FBQTBCLGtCQUFBVixHQUNBaEIsS0FBQUUsTUFBQUYsS0FBQUUsSUFDQSxNQUdBRixLQUFBMEIsa0JBQUFWLEdBQ0EsTUFDQSxPQUNBLEdBQUFoQixLQUFBRSxJQUFBLElBQ0FGLEtBQUE0QyxlQUFBNUIsRUFBQSxJQUNBaEIsS0FBQTBCLGtCQUFBVixHQUNBaEIsS0FBQUUsTUFBQUYsS0FBQUUsSUFDQSxNQUdBRixLQUFBMEIsa0JBQUFWLEtBSUFaLEVBQUFULFVBQUFrRCxRQUFBLFNBQUE3QixFQUFBbUIsR0FDQSxPQUFBbkMsS0FBQWEsT0FDQSxPQUVBYixLQUFBMEIsa0JBQUFWLEdBQ0FoQixLQUFBRSxJQUFBLElBQ0FGLEtBQUFhLE1BQUEsR0FFQSxNQUNBLE9BQ0FiLEtBQUEwQixrQkFBQVYsR0FDQWhCLEtBQUFFLEtBQUEsSUFDQUYsS0FBQWEsTUFBQSxHQUVBLE1BQ0EsT0FDQWIsS0FBQTBCLGtCQUFBVixHQUNBaEIsS0FBQWEsTUFBQSxFQUNBLE1BQ0EsT0FDQWIsS0FBQTBCLGtCQUFBVixHQUNBaEIsS0FBQUUsSUFBQSxJQUNBRixLQUFBYSxNQUFBLEtBS0FULEVBQUFULFVBQUFtRCxVQUFBLFNBQUE5QixHQUNBLE9BQUFoQixLQUFBYSxPQUNBLE9BQ0FiLEtBQUFDLElBQUEsS0FDQUQsS0FBQStDLGFBQUEvQixFQUFBLEtBQ0FoQixLQUFBMEIsa0JBQUFWLEtBQ0FoQixLQUFBQyxNQUdBLE1BQ0EsT0FDQSxHQUFBRCxLQUFBQyxJQUFBLElBQ0FELEtBQUFnRCxnQkFBQWhDLEVBQUEsS0FDQWhCLEtBQUEwQixrQkFBQVYsS0FDQWhCLEtBQUFDLEtBRUEsTUFFQSxNQUNBLE9BQ0FELEtBQUFDLElBQUEsS0FDQUQsS0FBQWlELGVBQUFqQyxFQUFBLEtBQ0FoQixLQUFBMEIsa0JBQUFWLEtBQ0FoQixLQUFBQyxNQUdBLE1BQ0EsT0FDQSxHQUFBRCxLQUFBQyxJQUFBLElBQ0FELEtBQUFrRCxlQUFBbEMsRUFBQSxLQUNBaEIsS0FBQTBCLGtCQUFBVixLQUNBaEIsS0FBQUMsS0FFQSxTQUtBRyxFQUFBVCxVQUFBeUMsWUFBQSxTQUFBcEIsRUFBQW1DLEdBQ0EsSUFBQUMsR0FBQSxFQU9BLE9BTkFwQyxFQUFBaEIsS0FBQUMsSUFBQSxHQUFBRCxLQUFBRSxJQUFBLEdBQUFpQixRQUNBaUMsR0FBQSxHQUVBcEMsRUFBQWhCLEtBQUFDLEtBQUFELEtBQUFFLEtBQUFpQixRQUNBaUMsR0FBQSxHQUVBQSxHQUVBaEQsRUFBQVQsVUFBQThDLGFBQUEsU0FBQXpCLEVBQUFtQyxHQUNBLElBQUFFLEdBQUEsRUFPQSxPQU5BckMsRUFBQWhCLEtBQUFDLElBQUEsR0FBQUQsS0FBQUUsSUFBQSxHQUFBaUIsUUFDQWtDLEdBQUEsR0FFQXJDLEVBQUFoQixLQUFBQyxLQUFBRCxLQUFBRSxJQUFBLEdBQUFpQixRQUNBa0MsR0FBQSxHQUVBQSxHQUVBakQsRUFBQVQsVUFBQStDLGdCQUFBLFNBQUExQixFQUFBbUMsR0FPQSxJQUFBRSxHQUFBLEVBVUEsT0FUQXJDLEVBQUFoQixLQUFBQyxLQUFBRCxLQUFBRSxJQUFBLEdBQUFpQixRQUNBa0MsR0FBQSxHQUVBckMsRUFBQWhCLEtBQUFDLElBQUEsR0FBQUQsS0FBQUUsSUFBQSxHQUFBaUIsUUFDQWtDLEdBQUEsR0FFQXJDLEVBQUFoQixLQUFBQyxJQUFBLEdBQUFELEtBQUFFLElBQUEsR0FBQWlCLFFBQ0FrQyxHQUFBLEdBRUFBLEdBRUFqRCxFQUFBVCxVQUFBMEMsZUFBQSxTQUFBckIsRUFBQW1DLEdBQ0EsSUFBQUUsR0FBQSxFQWdCQSxPQVRBckMsRUFBQWhCLEtBQUFDLEtBQUFELEtBQUFFLEtBQUFpQixRQUNBa0MsR0FBQSxHQUVBckMsRUFBQWhCLEtBQUFDLElBQUEsR0FBQUQsS0FBQUUsS0FBQWlCLFFBQ0FrQyxHQUFBLEdBRUFyQyxFQUFBaEIsS0FBQUMsSUFBQSxHQUFBRCxLQUFBRSxLQUFBaUIsUUFDQWtDLEdBQUEsR0FFQUEsR0FFQWpELEVBQUFULFVBQUFpRCxlQUFBLFNBQUE1QixFQUFBbUMsR0FNQSxJQUFBRSxHQUFBLEVBVUEsT0FUQXJDLEVBQUFoQixLQUFBQyxLQUFBRCxLQUFBRSxJQUFBLEdBQUFpQixRQUNBa0MsR0FBQSxHQUVBckMsRUFBQWhCLEtBQUFDLElBQUEsR0FBQUQsS0FBQUUsSUFBQSxLQUNBbUQsR0FBQSxHQUVBckMsRUFBQWhCLEtBQUFDLElBQUEsR0FBQUQsS0FBQUUsSUFBQSxLQUNBbUQsR0FBQSxHQUVBQSxHQUVBakQsRUFBQVQsVUFBQTRDLGNBQUEsU0FBQXZCLEVBQUFtQyxHQU1BLElBQUFHLEdBQUEsRUFVQSxPQVRBdEMsRUFBQWhCLEtBQUFDLEtBQUFELEtBQUFFLEtBQUFpQixRQUNBbUMsR0FBQSxHQUVBdEMsRUFBQWhCLEtBQUFDLElBQUEsR0FBQUQsS0FBQUUsSUFBQSxHQUFBaUIsUUFDQW1DLEdBQUEsR0FFQXRDLEVBQUFoQixLQUFBQyxJQUFBLEdBQUFELEtBQUFFLEtBQUFpQixRQUNBbUMsR0FBQSxHQUVBQSxHQUVBbEQsRUFBQVQsVUFBQTJDLGNBQUEsU0FBQXRCLEVBQUFtQyxHQU1BLElBQUFHLEdBQUEsRUFPQSxPQU5BdEMsRUFBQWhCLEtBQUFDLElBQUEsR0FBQUQsS0FBQUUsSUFBQSxHQUFBaUIsUUFDQW1DLEdBQUEsR0FFQXRDLEVBQUFoQixLQUFBQyxJQUFBLEdBQUFELEtBQUFFLEtBQUFpQixRQUNBbUMsR0FBQSxHQUVBQSxHQUVBbEQsRUFBQVQsVUFBQWdELGVBQUEsU0FBQTNCLEVBQUFtQyxHQU1BLElBQUFFLEdBQUEsRUFPQSxPQU5BckMsRUFBQWhCLEtBQUFDLElBQUEsR0FBQUQsS0FBQUUsSUFBQSxHQUFBaUIsUUFDQWtDLEdBQUEsR0FFQXJDLEVBQUFoQixLQUFBQyxJQUFBLEdBQUFELEtBQUFFLElBQUEsR0FBQWlCLFFBQ0FrQyxHQUFBLEdBRUFBLEdBRUFqRCxFQUFBVCxVQUFBb0QsYUFBQSxTQUFBL0IsRUFBQW1DLEdBQ0EsSUFBQUksR0FBQSxFQVdBLE9BVkF2QyxFQUFBaEIsS0FBQUMsSUFBQSxFQUFBa0QsR0FBQW5ELEtBQUFFLEtBQUFpQixRQUNBb0MsR0FBQSxHQUVBdkMsRUFBQWhCLEtBQUFDLElBQUEsRUFBQWtELEdBQUFuRCxLQUFBRSxJQUFBLEdBQUFpQixRQUNBb0MsR0FBQSxHQUVBdkMsRUFBQWhCLEtBQUFDLElBQUEsRUFBQWtELEdBQUFuRCxLQUFBRSxJQUFBLEdBQUFpQixRQUNBb0MsR0FBQSxHQUdBQSxHQUVBbkQsRUFBQVQsVUFBQXNELGVBQUEsU0FBQWpDLEVBQUFtQyxHQUNBLElBQUFJLEdBQUEsRUFVQSxPQVRBdkMsRUFBQWhCLEtBQUFDLElBQUEsRUFBQWtELEdBQUFuRCxLQUFBRSxLQUFBaUIsUUFDQW9DLEdBQUEsR0FFQXZDLEVBQUFoQixLQUFBQyxJQUFBLEVBQUFrRCxHQUFBbkQsS0FBQUUsSUFBQSxHQUFBaUIsUUFDQW9DLEdBQUEsR0FFQXZDLEVBQUFoQixLQUFBQyxJQUFBLEVBQUFrRCxHQUFBbkQsS0FBQUUsSUFBQSxHQUFBaUIsUUFDQW9DLEdBQUEsR0FFQUEsR0FFQW5ELEVBQUFULFVBQUF1RCxlQUFBLFNBQUFsQyxFQUFBbUMsR0FDQSxJQUFBSSxHQUFBLEVBVUEsT0FUQXZDLEVBQUFoQixLQUFBQyxJQUFBLEVBQUFrRCxHQUFBbkQsS0FBQUUsSUFBQSxHQUFBaUIsUUFDQW9DLEdBQUEsR0FFQXZDLEVBQUFoQixLQUFBQyxJQUFBLEVBQUFrRCxHQUFBbkQsS0FBQUUsS0FBQWlCLFFBQ0FvQyxHQUFBLEdBS0FBLEdBRUFuRCxFQUFBVCxVQUFBcUQsZ0JBQUEsU0FBQWhDLEVBQUFtQyxHQUNBLElBQUFJLEdBQUEsRUFVQSxPQVRBdkMsRUFBQWhCLEtBQUFDLElBQUEsRUFBQWtELEdBQUFuRCxLQUFBRSxJQUFBLEdBQUFpQixRQUNBb0MsR0FBQSxHQUVBdkMsRUFBQWhCLEtBQUFDLElBQUEsRUFBQWtELEdBQUFuRCxLQUFBRSxJQUFBLEdBQUFpQixRQUNBb0MsR0FBQSxHQUtBQSxHQUVBbkQsRUFBQVQsVUFBQTZELEtBQUEsU0FBQXhDLEVBQUFtQixHQUNBLE9BQUFuQyxLQUFBYSxPQUNBLE9BRUEsR0FBQWIsS0FBQUMsSUFBQSxHQUVBLE9BREFELEtBQUFXLE1BQUEsR0FDQSxFQUVBLEdBQUFYLEtBQUErQyxhQUFBL0IsRUFBQSxHQUVBLE9BREFoQixLQUFBVyxNQUFBLEVBQ0EsSUFBQVgsS0FBQUMsSUFLQUQsS0FBQUMsSUFBQSxHQUNBRCxLQUFBMEIsa0JBQUFWLEdBRUFoQixLQUFBOEIsU0FBQWQsR0FDQSxNQUNBLE9BQ0EsR0FBQWhCLEtBQUFDLElBQUEsR0FFQSxPQURBRCxLQUFBVyxNQUFBLEdBQ0EsRUFFQSxHQUFBWCxLQUFBQyxJQUFBLElBQUFELEtBQUFnRCxnQkFBQWhDLEVBQUEsR0FFQSxPQURBaEIsS0FBQVcsTUFBQSxHQUNBLEVBRUEsR0FBQVgsS0FBQWdELGdCQUFBaEMsRUFBQSxHQUVBLE9BREFoQixLQUFBVyxNQUFBLEdBQ0EsRUFFQVgsS0FBQUMsSUFBQSxHQUNBRCxLQUFBMEIsa0JBQUFWLEdBRUFoQixLQUFBZ0MsY0FBQWhCLEdBQ0EsTUFDQSxPQUNBLEdBQUFoQixLQUFBQyxJQUFBLEdBRUEsT0FEQUQsS0FBQVcsTUFBQSxHQUNBLEVBRUEsR0FBQVgsS0FBQUMsSUFBQSxJQUFBRCxLQUFBa0QsZUFBQWxDLEVBQUEsR0FFQSxPQURBaEIsS0FBQVcsTUFBQSxHQUNBLEVBRUEsR0FBQVgsS0FBQWtELGVBQUFsQyxFQUFBLEdBRUEsT0FEQWhCLEtBQUFXLE1BQUEsR0FDQSxFQUVBWCxLQUFBQyxJQUFBLEdBQ0FELEtBQUEwQixrQkFBQVYsR0FFQWhCLEtBQUFpQyxhQUFBakIsR0FDQSxNQUNBLE9BQ0EsR0FBQWhCLEtBQUFDLElBQUEsR0FFQSxPQURBRCxLQUFBVyxNQUFBLEdBQ0EsRUFFQSxHQUFBWCxLQUFBaUQsZUFBQWpDLEVBQUEsR0FHQSxPQUZBaEIsS0FBQVcsTUFBQSxHQUVBLEVBRUFYLEtBQUFDLElBQUEsR0FDQUQsS0FBQTBCLGtCQUFBVixHQUVBaEIsS0FBQStCLGdCQUFBZixHQUdBLFVBRUFaLEVBQUFULFVBQUE4RCxLQUFBLFdBQ0F6RCxLQUFBQyxJQUFBRCxLQUFBQyxJQUFBLEdBRUFHLEVBQUFULFVBQUFlLFNBQUEsV0FFQSxPQURBRixLQUFBSSxNQUFBLEVBQUFKLEtBQUFDLFNBQUEsSUFFQSxPQUNBVCxLQUFBa0IsTUFBQSxtQkFDQSxNQUNBLE9BQ0FsQixLQUFBa0IsTUFBQSxtQkFDQSxNQUNBLE9BQ0FsQixLQUFBa0IsTUFBQSxtQkFDQSxNQUNBLE9BQ0FsQixLQUFBa0IsTUFBQSxvQkFDQSxNQUNBLE9BQ0FsQixLQUFBa0IsTUFBQSxvQkFDQSxNQUNBLE9BQ0FsQixLQUFBa0IsTUFBQSxvQkFDQSxNQUNBLE9BQ0FsQixLQUFBa0IsTUFBQSxzQkFJQWQsRUFqaEJBLEdBbWhCQXZDLEVBQUF1Qyx1Q0M3aEJBM0IsT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q21CLE9BQUEsSUFDOUMsSUFBQW1CLEVBQUF4QyxFQUFBLEdBQ0ErRixFQUFBLFdBQ0EsU0FBQUEsSUFDQTFELEtBQUFLLGNBQUEsa0JBQ0FMLEtBQUFPLFFBQUFDLEtBQUFDLFNBQUEsR0FDQVQsS0FBQVUsV0FDQVYsS0FBQVcsTUFBQSxFQUNBWCxLQUFBTSxlQUNBTixLQUFBRSxJQUFBTSxLQUFBSSxNQUFBLEVBQUFKLEtBQUFDLFNBQUEsR0FzTUEsT0FuTUFpRCxFQUFBL0QsVUFBQW9CLFlBQUEsU0FBQUMsRUFBQUMsR0FDQUQsRUFBQUMsRUFBQWhCLE1BQUFlLEVBQUFDLEVBQUFoQixLQUFBZ0IsRUFBQWYsTUFDQWMsRUFBQUMsRUFBQWhCLEtBQUFnQixFQUFBZixLQUFBZ0IsTUFBQWxCLEtBQUFrQixNQUNBRixFQUFBQyxFQUFBaEIsS0FBQWdCLEVBQUFmLEtBQUFpQixPQUFBLEVBQ0FuQixLQUFBTSxZQUFBYyxLQUFBLElBQUFqQixFQUFBSixXQUFBa0IsRUFBQWhCLElBQUFnQixFQUFBZixPQUdBbUIsUUFBQUMsSUFBQSw0REFBQUwsRUFBQWhCLElBQUEsS0FBQWdCLEVBQUFmLElBQUEsTUFHQXdELEVBQUEvRCxVQUFBNEIsY0FBQSxTQUFBUCxFQUFBUSxFQUFBQyxHQUNBVCxFQUFBUSxJQUFBUixFQUFBUSxHQUFBQyxJQUNBVCxFQUFBUSxHQUFBQyxHQUFBUCxNQUFBbEIsS0FBQUssY0FDQVcsRUFBQVEsR0FBQUMsR0FBQU4sT0FBQSxHQUdBRSxRQUFBQyxJQUFBLDhEQUFBRSxFQUFBLEtBQUFDLEVBQUEsTUFHQWlDLEVBQUEvRCxVQUFBK0Isa0JBQUEsU0FBQVYsR0FDQSxLQUFBaEIsS0FBQU0sWUFBQXFCLE9BQUEsSUFDQSxJQUFBQyxFQUFBNUIsS0FBQU0sWUFBQXVCLE1BQ0E3QixLQUFBdUIsY0FBQVAsRUFBQVksRUFBQTNCLElBQUEyQixFQUFBMUIsT0FHQXdELEVBQUEvRCxVQUFBNkQsS0FBQSxTQUFBeEMsRUFBQW1CLEdBRUEsV0FBQW5DLEtBQUFDLEtBQ0FELEtBQUFXLE1BQUEsR0FDQSxJQUVBLElBQUFYLEtBQUFDLElBR0EsSUFBQUQsS0FBQUMsS0FHQUQsS0FBQThCLFNBQUFkLElBQ0EsR0FFQSxJQUFBaEIsS0FBQUMsS0FFQUQsS0FBQTBCLGtCQUFBVixHQUdBaEIsS0FBQThCLFNBQUFkLElBQ0EsR0FPQWhCLEtBQUEyRCxXQUFBM0MsR0FBQSxJQUNBaEIsS0FBQVcsTUFBQSxHQUNBLElBR0FYLEtBQUEwQixrQkFBQVYsR0FDQWhCLEtBQUE4QixTQUFBZCxJQUNBLFFBNUJBaEIsS0FBQTRELGNBQUE1QyxJQWlDQTBDLEVBQUEvRCxVQUFBa0UsWUFBQSxTQUFBN0MsRUFBQW1CLEdBQ0FkLFFBQUFDLElBQUEsNkJBRUFvQyxFQUFBL0QsVUFBQW1FLGVBQUEsU0FBQTlDLEVBQUFtQixHQUNBZCxRQUFBQyxJQUFBLGtDQUVBb0MsRUFBQS9ELFVBQUE4RCxLQUFBLFdBR0F6RCxLQUFBQyxJQUFBRCxLQUFBQyxJQUFBLEdBRUF5RCxFQUFBL0QsVUFBQW1DLFNBQUEsU0FBQWQsR0FDQWhCLEtBQUFlLFlBQUFDLEVBQUEsSUFBQWIsRUFBQUosV0FBQUMsS0FBQUMsSUFBQUQsS0FBQUUsTUFFQUYsS0FBQWUsWUFBQUMsRUFBQSxJQUFBYixFQUFBSixXQUFBQyxLQUFBQyxJQUFBLEVBQUFELEtBQUFFLE1BRUFGLEtBQUFlLFlBQUFDLEVBQUEsSUFBQWIsRUFBQUosV0FBQUMsS0FBQUMsSUFBQUQsS0FBQUUsSUFBQSxJQUdBRixLQUFBZSxZQUFBQyxFQUFBLElBQUFiLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsSUFBQSxLQUVBd0QsRUFBQS9ELFVBQUFnRSxXQUFBLFNBQUEzQyxFQUFBbUMsR0FJQSxPQUFBbkMsRUFBQWhCLEtBQUFDLElBQUEsRUFBQWtELEdBQUFuRCxLQUFBRSxLQUFBaUIsUUFHQUgsRUFBQWhCLEtBQUFDLElBQUEsRUFBQWtELEdBQUFuRCxLQUFBRSxJQUFBLEdBQUFpQixPQUtBdUMsRUFBQS9ELFVBQUFpRSxjQUFBLFNBQUE1QyxHQUNBaEIsS0FBQWUsWUFBQUMsRUFBQSxJQUFBYixFQUFBSixXQUFBQyxLQUFBQyxJQUFBRCxLQUFBRSxNQUNBRixLQUFBZSxZQUFBQyxFQUFBLElBQUFiLEVBQUFKLFdBQUFDLEtBQUFDLElBQUFELEtBQUFFLElBQUEsS0FNQXdELEVBQUEvRCxVQUFBbUQsVUFBQSxTQUFBOUIsR0FFQWhCLEtBQUFDLElBQUEsS0FDQWUsRUFBQWhCLEtBQUFDLElBQUEsR0FBQUQsS0FBQUUsS0FBQWlCLFFBQ0FILEVBQUFoQixLQUFBQyxJQUFBLEdBQUFELEtBQUFFLElBQUEsR0FBQWlCLFFBQ0FuQixLQUFBMEIsa0JBQUFWLEtBQ0FoQixLQUFBQyxLQUVBRCxLQUFBMEIsa0JBQUFWLElBRUFoQixLQUFBMEIsa0JBQUFWLElBRUFoQixLQUFBMEIsa0JBQUFWLElBRUEwQyxFQUFBL0QsVUFBQXVDLFVBQUEsU0FBQWxCLEVBQUFtQixHQUNBLElBQUFuQyxLQUFBRSxLQUtBRixLQUFBRSxJQUFBLEdBQ0FjLEVBQUFoQixLQUFBQyxLQUFBRCxLQUFBRSxJQUFBLEdBQUFpQixPQUNBbkIsS0FBQUMsSUFBQSxLQUNBZSxFQUFBaEIsS0FBQUMsSUFBQSxHQUFBRCxLQUFBRSxJQUFBLEdBQUFpQixPQUNBbkIsS0FBQTBCLGtCQUFBVixLQUNBaEIsS0FBQUUsS0FHQUYsS0FBQTBCLGtCQUFBVixJQU1BaEIsS0FBQTBCLGtCQUFBVixJQWpCQWhCLEtBQUEwQixrQkFBQVYsSUFvQkEwQyxFQUFBL0QsVUFBQTZDLFdBQUEsU0FBQXhCLEVBQUFtQixHQUNBLElBQUFuQyxLQUFBRSxNQUlBRixLQUFBRSxJQUFBLEdBQ0FjLEVBQUFoQixLQUFBQyxLQUFBRCxLQUFBRSxJQUFBLEdBQUFpQixRQUNBbkIsS0FBQUMsSUFBQSxHQUNBZSxFQUFBaEIsS0FBQUMsSUFBQSxHQUFBRCxLQUFBRSxJQUFBLEdBQUFpQixRQUNBbkIsS0FBQTBCLGtCQUFBVixLQUNBaEIsS0FBQUUsS0FJQUYsS0FBQTBCLGtCQUFBVixJQUtBaEIsS0FBQTBCLGtCQUFBVixLQUdBMEMsRUFBQS9ELFVBQUFrRCxRQUFBLFNBQUE3QixFQUFBbUIsR0FDQW5DLEtBQUEwQixrQkFBQVYsSUFHQTBDLEVBQUEvRCxVQUFBZSxTQUFBLFdBRUEsT0FEQUYsS0FBQUksTUFBQSxFQUFBSixLQUFBQyxTQUFBLElBRUEsT0FDQVQsS0FBQWtCLE1BQUEsbUJBQ0EsTUFDQSxPQUNBbEIsS0FBQWtCLE1BQUEsbUJBQ0EsTUFDQSxPQUNBbEIsS0FBQWtCLE1BQUEsbUJBQ0EsTUFDQSxPQUNBbEIsS0FBQWtCLE1BQUEsb0JBQ0EsTUFDQSxPQUNBbEIsS0FBQWtCLE1BQUEsb0JBQ0EsTUFDQSxPQUNBbEIsS0FBQWtCLE1BQUEsb0JBQ0EsTUFDQSxPQUNBbEIsS0FBQWtCLE1BQUEsc0JBSUF3QyxFQTdNQSxHQStNQTdGLEVBQUE2Rix1Q0NqTkFqRixPQUFBQyxlQUFBYixFQUFBLGNBQThDbUIsT0FBQSxJQUM5QyxJQUFBbUIsRUFBQXhDLEVBQUEsR0FDQW9HLEVBQUEsV0FDQSxTQUFBQSxJQUNBL0QsS0FBQUssY0FBQSxrQkFDQUwsS0FBQU8sU0FBQSxFQUNBUCxLQUFBTSxlQUNBTixLQUFBVSxXQUNBVixLQUFBVyxNQUFBLEVBQ0FYLEtBQUFFLElBQUFNLEtBQUFJLE1BQUEsRUFBQUosS0FBQUMsU0FBQSxHQXFiQSxPQW5iQXNELEVBQUFwRSxVQUFBOEQsS0FBQSxXQUNBekQsS0FBQUMsSUFBQUQsS0FBQUMsSUFBQSxHQUVBOEQsRUFBQXBFLFVBQUFvQixZQUFBLFNBQUFDLEVBQUFDLEdBQ0FELEVBQUFDLEVBQUFoQixNQUFBZSxFQUFBQyxFQUFBaEIsS0FBQWdCLEVBQUFmLE1BQ0FjLEVBQUFDLEVBQUFoQixLQUFBZ0IsRUFBQWYsS0FBQWdCLE1BQUFsQixLQUFBa0IsTUFDQUYsRUFBQUMsRUFBQWhCLEtBQUFnQixFQUFBZixLQUFBaUIsT0FBQSxFQUNBbkIsS0FBQU0sWUFBQWMsS0FBQSxJQUFBakIsRUFBQUosV0FBQWtCLEVBQUFoQixJQUFBZ0IsRUFBQWYsT0FHQW1CLFFBQUFDLElBQUEsNERBQUFMLEVBQUFoQixJQUFBLEtBQUFnQixFQUFBZixJQUFBLE1BR0E2RCxFQUFBcEUsVUFBQTRCLGNBQUEsU0FBQVAsRUFBQVEsRUFBQUMsR0FDQVQsRUFBQVEsSUFBQVIsRUFBQVEsR0FBQUMsSUFDQVQsRUFBQVEsR0FBQUMsR0FBQVAsTUFBQWxCLEtBQUFLLGNBQ0FXLEVBQUFRLEdBQUFDLEdBQUFOLE9BQUEsR0FHQUUsUUFBQUMsSUFBQSw4REFBQUUsRUFBQSxLQUFBQyxFQUFBLE1BR0FzQyxFQUFBcEUsVUFBQStCLGtCQUFBLFNBQUFWLEdBQ0EsS0FBQWhCLEtBQUFNLFlBQUFxQixPQUFBLElBQ0EsSUFBQUMsRUFBQTVCLEtBQUFNLFlBQUF1QixNQUNBN0IsS0FBQXVCLGNBQUFQLEVBQUFZLEVBQUEzQixJQUFBMkIsRUFBQTFCLE9BR0E2RCxFQUFBcEUsVUFBQWUsU0FBQSxXQUVBLE9BREFGLEtBQUFJLE1BQUEsRUFBQUosS0FBQUMsU0FBQSxJQUVBLE9BQ0FULEtBQUFrQixNQUFBLG1CQUNBLE1BQ0EsT0FDQWxCLEtBQUFrQixNQUFBLG1CQUNBLE1BQ0EsT0FDQWxCLEtBQUFrQixNQUFBLG1CQUNBLE1BQ0EsT0FDQWxCLEtBQUFrQixNQUFBLG9CQUNBLE1BQ0EsT0FDQWxCLEtBQUFrQixNQUFBLG9CQUNBLE1BQ0EsT0FDQWxCLEtBQUFrQixNQUFBLG9CQUNBLE1BQ0EsT0FDQWxCLEtBQUFrQixNQUFBLHNCQUlBNkMsRUFBQXBFLFVBQUF1QyxVQUFBLFNBQUFsQixFQUFBbUIsR0FDQW5DLEtBQUFPLFNBQ0FQLEtBQUFFLE1BQUEsSUFDQUYsS0FBQWdFLGtCQUFBaEQsR0FLQWhCLEtBQUEwQixrQkFBQVYsSUFKQWhCLEtBQUEwQixrQkFBQVYsS0FDQWhCLEtBQUFFLE1BTUFGLEtBQUEwQixrQkFBQVYsS0FJQWhCLEtBQUFFLEtBQUEsSUFDQUYsS0FBQWlFLG9CQUFBakQsS0FDQWhCLEtBQUEwQixrQkFBQVYsS0FDQWhCLEtBQUFFLE1BR0FGLEtBQUEwQixrQkFBQVYsS0FJQStDLEVBQUFwRSxVQUFBNkMsV0FBQSxTQUFBeEIsRUFBQW1CLEdBUUFuQyxLQUFBTyxRQUNBUCxLQUFBRSxJQUFBLEdBQ0FGLEtBQUFrRSxtQkFBQWxELEdBS0FoQixLQUFBMEIsa0JBQUFWLElBSkFoQixLQUFBMEIsa0JBQUFWLEtBQ0FoQixLQUFBRSxLQU9BRixLQUFBMEIsa0JBQUFWLEdBSUFoQixLQUFBRSxJQUFBLEVBQ0FGLEtBQUFtRSxxQkFBQW5ELEdBS0FoQixLQUFBMEIsa0JBQUFWLElBSkFoQixLQUFBMEIsa0JBQUFWLEtBQ0FoQixLQUFBRSxLQU9BRixLQUFBMEIsa0JBQUFWLElBSUErQyxFQUFBcEUsVUFBQWtELFFBQUEsU0FBQTdCLEVBQUFtQixHQVFBbkMsS0FBQU8sUUFFQVAsS0FBQW9FLDBCQUFBcEQsR0FLQWhCLEtBQUEwQixrQkFBQVYsSUFKQWhCLEtBQUEwQixrQkFBQVYsR0FDQWhCLEtBQUFPLFNBQUFQLEtBQUFPLFNBYUFQLEtBQUFxRSwwQkFBQXJELEdBS0FoQixLQUFBMEIsa0JBQUFWLElBSkFoQixLQUFBMEIsa0JBQUFWLEdBQ0FoQixLQUFBTyxTQUFBUCxLQUFBTyxVQVNBd0QsRUFBQXBFLFVBQUF5RSwwQkFBQSxTQUFBcEQsR0FTQSxPQUFBaEIsS0FBQUUsSUFBQSxLQUdBLElBQUFGLEtBQUFFLE9BR0FjLEVBQUFoQixLQUFBQyxJQUFBLEdBQUFELEtBQUFFLEtBQUFpQixTQUdBSCxFQUFBaEIsS0FBQUMsSUFBQSxHQUFBRCxLQUFBRSxJQUFBLEdBQUFpQixRQUdBSCxFQUFBaEIsS0FBQUMsSUFBQSxHQUFBRCxLQUFBRSxJQUFBLEdBQUFpQixVQUtBNEMsRUFBQXBFLFVBQUEwRSwwQkFBQSxTQUFBckQsR0FRQSxPQUFBaEIsS0FBQUMsSUFBQSxNQUdBZSxFQUFBaEIsS0FBQUMsS0FBQUQsS0FBQUUsSUFBQSxHQUFBaUIsU0FHQUgsRUFBQWhCLEtBQUFDLElBQUEsR0FBQUQsS0FBQUUsSUFBQSxHQUFBaUIsUUFHQUgsRUFBQWhCLEtBQUFDLElBQUEsR0FBQUQsS0FBQUUsSUFBQSxHQUFBaUIsU0FLQTRDLEVBQUFwRSxVQUFBbUQsVUFBQSxTQUFBOUIsR0FRQWhCLEtBQUFPLFFBQ0FQLEtBQUFDLElBQUEsS0FDQUQsS0FBQXNFLG1CQUFBdEQsRUFBQSxLQUNBaEIsS0FBQTBCLGtCQUFBVixHQUNBaEIsS0FBQUMsUUFPQUQsS0FBQUMsSUFBQSxLQUNBRCxLQUFBdUUscUJBQUF2RCxFQUFBLEtBQ0FoQixLQUFBMEIsa0JBQUFWLEdBQ0FoQixLQUFBQyxTQWFBOEQsRUFBQXBFLFVBQUE2RCxLQUFBLFNBQUF4QyxFQUFBbUIsR0FDQSxPQUFBbkMsS0FBQU8sUUFDQVAsS0FBQTZELFlBQUE3QyxFQUFBbUIsR0FJQW5DLEtBQUE4RCxlQUFBOUMsRUFBQW1CLElBR0E0QixFQUFBcEUsVUFBQTZFLGFBQUEsU0FBQXhELEVBQUFtQixHQVdBbkMsS0FBQWUsWUFBQUMsRUFBQSxJQUFBYixFQUFBSixXQUFBQyxLQUFBQyxJQUFBRCxLQUFBRSxJQUFBLElBQ0FGLEtBQUFlLFlBQUFDLEVBQUEsSUFBQWIsRUFBQUosV0FBQUMsS0FBQUMsSUFBQSxFQUFBRCxLQUFBRSxJQUFBLElBQ0FGLEtBQUFlLFlBQUFDLEVBQUEsSUFBQWIsRUFBQUosV0FBQUMsS0FBQUMsSUFBQSxFQUFBRCxLQUFBRSxJQUFBLElBQ0FGLEtBQUFlLFlBQUFDLEVBQUEsSUFBQWIsRUFBQUosV0FBQUMsS0FBQUMsSUFBQSxFQUFBRCxLQUFBRSxJQUFBLEtBRUE2RCxFQUFBcEUsVUFBQThFLGVBQUEsU0FBQXpELEVBQUFtQixHQVdBbkMsS0FBQWUsWUFBQUMsRUFBQSxJQUFBYixFQUFBSixXQUFBQyxLQUFBQyxJQUFBLEVBQUFELEtBQUFFLE1BQ0FGLEtBQUFlLFlBQUFDLEVBQUEsSUFBQWIsRUFBQUosV0FBQUMsS0FBQUMsSUFBQSxFQUFBRCxLQUFBRSxJQUFBLElBQ0FGLEtBQUFlLFlBQUFDLEVBQUEsSUFBQWIsRUFBQUosV0FBQUMsS0FBQUMsSUFBQSxFQUFBRCxLQUFBRSxJQUFBLElBQ0FGLEtBQUFlLFlBQUFDLEVBQUEsSUFBQWIsRUFBQUosV0FBQUMsS0FBQUMsSUFBQSxFQUFBRCxLQUFBRSxJQUFBLEtBRUE2RCxFQUFBcEUsVUFBQXFFLGtCQUFBLFNBQUFoRCxHQU9BLElBQUEwRCxHQUFBLEVBQ0EsR0FBQTFFLEtBQUFFLElBQUEsRUFDQSxTQUVBLFFBQUFuQyxFQUFBaUMsS0FBQUMsSUFBOEJsQyxFQUFBaUMsS0FBQUMsSUFBQSxJQUFrQmxDLEVBQ2hEaUQsRUFBQWpELEdBQUFpQyxLQUFBRSxLQUFBaUIsUUFDQXVELEdBQUEsR0FHQSxPQUFBQSxHQUVBWCxFQUFBcEUsVUFBQXVFLG1CQUFBLFNBQUFsRCxHQU9BLElBQUEwRCxHQUFBLEVBQ0EsR0FBQTFFLEtBQUFFLElBQUEsRUFDQSxTQUVBLFFBQUFuQyxFQUFBaUMsS0FBQUMsSUFBOEJsQyxFQUFBaUMsS0FBQUMsSUFBQSxJQUFrQmxDLEVBQ2hEaUQsRUFBQWpELEdBQUFpQyxLQUFBRSxJQUFBLEdBQUFpQixRQUNBdUQsR0FBQSxHQUdBLE9BQUFBLEdBRUFYLEVBQUFwRSxVQUFBd0UscUJBQUEsU0FBQW5ELEdBT0EsT0FBQUEsRUFBQWhCLEtBQUFDLElBQUEsR0FBQUQsS0FBQUUsSUFBQSxHQUFBaUIsT0FFQTRDLEVBQUFwRSxVQUFBc0Usb0JBQUEsU0FBQWpELEdBT0EsV0FBQWhCLEtBQUFFLE1BR0FjLEVBQUFoQixLQUFBQyxJQUFBLEdBQUFELEtBQUFFLElBQUEsR0FBQWlCLE9BRUE0QyxFQUFBcEUsVUFBQTRFLHFCQUFBLFNBQUF2RCxFQUFBbUMsR0FPQSxJQUFBdUIsR0FBQSxFQUNBLEdBQUExRSxLQUFBQyxJQUFBLEVBQUFrRCxJQUFBLEdBRUF1QixHQUFBLE9BR0EsUUFBQTNHLEVBQUFpQyxLQUFBRSxJQUFrQ25DLEVBQUFpQyxLQUFBRSxJQUFBLElBQWtCbkMsRUFDcERpRCxFQUFBaEIsS0FBQUMsSUFBQSxFQUFBa0QsR0FBQXBGLEdBQUFvRCxRQUNBdUQsR0FBQSxHQUlBLE9BQUFBLEdBRUFYLEVBQUFwRSxVQUFBMkUsbUJBQUEsU0FBQXRELEVBQUFtQyxHQU9BLE9BQUFuRCxLQUFBQyxJQUFBLFNBR0FlLEVBQUFoQixLQUFBQyxJQUFBLEVBQUFrRCxHQUFBbkQsS0FBQUUsSUFBQSxHQUFBaUIsT0FFQTRDLEVBQUFwRSxVQUFBa0UsWUFBQSxTQUFBN0MsRUFBQW1CLEdBT0EsV0FBQW5DLEtBQUFDLElBQ0FELEtBQUFzRSxtQkFBQXRELEVBQUEsSUFDQWhCLEtBQUFXLE1BQUEsR0FDQSxJQUdBWCxLQUFBd0UsYUFBQXhELEVBQUFtQixJQUNBLEdBSUFuQyxLQUFBQyxJQUFBLEdBQ0FELEtBQUFzRSxtQkFBQXRELEVBQUEsSUFNQWhCLEtBQUFXLE1BQUEsR0FDQSxJQU5BWCxLQUFBMEIsa0JBQUFWLEdBQ0FoQixLQUFBd0UsYUFBQXhELEVBQUFtQixJQUNBLElBUUFuQyxLQUFBVyxNQUFBLEdBQ0EsSUFJQW9ELEVBQUFwRSxVQUFBbUUsZUFBQSxTQUFBOUMsRUFBQW1CLEdBT0EsV0FBQW5DLEtBQUFDLElBQ0FELEtBQUF1RSxxQkFBQXZELEdBQUEsSUFDQWhCLEtBQUFXLE1BQUEsR0FDQSxJQUdBWCxLQUFBMEIsa0JBQUFWLEdBQ0FoQixLQUFBeUUsZUFBQXpELEVBQUFtQixJQUNBLEdBR0FuQyxLQUFBQyxJQUFBLEdBQ0FELEtBQUF1RSxxQkFBQXZELEdBQUEsSUFNQWhCLEtBQUFXLE1BQUEsR0FDQSxJQU5BWCxLQUFBMEIsa0JBQUFWLEdBQ0FoQixLQUFBeUUsZUFBQXpELEVBQUFtQixJQUNBLElBUUFuQyxLQUFBVyxNQUFBLEdBQ0EsSUFHQW9ELEVBNWJBLEdBOGJBbEcsRUFBQWtHLHVDQ2hjQXRGLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENtQixPQUFBLElBQzlDLElBQUEyRixFQUFBaEgsRUFBQSxHQUNBaUgsRUFBQWpILEVBQUEsR0FDQWtILEVBQUFsSCxFQUFBLEdBQ0FtSCxFQUFBLFdBQ0EsU0FBQUEsRUFBQTlELEdBQ0FoQixLQUFBSyxjQUFBLGtCQUVBTCxLQUFBK0UsTUFBQS9ELEdBd0pBLE9BdEpBOEQsRUFBQW5GLFVBQUFxRixXQUFBLFNBQUFoRSxHQUNBLFFBQUFqRCxFQUFBLEVBQXVCQSxFQUFBLEtBQVFBLEVBQUEsQ0FFL0IsSUFEQSxJQUFBa0gsRUFBQSxHQUNBQyxFQUFBLEVBQTJCQSxFQUFBLEtBQVFBLEVBQ25DbEUsRUFBQWpELEdBQUFtSCxHQUFBL0QsTUFDQThELEdBQUEsSUFHQUEsR0FBQSxJQUdBNUQsUUFBQUMsSUFBQTJELEtBSUFILEVBQUFuRixVQUFBb0YsTUFBQSxTQUFBL0QsR0FDQWhCLEtBQUFtRixTQUFBLEVBQ0FuRixLQUFBb0YsY0FDQXBGLEtBQUFxRixlQUNBckYsS0FBQXNGLE9BQUFyRixLQUFBLEVBQ0FELEtBQUF1RixXQUFBLEVBRUF2RixLQUFBd0Ysa0JBQUF4RSxJQUVBOEQsRUFBQW5GLFVBQUF1QyxVQUFBLFNBQUFsQixFQUFBbUIsR0FDQW5DLEtBQUFzRixPQUFBcEQsVUFBQWxCLEVBQUFtQixHQUNBbkMsS0FBQXdELEtBQUF4QyxFQUFBbUIsSUFFQTJDLEVBQUFuRixVQUFBNkMsV0FBQSxTQUFBeEIsRUFBQW1CLEdBQ0FuQyxLQUFBc0YsT0FBQTlDLFdBQUF4QixFQUFBbUIsR0FDQW5DLEtBQUF3RCxLQUFBeEMsRUFBQW1CLElBRUEyQyxFQUFBbkYsVUFBQWtELFFBQUEsU0FBQTdCLEVBQUFtQixHQUdBbkMsS0FBQXNGLE9BQUF6QyxRQUFBN0IsRUFBQW1CLEdBQ0FuQyxLQUFBd0QsS0FBQXhDLEVBQUFtQixJQUdBMkMsRUFBQW5GLFVBQUFtRCxVQUFBLFNBQUE5QixFQUFBbUIsR0FDQW5DLEtBQUFzRixPQUFBeEMsVUFBQTlCLEdBQ0FoQixLQUFBd0QsS0FBQXhDLEVBQUFtQixJQUVBMkMsRUFBQW5GLFVBQUEwRixhQUFBLFdBMEJBLE9BekJBN0UsS0FBQUksTUFBQSxFQUFBSixLQUFBQyxTQUFBLElBMEJBLE9BQ0FULEtBQUF5RixLQUFBLElBQ0EsTUFDQSxPQUNBekYsS0FBQXlGLEtBQUEsSUFDQSxNQUNBLE9BQ0F6RixLQUFBeUYsS0FBQSxJQU1BLE1BQUF6RixLQUFBeUYsS0FDQXpGLEtBQUFzRixPQUFBLElBQUFYLEVBQUFaLE9BRUEsTUFBQS9ELEtBQUF5RixLQUVBekYsS0FBQXNGLE9BQUEsSUFBQVYsRUFBQWxCLE9BRUEsTUFBQTFELEtBQUF5RixPQUVBekYsS0FBQXNGLE9BQUEsSUFBQVQsRUFBQXpFLFNBR0EwRSxFQUFBbkYsVUFBQTZELEtBQUEsU0FBQXhDLEVBQUFtQixHQUVBbkMsS0FBQXNGLE9BQUEzRSxPQUNBWCxLQUFBc0YsT0FBQSxJQUFBWCxFQUFBWixRQUVBLElBQUEyQixFQUFBMUYsS0FBQXNGLE9BQUE5QixLQUFBeEMsRUFBQW1CLEdBS0EsT0FKQW5DLEtBQUFzRixPQUFBM0UsT0FDQVgsS0FBQXNGLE9BQUEsSUFBQVgsRUFBQVosT0FDQS9ELEtBQUErRSxNQUFBL0QsSUFFQTBFLEdBZ0JBWixFQUFBbkYsVUFBQThELEtBQUEsV0FDQXpELEtBQUFzRixPQUFBN0IsUUFFQXFCLEVBQUFuRixVQUFBNkYsa0JBQUEsU0FBQXhFLEdBSUEsSUFGQSxJQUVBakQsRUFBQTRILEdBQWdDNUgsR0FBQSxFQUFRQSxJQUFBLENBRXhDLElBREEsSUFBQTZILEdBQUEsRUFDQVYsRUFBQVcsRUFBbUNYLEdBQUEsRUFBUUEsSUFDM0NsRSxFQUFBakQsR0FBQW1ILEdBQUEvRCxRQUNBeUUsR0FBQSxHQUdBLEdBQUFBLEVBQUEsQ0FDQSxRQUFBRSxFQUFBL0gsRUFBK0IrSCxFQUFBLElBQU9BLEVBQ3RDLFFBQUE5SCxFQUFBLEVBQW1DQSxFQVZuQyxLQVU4Q0EsRUFDOUNnRCxFQUFBOEUsR0FBQTlILEdBQUFtRCxNQUFBSCxFQUFBOEUsRUFBQSxHQUFBOUgsR0FBQW1ELE1BQ0FILEVBQUE4RSxHQUFBOUgsR0FBQWtELE1BQUFGLEVBQUE4RSxFQUFBLEdBQUE5SCxHQUFBa0QsTUFHQSxJQUFBZ0UsRUFBQSxFQUErQkEsRUFmL0IsR0FlMENBLElBQzFDbEUsRUFBQSxHQUFBa0UsR0FBQS9ELE9BQUEsRUFDQUgsRUFBQSxHQUFBa0UsR0FBQWhFLE1BQUFsQixLQUFBSyxjQUVBTCxLQUFBd0Ysa0JBQUF4RSxNQUlBOEQsRUE1SkEsR0E4SkFqSCxFQUFBaUgsdUNDbEtBckcsT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q21CLE9BQUEsSUFDOUMsSUFBQStHLEVBQUEsV0FDQSxTQUFBQSxFQUFBN0UsRUFBQWlCLEVBQUE2RCxHQUNBaEcsS0FBQWtCLFFBQ0FsQixLQUFBbUMsT0FDQW5DLEtBQUFnRyxNQU9BLE9BTEFELEVBQUFwRyxVQUFBNkQsS0FBQSxTQUFBeUMsRUFBQUMsR0FFQUQsRUFBQUUsVUFBQW5HLEtBQUFrQixNQUNBK0UsRUFBQUcsU0FBQXBHLEtBQUFtQyxLQUFBLEVBQUErRCxFQUFBbEcsS0FBQWdHLElBQUEsYUFFQUQsRUFYQSxHQWFBbEksRUFBQWtJLHNDQ2RBdEgsT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q21CLE9BQUEsSUFDOUMsSUFBQXFILEVBQUExSSxFQUFBLEdBQ0EySSxFQUFBM0ksRUFBQSxHQUNBNEksRUFBQSxXQUNBLFNBQUFBLElBQ0F2RyxLQUFBd0csT0FBQUMsU0FBQUMsY0FBQSxhQUNBMUcsS0FBQTJHLGdCQUFBLGtCQUNBM0csS0FBQWdCLFlBQ0FoQixLQUFBNEcsWUFDQTVHLEtBQUE2RyxZQUNBN0csS0FBQThHLGdCQUFBLEVBQ0E5RyxLQUFBZixFQUFBLElBQUFxSCxFQUFBeEIsT0FBQTlFLEtBQUFnQixVQUNBLElBQUErRixFQUFBL0csS0FBQWdILFlBQ0FoSCxLQUFBbUMsS0FBQTRFLEVBQUEsSUFDQS9HLEtBQUF3RyxPQUFBUyxpQkFBQSxzQkFBQUMsR0FDQSxJQUFBQyxFQUFBbkgsS0FBQW9ILFlBQUFwSCxLQUFBd0csT0FBQVUsR0FDQTdGLFFBQUFDLElBQUEsWUFDQTZGLEVBQUEzRixFQUFBdUYsRUFDQS9HLEtBQUFmLEVBQUF1RCxXQUFBeEMsS0FBQWdCLFNBQUFoQixLQUFBbUMsTUFFQWdGLEVBQUEzRixFQUFBdUYsR0FDQS9HLEtBQUFmLEVBQUFpRCxVQUFBbEMsS0FBQWdCLFNBQUFoQixLQUFBbUMsUUFFUyxHQXlHVCxPQXZHQW9FLEVBQUE1RyxVQUFBeUgsWUFBQSxTQUFBQyxFQUFBQyxHQUNBLElBQUFDLEVBQUFGLEVBQUFHLHdCQUNBLE9BQ0FoRyxFQUFBOEYsRUFBQUcsUUFBQSxHQUFBQyxRQUFBSCxFQUFBcEYsS0FDQVYsRUFBQTZGLEVBQUFHLFFBQUEsR0FBQUUsUUFBQUosRUFBQXZCLE1BR0FPLEVBQUE1RyxVQUFBaUksU0FBQSxXQUNBLE9BQUE1SCxLQUFBZixHQUVBc0gsRUFBQTVHLFVBQUFxSCxVQUFBLFdBQ0EsT0FBQXhHLEtBQUFJLE1BQUFaLEtBQUE2RixNQUFBLElBRUFVLEVBQUE1RyxVQUFBa0ksU0FBQSxTQUFBWCxHQUNBLE1BQUFBLEVBQUFZLFFBRUE5SCxLQUFBZixFQUFBNEQsUUFBQTdDLEtBQUFnQixTQUFBaEIsS0FBQW1DLE1BRUEsTUFBQStFLEVBQUFZLFFBQ0E5SCxLQUFBZixFQUFBNkQsVUFBQTlDLEtBQUFnQixTQUFBaEIsS0FBQW1DLE1BRUEsTUFBQStFLEVBQUFZLFFBRUE5SCxLQUFBZixFQUFBaUQsVUFBQWxDLEtBQUFnQixTQUFBaEIsS0FBQW1DLE1BRUEsTUFBQStFLEVBQUFZLFNBRUE5SCxLQUFBZixFQUFBdUQsV0FBQXhDLEtBQUFnQixTQUFBaEIsS0FBQW1DLE9BR0FvRSxFQUFBNUcsVUFBQW9JLFNBQUEsV0FDQS9ILEtBQUE4RyxpQkFFQTlHLEtBQUFmLEVBQUF3RSxPQUNBekQsS0FBQWYsRUFBQXVFLEtBQUF4RCxLQUFBZ0IsU0FBQWhCLEtBQUFtQyxRQUVBbkMsS0FBQThHLGdCQUFBLEtBS0FQLEVBQUE1RyxVQUFBaUgsVUFBQSxXQUNBNUcsS0FBQXdHLE9BQUFYLE1BQUFtQyxPQUFBQyxXQUNBakksS0FBQXdHLE9BQUFiLE9BQUFxQyxPQUFBRSxZQUNBbEksS0FBQTZGLE1BQUFtQyxPQUFBQyxXQUNBakksS0FBQTJGLE9BQUFxQyxPQUFBRSxZQUNBbEksS0FBQWlHLElBQUFqRyxLQUFBd0csT0FBQTJCLFdBQUEsT0FFQTVCLEVBQUE1RyxVQUFBa0gsVUFBQSxXQUNBLElBQ0ExRSxFQURBbkMsS0FBQWdILFlBQ0EsSUFDQWhILEtBQUFtQyxPQUdBLElBRkEsSUFFQXBFLEVBQUEsRUFBdUJBLEVBQUEsR0FBUUEsSUFBQSxDQUcvQixJQURBLElBQUFxSyxLQUNBbEQsRUFBQSxFQUEyQkEsRUFBQSxLQUFRQSxFQUFBLENBRW5DLElBQUFtRCxFQUFBLElBQUFoQyxFQUFBTixNQU5BLGtCQU1BLEdBQUFiLEVBQUEsR0FBQW5ILEdBQ0FzSyxFQUFBbEgsT0FBQSxFQUNBaUgsRUFBQWhILEtBQUFpSCxHQUdBckksS0FBQWdCLFNBQUFJLEtBQUFnSCxHQUNBQSxPQUdBN0IsRUFBQTVHLFVBQUEySSxVQUFBLFdBQ0F0SSxLQUFBNEcsWUFDQTVHLEtBQUFpRyxJQUFBRSxVQUFBbkcsS0FBQTJHLGdCQUNBM0csS0FBQWlHLElBQUFHLFNBQUEsSUFBQXBHLEtBQUE2RixNQUFBN0YsS0FBQTJGLFFBQ0EsSUFDQXhELEVBREFuQyxLQUFBZ0gsWUFDQSxJQUNBaEgsS0FBQW1DLE9BQ0FuQyxLQUFBaUcsSUFBQXNDLFlBQUEscUJBQ0F2SSxLQUFBaUcsSUFBQXVDLFVBQUEsRUFDQXhJLEtBQUFpRyxJQUFBd0MsV0FBQXRHLEVBQUEsWUFDQW5DLEtBQUEwSSxVQUFBdkcsR0FDQSxRQUFBd0csRUFBQSxFQUFBQyxFQUFBNUksS0FBQWdCLFNBQTRDMkgsRUFBQUMsRUFBQWpILE9BQWdCZ0gsSUFFNUQsSUFEQSxJQUNBRSxFQUFBLEVBQUFDLEVBREFGLEVBQUFELEdBQ21ERSxFQUFBQyxFQUFBbkgsT0FBd0JrSCxJQUFBLENBQzNFQyxFQUFBRCxHQUNBckYsS0FBQXhELEtBQUFpRyxJQUFBOUQsS0FJQW9FLEVBQUE1RyxVQUFBK0ksVUFBQSxTQUFBdkcsR0FDQW5DLEtBQUFpRyxJQUFBc0MsWUFBQSxrQkFJQSxJQUhBLElBR0FyQyxFQUFBLEdBQTZCQSxFQUFBLElBQWNBLEdBQUEsR0FDM0NsRyxLQUFBaUcsSUFBQThDLE9BQUE1RyxFQUFBK0QsRUFKQSxJQUtBbEcsS0FBQWlHLElBQUErQyxPQUFBN0csRUFBQStELEVBSkEsS0FLQWxHLEtBQUFpRyxJQUFBZ0QsU0FFQSxJQUFBL0MsRUFBQSxHQUE2QkEsRUFBQSxJQUFtQkEsR0FBQSxHQUNoRGxHLEtBQUFpRyxJQUFBOEMsT0FBQTVHLEVBQUErRCxHQUNBbEcsS0FBQWlHLElBQUErQyxPQUFBN0csRUFBQSxJQUFBK0QsR0FDQWxHLEtBQUFpRyxJQUFBZ0QsVUFHQTFDLEVBN0hBLEdBK0hBMUksRUFBQTBJLHNDQ2xJQTlILE9BQUFDLGVBQUFiLEVBQUEsY0FBOENtQixPQUFBLElBQzlDLElBQ0FrSyxFQUFBLElBREF2TCxFQUFBLEdBQ0E0SSxPQVVBeUIsT0FBQW1CLFlBVEEsV0FFQUQsRUFBQVosYUFPQSxJQUNBTixPQUFBbUIsWUFMQSxXQUNBRCxFQUFBbkIsWUFJQSxLQUNBQyxPQUFBZixpQkFBQSxVQUlBLFNBQUFDLEdBQ0FnQyxFQUFBckIsU0FBQVgsS0FMQSxHQUNBYyxPQUFBZixpQkFBQSw0QkFBQUMsR0FDQTdGLFFBQUFDLElBQUEsMERBQUE0RixFQUFBa0MsUUFBQUMsTUFBQW5DLEVBQUFrQyxRQUFBRSxHQUFBcEMsRUFBQWtDLFFBQUFHLFFBQUE1SCxPQUFBdUYsRUFBQWtDLFFBQUFJLEtBQUE3SCxVQUtBcUcsT0FBQXlCLFNBQUEsU0FBQUMsR0FDQVIsRUFBQVoiLCJmaWxlIjoiLi9idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQ29vcmRpbmF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvb3JkaW5hdGUociwgYykge1xyXG4gICAgICAgIHRoaXMucm93ID0gcjtcclxuICAgICAgICB0aGlzLmNvbCA9IGM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gQ29vcmRpbmF0ZTtcclxufSgpKTtcclxuZXhwb3J0cy5Db29yZGluYXRlID0gQ29vcmRpbmF0ZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIENvb3JkaW5hdGVfMSA9IHJlcXVpcmUoXCIuL0Nvb3JkaW5hdGVcIik7XHJcbi8vIGV4cG9ydCBjbGFzcyBjb29yZGluYXRle1xyXG4vLyAgICAgcm93Om51bWJlcjtcclxuLy8gICAgIGNvbDpudW1iZXI7XHJcbi8vICAgICBjb25zdHJ1Y3RvcihyOm51bWJlcixjOm51bWJlcil7XHJcbi8vICAgICAgICAgdGhpcy5yb3cgPSByO1xyXG4vLyAgICAgICAgIHRoaXMuY29sID0gYztcclxuLy8gICAgIH1cclxuLy8gfVxyXG52YXIgWFBpZWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gWFBpZWNlKCkge1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxDb2xvciA9IFwicmdiKDY2LCA2NiwgNjYpXCI7XHJcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZmxpcHBlZCA9IE1hdGgucmFuZG9tKCkgPCAwLjU7XHJcbiAgICAgICAgdGhpcy5zZXRjb2xvcigpO1xyXG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMik7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IDE7IC8vTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSo0KSArMSk7XHJcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgb2JqZWN0OiBjb2w6XCIrdGhpcy5jb2wpO1xyXG4gICAgfVxyXG4gICAgWFBpZWNlLnByb3RvdHlwZS5pbmNyZW1lbnRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA8IDQpIHtcclxuICAgICAgICAgICAgKyt0aGlzLnN0YXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFhQaWVjZS5wcm90b3R5cGUuZHJhd1RvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIENvcmQpIHtcclxuICAgICAgICBpZiAoYm9hcmRtYXBbQ29yZC5yb3ddICYmIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0pIHtcclxuICAgICAgICAgICAgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXS5jb2xvciA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlcy5wdXNoKG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZShDb3JkLnJvdywgQ29yZC5jb2wpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRyYXcgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdHMgYXQgYm9hcmRtYXBbXCIgKyBDb3JkLnJvdyArIFwiXVtcIiArIENvcmQuY29sICsgXCJdXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBYUGllY2UucHJvdG90eXBlLmRlbGV0ZVRvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIHgsIHkpIHtcclxuICAgICAgICBpZiAoYm9hcmRtYXBbeF0gJiYgYm9hcmRtYXBbeF1beV0pIHtcclxuICAgICAgICAgICAgYm9hcmRtYXBbeF1beV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XHJcbiAgICAgICAgICAgIGJvYXJkbWFwW3hdW3ldLmVtcHR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRlbGV0ZSBzb21ldGhpbmcgdGhhdCBkb2Vzbid0IGV4aXN0cyBhdCBib2FyZG1hcFtcIiArIHggKyBcIl1bXCIgKyB5ICsgXCJdXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBYUGllY2UucHJvdG90eXBlLmRlbGV0ZUNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuY29vcmRpbmF0ZXMucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlVG9Qb2ludChib2FyZG1hcCwgY3VycmVudC5yb3csIGN1cnJlbnQuY29sKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgWFBpZWNlLnByb3RvdHlwZS5kcmF3U2VsZiA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgW15dXHJcbiAgICAgWyBdWyBdWyBdXHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3csIHRoaXMuY29sICsgMSkpO1xyXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sKSk7XHJcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAxKSk7XHJcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAyKSk7XHJcbiAgICB9O1xyXG4gICAgWFBpZWNlLnByb3RvdHlwZS5kcmF3U2VsZkZsaXBwZWQgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcclxuICAgICAgICAvKlxyXG5cclxuICAgICAgIFs8XVteXVs+XVxyXG4gICAgICAgICAgW3ZdXHJcblxyXG4gICAgICAgICovXHJcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wpKTtcclxuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDEpKTtcclxuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDIpKTtcclxuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAyLCB0aGlzLmNvbCArIDEpKTtcclxuICAgIH07XHJcbiAgICBYUGllY2UucHJvdG90eXBlLmRyYXdTZWxmUmlnaHQgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgIFteXVxyXG4gICAgICAgIFs8XVs+XVxyXG4gICAgICAgIFt2XVxyXG4gICAgICAgICovXHJcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93LCB0aGlzLmNvbCArIDEpKTtcclxuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDEpKTtcclxuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDIpKTtcclxuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAyLCB0aGlzLmNvbCArIDEpKTtcclxuICAgIH07XHJcbiAgICBYUGllY2UucHJvdG90eXBlLmRyYXdTZWxmTGVmdCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgW15dXHJcbiAgICAgWzxdWz5dXHJcbiAgICAgICAgW3ZdXHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3csIHRoaXMuY29sICsgMSkpO1xyXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMSkpO1xyXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sKSk7XHJcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMiwgdGhpcy5jb2wgKyAxKSk7XHJcbiAgICB9O1xyXG4gICAgWFBpZWNlLnByb3RvdHlwZS5sZWZ0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0xlZnRVcChib2FyZG1hcCwgMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sID0gLS10aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0xlZnRSaWdodChib2FyZG1hcCwgMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sID0gLS10aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0xlZnREb3duKGJvYXJkbWFwLCAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2wgPSAtLXRoaXMuY29sO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrTGVmdExlZnQoYm9hcmRtYXAsIDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbCA9IC0tdGhpcy5jb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFhQaWVjZS5wcm90b3R5cGUucmlnaHRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrUmlnaHRVcChib2FyZG1hcCwgMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sID0gKyt0aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgNykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1JpZ2h0UmlnaHQoYm9hcmRtYXAsIDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbCA9ICsrdGhpcy5jb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tSaWdodERvd24oYm9hcmRtYXAsIDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbCA9ICsrdGhpcy5jb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tSaWdodExlZnQoYm9hcmRtYXAsIDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbCA9ICsrdGhpcy5jb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFhQaWVjZS5wcm90b3R5cGUudXBQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xyXG4gICAgICAgICAgICBjYXNlIDE6IC8vdXBcclxuICAgICAgICAgICAgICAgIC8vdHJhbnNmb3JtIHRvIHJpZ2h0XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6IC8vcmlnaHRcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6IC8vZG93blxyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gNDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6IC8vbGVmdFxyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgWFBpZWNlLnByb3RvdHlwZS5kb3duUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tCZWxvd3VwKGJvYXJkbWFwLCAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnJvdztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tCZWxvd1JpZ2h0KGJvYXJkbWFwLCAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnJvdztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tCZWxvd0Rvd24oYm9hcmRtYXAsIDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICArK3RoaXMucm93O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxNykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0JlbG93TGVmdChib2FyZG1hcCwgMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsrdGhpcy5yb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFhQaWVjZS5wcm90b3R5cGUuY2hlY2tMZWZ0VXAgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XHJcbiAgICAgICAgdmFyIFRvTGVmdCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCAtIDFdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgIFRvTGVmdCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5lbXB0eSkge1xyXG4gICAgICAgICAgICBUb0xlZnQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gVG9MZWZ0O1xyXG4gICAgfTtcclxuICAgIFhQaWVjZS5wcm90b3R5cGUuY2hlY2tSaWdodFVwID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xyXG4gICAgICAgIHZhciB0b1JpZ2h0ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgM10uZW1wdHkpIHtcclxuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcclxuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b1JpZ2h0O1xyXG4gICAgfTtcclxuICAgIFhQaWVjZS5wcm90b3R5cGUuY2hlY2tSaWdodFJpZ2h0ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xyXG4gICAgICAgIC8vIDMgcG9zc2libGUgcG9pbnRzIG9mIGNvbnRhY3RcclxuICAgICAgICAvKlxyXG4gICAgICAgW15dIDwtICB0aGlzLnJvdywgdGhpcy5jb2wgKyAyXHJcbiAgICAgICBbPF1bPl0gPC0gIHRoaXMucm93KzEgLCB0aGlzLmNvbCArM1xyXG4gICAgICAgW3ZdIDwtICB0aGlzLnJvdysyLCB0aGlzLmNvbCArMlxyXG4gICAgICAgKi9cclxuICAgICAgICB2YXIgdG9SaWdodCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcclxuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDNdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xyXG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRvUmlnaHQ7XHJcbiAgICB9O1xyXG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnRSaWdodCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcclxuICAgICAgICB2YXIgdG9SaWdodCA9IGZhbHNlO1xyXG4gICAgICAgIC8vIDMgcG9zc2libGUgcG9pbnRzIG9mIGNvbnRhY3RcclxuICAgICAgICAvKlxyXG4gICAgICB0aGlzLnJvdywgdGhpcy5jb2wgLT4gW15dXHJcbiAgICAgIHRoaXMucm93KzEsdGhpcy5jb2wtPiBbPF1bPl1cclxuICAgICAgdGhpcy5yb3crMix0aGlzLmNvbC0+IFt2XVxyXG4gICAgICAgKi9cclxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkpIHtcclxuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbF0uZW1wdHkpIHtcclxuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbF0uZW1wdHkpIHtcclxuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b1JpZ2h0O1xyXG4gICAgfTtcclxuICAgIFhQaWVjZS5wcm90b3R5cGUuY2hlY2tSaWdodExlZnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgIFteXSAtPiB0aGlzLnJvdywgdGhpcy5jb2wrMlxyXG4gICAgWzxdWz5dIC0+IHRoaXMucm93KzEsIHRoaXMuY29sKzJcclxuICAgICAgIFt2XSAtPiB0aGlzLnJvdysyLCB0aGlzLmNvbCsyXHJcbiAgICAgICAqL1xyXG4gICAgICAgIHZhciB0b1JpZ2h0ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xyXG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgMl0pIHtcclxuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCArIDJdKSB7XHJcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdG9SaWdodDtcclxuICAgIH07XHJcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrTGVmdExlZnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XHJcbiAgICAgICAgLypcclxuICAgICB0aGlzLnJvdyx0aGlzLmNvbC0+ICAgICBbXl1cclxuICAgIHRoaXMucm93KzEsdGhpcy5jb2wgLTFbPF1bPl1cclxuICAgICB0aGlzLnJvdysyLHRoaXMuY29sICAgICBbdl1cclxuICAgICAgICovXHJcbiAgICAgICAgdmFyIHRvTGVmdCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5lbXB0eSkge1xyXG4gICAgICAgICAgICB0b0xlZnQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgLSAxXS5lbXB0eSkge1xyXG4gICAgICAgICAgICB0b0xlZnQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2xdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgIHRvTGVmdCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b0xlZnQ7XHJcbiAgICB9O1xyXG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnREb3duID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICAgIFR3byBQb2ludHMgb2YgRW50cnlcclxuICAgICAgICAgICB0aGlzLnJvdysxLHRoaXMuY29sLTEgWzxdW15dWz5dXHJcbiAgICAgICAgICAgdGhpcy5yb3crMix0aGlzLmNvbCAgICAgIFt2XVxyXG4gICAgICAgICovXHJcbiAgICAgICAgdmFyIHRvTGVmdCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCAtIDFdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgIHRvTGVmdCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbF0uZW1wdHkpIHtcclxuICAgICAgICAgICAgdG9MZWZ0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRvTGVmdDtcclxuICAgIH07XHJcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHREb3duID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgIFR3byBQb2ludHMgb2YgRW50cnlcclxuICAgICAgICAgIFs8XVteXVs+XSAtPiB0aGlzLnJvdysxLCB0aGlzLmNvbCszXHJcbiAgICAgICAgICAgICBbdl0gIC0+IHRoaXMucm93KzIsIHRoaXMuY29sKzJcclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgdG9SaWdodCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDNdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xyXG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRvUmlnaHQ7XHJcbiAgICB9O1xyXG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93dXAgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XHJcbiAgICAgICAgdmFyIGJlbG93ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl1bdGhpcy5jb2xdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgIGJlbG93ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xyXG4gICAgICAgICAgICBiZWxvdyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcclxuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiYmVsb3cgPVwiK2JlbG93KTtcclxuICAgICAgICByZXR1cm4gYmVsb3c7XHJcbiAgICB9O1xyXG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93RG93biA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcclxuICAgICAgICB2YXIgYmVsb3cgPSBmYWxzZTtcclxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMSArIG1vZGlmaWVyXVt0aGlzLmNvbF0uZW1wdHkpIHtcclxuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgIGJlbG93ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xyXG4gICAgICAgICAgICBiZWxvdyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBiZWxvdztcclxuICAgIH07XHJcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3dMZWZ0ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xyXG4gICAgICAgIHZhciBiZWxvdyA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcclxuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMSArIG1vZGlmaWVyXVt0aGlzLmNvbF0uZW1wdHkpIHtcclxuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZighYm9hcmRtYXBbdGhpcy5yb3crMyttb2RpZmllcl1bdGhpcy5jb2wrMV0uZW1wdHkpe1xyXG4gICAgICAgIC8vICAgICBiZWxvdyA9IHRydWU7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHJldHVybiBiZWxvdztcclxuICAgIH07XHJcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3dSaWdodCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcclxuICAgICAgICB2YXIgYmVsb3cgPSBmYWxzZTtcclxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgIGJlbG93ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xyXG4gICAgICAgICAgICBiZWxvdyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmKCFib2FyZG1hcFt0aGlzLnJvdyszK21vZGlmaWVyXVt0aGlzLmNvbCsxXS5lbXB0eSl7XHJcbiAgICAgICAgLy8gICAgIGJlbG93ID0gdHJ1ZTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgcmV0dXJuIGJlbG93O1xyXG4gICAgfTtcclxuICAgIFhQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmRlbGV0ZVNlbGYoYm9hcmRtYXAsMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAxOCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93dXAoYm9hcmRtYXAsIDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NlbGYoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDE3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE3ICYmIHRoaXMuY2hlY2tCZWxvd1JpZ2h0KGJvYXJkbWFwLCAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93UmlnaHQoYm9hcmRtYXAsIDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NlbGZSaWdodChib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMTcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTcgJiYgdGhpcy5jaGVja0JlbG93TGVmdChib2FyZG1hcCwgMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd0xlZnQoYm9hcmRtYXAsIDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NlbGZMZWZ0KGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAxNykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93RG93bihib2FyZG1hcCwgMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZGVsZXRlU2VsZkZsaXBwZWQoYm9hcmRtYXAsMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTZWxmRmxpcHBlZChib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgWFBpZWNlLnByb3RvdHlwZS5kZWNyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucm93ID0gdGhpcy5yb3cgKyAxO1xyXG4gICAgfTtcclxuICAgIFhQaWVjZS5wcm90b3R5cGUuc2V0Y29sb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbG9yID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMSk7XHJcbiAgICAgICAgc3dpdGNoIChjb2xvcikge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTEsIDk4LCAyMzcpXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDE5LCAyMzcsIDExKVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDksIDcyLCA5MClcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ1LCAyNTUsIDY2KVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYig2NiwgMjU1LCAyNDgpXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgNjYsIDE3NilcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCAxNTQsIDY2KVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBYUGllY2U7XHJcbn0oKSk7XHJcbmV4cG9ydHMuWFBpZWNlID0gWFBpZWNlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQ29vcmRpbmF0ZV8xID0gcmVxdWlyZShcIi4vQ29vcmRpbmF0ZVwiKTtcclxudmFyIE9QaWVjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE9QaWVjZSgpIHtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xyXG4gICAgICAgIHRoaXMuZmxpcHBlZCA9IE1hdGgucmFuZG9tKCkgPCAwLjU7XHJcbiAgICAgICAgdGhpcy5zZXRjb2xvcigpO1xyXG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmNvbCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAzKSArIDIpO1xyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIG9iamVjdDogY29sOlwiK3RoaXMuY29sKTtcclxuICAgIH1cclxuICAgIE9QaWVjZS5wcm90b3R5cGUuZHJhd1RvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIENvcmQpIHtcclxuICAgICAgICBpZiAoYm9hcmRtYXBbQ29yZC5yb3ddICYmIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0pIHtcclxuICAgICAgICAgICAgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXS5jb2xvciA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlcy5wdXNoKG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZShDb3JkLnJvdywgQ29yZC5jb2wpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRyYXcgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdHMgYXQgYm9hcmRtYXBbXCIgKyBDb3JkLnJvdyArIFwiXVtcIiArIENvcmQuY29sICsgXCJdXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPUGllY2UucHJvdG90eXBlLmRlbGV0ZVRvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIHgsIHkpIHtcclxuICAgICAgICBpZiAoYm9hcmRtYXBbeF0gJiYgYm9hcmRtYXBbeF1beV0pIHtcclxuICAgICAgICAgICAgYm9hcmRtYXBbeF1beV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XHJcbiAgICAgICAgICAgIGJvYXJkbWFwW3hdW3ldLmVtcHR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRlbGV0ZSBzb21ldGhpbmcgdGhhdCBkb2Vzbid0IGV4aXN0cyBhdCBib2FyZG1hcFtcIiArIHggKyBcIl1bXCIgKyB5ICsgXCJdXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPUGllY2UucHJvdG90eXBlLmRlbGV0ZUNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuY29vcmRpbmF0ZXMucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlVG9Qb2ludChib2FyZG1hcCwgY3VycmVudC5yb3csIGN1cnJlbnQuY29sKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT1BpZWNlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XHJcbiAgICAgICAgLy9oYW5kbGUgaWYgcm93IHplcm8gYW5kIGlmIHBlaWNlIGlzIGFscmVhZHkgdGhlcmUgcmV0dXJuIGZhbHNlIHlvdSBsb3NlXHJcbiAgICAgICAgaWYgKHRoaXMucm93ID09IDE5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnJvdyA9PT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3Rmlyc3RTZWxmKGJvYXJkbWFwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5yb3cgPT09IDApIHtcclxuICAgICAgICAgICAgLy90aGlzLmRyYXdGaXJzdFNlbGYoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAvLyB0aGlzLmRlbGV0ZUZpcnN0U2VsZihib2FyZG1hcCk7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd1NlbGYoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5yb3cgPT09IDEpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlIGNvbnNvbGUubG9nKFwiRGVsZXRpbmcgZmlyc3Qgc2VsZlwiKTtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuZGVsZXRlUHJldlNlbGYoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAvL3RoaXMuZGVsZXRlUHJldlNlbGYoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdTZWxmKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBpZighYm9hcmRtYXBbdGhpcy5yb3crMV1bdGhpcy5jb2xdLmVtcHR5IHx8IWJvYXJkbWFwW3RoaXMucm93KzFdWyt0aGlzLmNvbF0uZW1wdHkgKXtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMuZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93KGJvYXJkbWFwLCAtMSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2VsZihib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbGxpbmcgRHJhd1wiKVxyXG4gICAgfTtcclxuICAgIE9QaWVjZS5wcm90b3R5cGUuZHJhd0ZsaXBwZWQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkRvbid0IG5lZWQgdGhpcyBtZXRob2QgOlwiKTtcclxuICAgIH07XHJcbiAgICBPUGllY2UucHJvdG90eXBlLmRyYXdOb3RGbGlwcGVkID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJBbHNvIGRvbid0IG5lZWQgdGhpcyBtZXRob2QgO1wiKTtcclxuICAgIH07XHJcbiAgICBPUGllY2UucHJvdG90eXBlLmRlY3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJUaGlzLnJvdyA9IFwiK3RoaXMucm93KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbGxpbmcgZGVzY3JcIik7XHJcbiAgICAgICAgdGhpcy5yb3cgPSB0aGlzLnJvdyArIDE7XHJcbiAgICB9O1xyXG4gICAgT1BpZWNlLnByb3RvdHlwZS5kcmF3U2VsZiA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xyXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdywgdGhpcy5jb2wpKTtcclxuICAgICAgICAvL2JvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sKSk7XHJcbiAgICAgICAgLy9ib2FyZG1hcFt0aGlzLnJvdysxXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdywgdGhpcy5jb2wgKyAxKSk7XHJcbiAgICAgICAgLy8gYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sKzFdLmNvbG9yID0gdGhpcy5jb2xvcjtcclxuICAgICAgICAvL2JvYXJkbWFwW3RoaXMucm93KzFdW3RoaXMuY29sKzFdLmNvbG9yID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDEpKTtcclxuICAgIH07XHJcbiAgICBPUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3cgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XHJcbiAgICAgICAgLypbKl1bKl1cclxuICAgICAgICAgIFsqXVsqXVxyXG4gICAgICAgICovXHJcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2xdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgT1BpZWNlLnByb3RvdHlwZS5kcmF3Rmlyc3RTZWxmID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XHJcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93LCB0aGlzLmNvbCkpO1xyXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdywgdGhpcy5jb2wgKyAxKSk7XHJcbiAgICAgICAgLy9ib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcclxuICAgICAgICAvL2JvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAvLyAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sKzFdLmNvbG9yID0gdGhpcy5jb2xvcjtcclxuICAgICAgICAvLyBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wrMV0uZW1wdHkgPSBmYWxzZTtcclxuICAgIH07XHJcbiAgICBPUGllY2UucHJvdG90eXBlLmRvd25QcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBkb3duIHByZXNzQFwiKVxyXG4gICAgICAgIGlmICh0aGlzLnJvdyA8IDE4KSB7XHJcbiAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sXS5lbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgICAgICsrdGhpcy5yb3c7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICB9O1xyXG4gICAgT1BpZWNlLnByb3RvdHlwZS5sZWZ0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICBpZiAodGhpcy5jb2wgPT09IDApIHtcclxuICAgICAgICAgICAgLy9kbyBub3RoaW5nXHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbCA+IDApIHtcclxuICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCAtIDFdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxOSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC0tdGhpcy5jb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9O1xyXG4gICAgT1BpZWNlLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29sID09PSA5KSB7XHJcbiAgICAgICAgICAgIC8vZG8gbm90aGluZ1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbCA8IDkpIHtcclxuICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxOSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsrdGhpcy5jb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH07XHJcbiAgICBPUGllY2UucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAvLyB0aGlzLmRyYXcoYm9hcmRtYXAsbGVmdCk7XHJcbiAgICB9O1xyXG4gICAgT1BpZWNlLnByb3RvdHlwZS5zZXRjb2xvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY29sb3IgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAxKTtcclxuICAgICAgICBzd2l0Y2ggKGNvbG9yKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxMSwgOTgsIDIzNylcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTksIDIzNywgMTEpXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0OSwgNzIsIDkwKVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDUsIDI1NSwgNjYpXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDY2LCAyNTUsIDI0OClcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCA2NiwgMTc2KVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDE1NCwgNjYpXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE9QaWVjZTtcclxufSgpKTtcclxuZXhwb3J0cy5PUGllY2UgPSBPUGllY2U7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBDb29yZGluYXRlXzEgPSByZXF1aXJlKFwiLi9Db29yZGluYXRlXCIpO1xyXG52YXIgSVBpZWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSVBpZWNlKCkge1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxDb2xvciA9IFwicmdiKDY2LCA2NiwgNjYpXCI7XHJcbiAgICAgICAgdGhpcy5mbGlwcGVkID0gdHJ1ZTsgLy9NYXRoLnJhbmRvbSgpIDwgMC41O1xyXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnNldGNvbG9yKCk7XHJcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb2wgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAwKTtcclxuICAgIH1cclxuICAgIElQaWVjZS5wcm90b3R5cGUuZGVjciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnJvdyA9IHRoaXMucm93ICsgMTtcclxuICAgIH07XHJcbiAgICBJUGllY2UucHJvdG90eXBlLmRyYXdUb1BvaW50ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBDb3JkKSB7XHJcbiAgICAgICAgaWYgKGJvYXJkbWFwW0NvcmQucm93XSAmJiBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdKSB7XHJcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uY29sb3IgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgICAgICBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdLmVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXMucHVzaChuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUoQ29yZC5yb3csIENvcmQuY29sKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyeWluZyB0byBkcmF3IHNvbWV0aGluZyB0aGF0IGRvZXNuJ3QgZXhpc3RzIGF0IGJvYXJkbWFwW1wiICsgQ29yZC5yb3cgKyBcIl1bXCIgKyBDb3JkLmNvbCArIFwiXVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSVBpZWNlLnByb3RvdHlwZS5kZWxldGVUb1BvaW50ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCB4LCB5KSB7XHJcbiAgICAgICAgaWYgKGJvYXJkbWFwW3hdICYmIGJvYXJkbWFwW3hdW3ldKSB7XHJcbiAgICAgICAgICAgIGJvYXJkbWFwW3hdW3ldLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xyXG4gICAgICAgICAgICBib2FyZG1hcFt4XVt5XS5lbXB0eSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyeWluZyB0byBkZWxldGUgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdHMgYXQgYm9hcmRtYXBbXCIgKyB4ICsgXCJdW1wiICsgeSArIFwiXVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSVBpZWNlLnByb3RvdHlwZS5kZWxldGVDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xyXG4gICAgICAgIHdoaWxlICh0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmNvb3JkaW5hdGVzLnBvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVRvUG9pbnQoYm9hcmRtYXAsIGN1cnJlbnQucm93LCBjdXJyZW50LmNvbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIElQaWVjZS5wcm90b3R5cGUuc2V0Y29sb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbG9yID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMSk7XHJcbiAgICAgICAgc3dpdGNoIChjb2xvcikge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTEsIDk4LCAyMzcpXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDE5LCAyMzcsIDExKVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDksIDcyLCA5MClcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ1LCAyNTUsIDY2KVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYig2NiwgMjU1LCAyNDgpXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgNjYsIDE3NilcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCAxNTQsIDY2KVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIElQaWVjZS5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmxpcHBlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb2wgPj0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0xlZnRWZXJ0aWNhbChib2FyZG1hcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgICAgICAtLXRoaXMuY29sO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5kcmF3VmVydGljYWwoYm9hcmRtYXAsbGVmdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb2wgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrTGVmdEhvcml6b250YWwoYm9hcmRtYXApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLS10aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgLy90aGlzLmRyYXdIb3Jpem9udGFsKGJvYXJkbWFwLGxlZnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBJUGllY2UucHJvdG90eXBlLnJpZ2h0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICAvKlxyXG5bIF1bKl1bIF1bIF0gICAgIFsgXVsgXVsgXVsgXVxyXG5bIF1bKl1bIF1bIF0gICAgIFsqXVsqXVsqXVsqXVxyXG5bIF1bKl1bIF1bIF0gICAgIFsgXVsgXVsgXVsgXVxyXG5bIF1bKl1bIF1bIF0gICAgIFsgXVsgXVsgXVsgXVxyXG5cclxuKi9cclxuICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDExKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tSaWdodFZlcnRpY2FsKGJvYXJkbWFwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgICAgICsrdGhpcy5jb2w7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA2KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tSaWdodEhvcml6b250YWwoYm9hcmRtYXApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSVBpZWNlLnByb3RvdHlwZS51cFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XHJcbiAgICAgICAgLypcclxuICAgICAgIFsgXVsqXVsgXVsgXSAgICAgWyBdWyBdWyBdWyBdXHJcbiAgICAgICBbIF1bKl1bIF1bIF0gLT4gIFsqXVsqXVsqXVsqXVxyXG4gICAgICAgWyBdWypdWyBdWyBdICAgICBbIF1bIF1bIF1bIF1cclxuICAgICAgIFsgXVsqXVsgXVsgXSAgICAgWyBdWyBdWyBdWyBdXHJcblxyXG4gICAgICAgKi9cclxuICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJOb3QgaW1wbGVtZW50ZWRcIilcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrVmVydGljYWxUb0hvcml6b250YWwoYm9hcmRtYXApKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmxpcHBlZCA9ICF0aGlzLmZsaXBwZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKlxyXG4gICAgICBbIF1bIF1bIF1bIF0gICAgWyBdWypdWyBdWyBdXHJcbiAgICAgIFsqXVsqXVsqXVsqXSAtPiBbIF1bKl1bIF1bIF1cclxuICAgICAgWyBdWyBdWyBdWyBdICAgIFsgXVsqXVsgXVsgXVxyXG4gICAgICBbIF1bIF1bIF1bIF0gICAgWyBdWypdWyBdWyBdXHJcbiAgICAgICovXHJcbiAgICAgICAgZWxzZSB7IC8vaG9yaXpvbnRhbFxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tIb3Jpem9udGFsVG9WZXJ0aWNhbChib2FyZG1hcCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mbGlwcGVkID0gIXRoaXMuZmxpcHBlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJldHVybiB0aGlzLmZsaXBwZWQ7XHJcbiAgICAgICAgICAgIC8vICAgY29uc29sZS5sb2coXCJDaGFuZ2UgQWdhaW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIElQaWVjZS5wcm90b3R5cGUuY2hlY2tWZXJ0aWNhbFRvSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgWyBdWypdWyBdWyBdICAgICBbIF1bIF1bIF1bIF1cclxuICAgICBbIF1bKl1bIF1bIF0gLT4gIFsqXVsqXVsqXVsqXVxyXG4gICAgIFsgXVsqXVsgXVsgXSAgICAgWyBdWyBdWyBdWyBdXHJcbiAgICAgWyBdWypdWyBdWyBdICAgICBbIF1bIF1bIF1bIF1cclxuXHJcbiAgICAgKi9cclxuICAgICAgICB2YXIgbm90ZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5jb2wgPiA2KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jb2wgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2xdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgM10uZW1wdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub3RlbXB0eTtcclxuICAgIH07XHJcbiAgICBJUGllY2UucHJvdG90eXBlLmNoZWNrSG9yaXpvbnRhbFRvVmVydGljYWwgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcclxuICAgICAgICAvKlxyXG4gICAgICBbIF1bIF1bIF1bIF0gICAgWyBdWypdWyBdWyBdXHJcbiAgICAgIFsqXVsqXVsqXVsqXSAtPiBbIF1bKl1bIF1bIF1cclxuICAgICAgWyBdWyBdWyBdWyBdICAgIFsgXVsqXVsgXVsgXVxyXG4gICAgICBbIF1bIF1bIF1bIF0gICAgWyBdWypdWyBdWyBdXHJcbiAgICAgICovXHJcbiAgICAgICAgdmFyIG5vdGVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMucm93ID4gMTcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgM11bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vdGVtcHR5O1xyXG4gICAgfTtcclxuICAgIElQaWVjZS5wcm90b3R5cGUuZG93blByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XHJcbiAgICAgICAgLy92ZXJ0aWNhbFxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgWyBdWyBdWyBdWyBdICBbIF1bKl1bIF1bIF1cclxuICAgICAgICBbKl1bKl1bKl1bKl0gIFsgXVsqXVsgXVsgXVxyXG4gICAgICAgIFsgXVsgXVsgXVsgXSAgWyBdWypdWyBdWyBdXHJcbiAgICAgICAgWyBdWyBdWyBdWyBdICBbIF1bKl1bIF1bIF1cclxuICAgICAgICAqL1xyXG4gICAgICAgIGlmICh0aGlzLmZsaXBwZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTYpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0JlbG93VmVydGljYWwoYm9hcmRtYXAsIDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3crKztcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmRyYXdWZXJ0aWNhbChib2FyZG1hcCwwKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmRyYXcoYm9hcmRtYXAsMClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHsgLy9ob3Jpem9udGFsXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE4KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tCZWxvd0hvcml6b250YWwoYm9hcmRtYXAsIDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3crKztcclxuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuZHJhd0hvcml6b250YWwoYm9hcmRtYXAsMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gdGhpcy5kcmF3KGJvYXJkbWFwLDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5kcmF3KGJvYXJkbWFwLDApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3RoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBJUGllY2UucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XHJcbiAgICAgICAgICAgIHZhciByZXR1cm52YWwgPSB0aGlzLmRyYXdGbGlwcGVkKGJvYXJkbWFwLCBsZWZ0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJldHVybnZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRyYXdOb3RGbGlwcGVkKGJvYXJkbWFwLCBsZWZ0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSVBpZWNlLnByb3RvdHlwZS5kcmF3VmVydGljYWwgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICBbIF1bKl1bIF1bIF1cclxuICAgICAgICAgWyBdWypdWyBdWyBdXHJcbiAgICAgICAgIFsgXVsqXVsgXVsgXVxyXG4gICAgICAgICBbIF1bKl1bIF1bIF1cclxuICAgICAgICAgdGhpcy5yb3csIHRoaXMuY29sKzFcclxuICAgICAgICAgdGhpcy5yb3crMSwgdGhpcy5jb2wrMVxyXG4gICAgICAgICB0aGlzLnJvdysyLCB0aGlzLmNvbCsxXHJcbiAgICAgICAgIHRoaXMucm93KzMsIHRoaXMuY29sKzFcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3csIHRoaXMuY29sICsgMSkpO1xyXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMSkpO1xyXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDIsIHRoaXMuY29sICsgMSkpO1xyXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDMsIHRoaXMuY29sICsgMSkpO1xyXG4gICAgfTtcclxuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhd0hvcml6b250YWwgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgWyBdWyBdWyBdWyBdXHJcbiAgICAgICBbKl1bKl1bKl1bKl1cclxuICAgICAgIFsgXVsgXVsgXVsgXVxyXG4gICAgICAgWyBdWyBdWyBdWyBdXHJcbiAgICAgICB0aGlzLnJvdysxLCB0aGlzLmNvbFxyXG4gICAgICAgdGhpcy5yb3crMSwgdGhpcy5jb2wrMVxyXG4gICAgICAgdGhpcy5yb3crMSwgdGhpcy5jb2wrMlxyXG4gICAgICAgdGhpcy5yb3crMSwgdGhpcy5jb2wrM1xyXG4gICAgICAgKi9cclxuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCkpO1xyXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMSkpO1xyXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMikpO1xyXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMykpO1xyXG4gICAgfTtcclxuICAgIElQaWVjZS5wcm90b3R5cGUuY2hlY2tMZWZ0VmVydGljYWwgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcclxuICAgICAgICAvKlxyXG4gICAgICBbIF1bKl1bIF1bIF1cclxuICAgICAgWyBdWypdWyBdWyBdXHJcbiAgICAgIFsgXVsqXVsgXVsgXVxyXG4gICAgICBbIF1bKl1bIF1bIF1cclxuICAgICAgKi9cclxuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbCA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnJvdzsgaSA8IHRoaXMucm93ICsgNDsgKytpKSB7XHJcbiAgICAgICAgICAgIGlmICghYm9hcmRtYXBbaV1bdGhpcy5jb2xdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYmxvY2tlZDtcclxuICAgIH07XHJcbiAgICBJUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHRWZXJ0aWNhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgIFsgXVsqXVsgXVsgXVxyXG4gICAgICBbIF1bKl1bIF1bIF1cclxuICAgICAgWyBdWypdWyBdWyBdXHJcbiAgICAgIFsgXVsqXVsgXVsgXVxyXG4gICAgICAqL1xyXG4gICAgICAgIHZhciBibG9ja2VkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuY29sID4gNykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMucm93OyBpIDwgdGhpcy5yb3cgKyA0OyArK2kpIHtcclxuICAgICAgICAgICAgaWYgKCFib2FyZG1hcFtpXVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYmxvY2tlZDtcclxuICAgIH07XHJcbiAgICBJUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHRIb3Jpem9udGFsID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgICAgICBbIF1bIF1bIF1bIF1cclxuICAgICAgICAgICAgICBbKl1bKl1bKl1bKl1cclxuICAgICAgICAgICAgICBbIF1bIF1bIF1bIF1cclxuICAgICAgICAgICAgICBbIF1bIF1bIF1bIF1cclxuICAgICAgICAgICAgICAqL1xyXG4gICAgICAgIHJldHVybiAhYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDRdLmVtcHR5O1xyXG4gICAgfTtcclxuICAgIElQaWVjZS5wcm90b3R5cGUuY2hlY2tMZWZ0SG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgIFsgXVsgXVsgXVsgXVxyXG4gICAgICBbKl1bKl1bKl1bKl1cclxuICAgICAgWyBdWyBdWyBdWyBdXHJcbiAgICAgIFsgXVsgXVsgXVsgXVxyXG4gICAgICAqL1xyXG4gICAgICAgIGlmICh0aGlzLmNvbCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sIC0gMV0uZW1wdHk7XHJcbiAgICB9O1xyXG4gICAgSVBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93SG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcclxuICAgICAgICAvKlxyXG5bIF1bIF1bIF1bIF1cclxuWypdWypdWypdWypdXHJcblsgXVsgXVsgXVsgXVxyXG5bIF1bIF1bIF1bIF1cclxuKi9cclxuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnJvdyArIDIgKyBtb2RpZmllciA9PT0gMjApIHtcclxuICAgICAgICAgICAgLy9kb2Vzbid0IGV4aXN0IHJldHVyblxyXG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmNvbDsgaSA8IHRoaXMuY29sICsgNDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVtpXS5lbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBibG9ja2VkO1xyXG4gICAgfTtcclxuICAgIElQaWVjZS5wcm90b3R5cGUuY2hlY2tCZWxvd1ZlcnRpY2FsID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xyXG4gICAgICAgIC8qXHJcblsgXVsqXVsgXVsgXVxyXG5bIF1bKl1bIF1bIF1cclxuWyBdWypdWyBdWyBdXHJcblsgXVsqXVsgXVsgXVxyXG4qL1xyXG4gICAgICAgIGlmICh0aGlzLnJvdyArIDMgPT09IDIwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gIWJvYXJkbWFwW3RoaXMucm93ICsgMyArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdLmVtcHR5O1xyXG4gICAgfTtcclxuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhd0ZsaXBwZWQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgIFsgXVsqXVsgXVsgXVxyXG4gICAgICAgIFsgXVsqXVsgXVsgXVxyXG4gICAgICAgIFsgXVsqXVsgXVsgXVxyXG4gICAgICAgIFsgXVsqXVsgXVsgXVxyXG4gICAgKi9cclxuICAgICAgICBpZiAodGhpcy5yb3cgPT09IDApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd1ZlcnRpY2FsKGJvYXJkbWFwLCAxKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy9nYW1lIGlzIGRvbmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdWZXJ0aWNhbChib2FyZG1hcCwgbGVmdCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHsgLy9ub3QgMFxyXG4gICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxNykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQmVsb3dWZXJ0aWNhbChib2FyZG1hcCwgMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdWZXJ0aWNhbChib2FyZG1hcCwgbGVmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhd05vdEZsaXBwZWQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAgIFsgXVsgXVsgXVsgXVxyXG4gICAgICAgICAgIFsqXVsqXVsqXVsqXVxyXG4gICAgICAgICAgIFsgXVsgXVsgXVsgXVxyXG4gICAgICAgICAgIFsgXVsgXVsgXVsgXVxyXG4gICAgICAgKi9cclxuICAgICAgICBpZiAodGhpcy5yb3cgPT09IDApIHsgLy8gUmVhbGx5IHNob3VsZG4ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHRoaXMgY2FzZSwgSSB0aGluayBpdCBzaG91bGQgc3BhbiB2ZXJ0aWNhbCBldmVyeXRpbWUuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3dIb3Jpem9udGFsKGJvYXJkbWFwLCAtMSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0hvcml6b250YWwoYm9hcmRtYXAsIGxlZnQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucm93IDwgMjEpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQmVsb3dIb3Jpem9udGFsKGJvYXJkbWFwLCAtMSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3SG9yaXpvbnRhbChib2FyZG1hcCwgbGVmdCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBJUGllY2U7XHJcbn0oKSk7XHJcbmV4cG9ydHMuSVBpZWNlID0gSVBpZWNlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgSVBpZWNlXzEgPSByZXF1aXJlKFwiLi4vUGxheWVycy9JUGllY2VcIik7XHJcbnZhciBPUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QbGF5ZXJzL09QaWVjZVwiKTtcclxudmFyIFhQaWVjZV8xID0gcmVxdWlyZShcIi4uL1BsYXllcnMvWFBpZWNlXCIpO1xyXG52YXIgVFBpZWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVFBpZWNlKGJvYXJkbWFwKSB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcclxuICAgICAgICAvL3RoaXMua2luZCA9IGtpbmQ7XHJcbiAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XHJcbiAgICB9XHJcbiAgICBUUGllY2UucHJvdG90eXBlLnByaW50Qm9hcmQgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwOyArK2kpIHtcclxuICAgICAgICAgICAgdmFyIHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTA7ICsraikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW2ldW2pdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgXCJ4XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyBcIm9cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdHJpbmcpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiX1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgVFBpZWNlLnByb3RvdHlwZS5pbml0UCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xyXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3BlaWNlTGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVUeXBlKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIucm93ID0gLTE7XHJcbiAgICAgICAgdGhpcy5maXJzdFRpbWUgPSB0cnVlO1xyXG4gICAgICAgIC8vdGhpcy5wbGF5ZXIuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMCk7XHJcbiAgICAgICAgdGhpcy5jaGVja0JvYXJkRm9yUm93cyhib2FyZG1hcCk7XHJcbiAgICB9O1xyXG4gICAgVFBpZWNlLnByb3RvdHlwZS5sZWZ0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICB0aGlzLnBsYXllci5sZWZ0UHJlc3MoYm9hcmRtYXAsIGxlZnQpO1xyXG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XHJcbiAgICB9O1xyXG4gICAgVFBpZWNlLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIucmlnaHRQcmVzcyhib2FyZG1hcCwgbGVmdCk7XHJcbiAgICAgICAgdGhpcy5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcclxuICAgIH07XHJcbiAgICBUUGllY2UucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICAvLyAgdGhpcy5wcmludEJvYXJkKGJvYXJkbWFwKTtcclxuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiQXR0ZW1wdGluZyB0cmFuc2Zvcm1hdGlvblwiKTtcclxuICAgICAgICB0aGlzLnBsYXllci51cFByZXNzKGJvYXJkbWFwLCBsZWZ0KTtcclxuICAgICAgICB0aGlzLmRyYXcoYm9hcmRtYXAsIGxlZnQpO1xyXG4gICAgICAgIC8vIHRoaXMucHJpbnRCb2FyZChib2FyZG1hcCk7XHJcbiAgICB9O1xyXG4gICAgVFBpZWNlLnByb3RvdHlwZS5kb3duUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcclxuICAgICAgICB0aGlzLnBsYXllci5kb3duUHJlc3MoYm9hcmRtYXApO1xyXG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XHJcbiAgICB9O1xyXG4gICAgVFBpZWNlLnByb3RvdHlwZS5nZW5lcmF0ZVR5cGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHR5cGUgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMykgKyAxKTtcclxuICAgICAgICAvLyAgc3dpdGNoKHR5cGUpe1xyXG4gICAgICAgIC8vICAgICAgY2FzZSAwOlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiMFwiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgY2FzZSAxOlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiVFwiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgY2FzZSAyOlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiSVwiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgY2FzZSAzOlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiU1wiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgY2FzZSA0OlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiWlwiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgY2FzZSA1OlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiSlwiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgY2FzZSA2OlxyXG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiTFwiO1xyXG4gICAgICAgIC8vICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICB9XHJcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwidHlwZSBoZXJlID0gXCIrdHlwZSk7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHRoaXMua2luZCA9IFwiSVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHRoaXMua2luZCA9IFwiMFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIHRoaXMua2luZCA9IFwiWFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHRoaXMua2luZCA9IFwiSVwiO1xyXG4gICAgICAgIC8vIHRoaXMua2luZCA9IFwiWFwiO1xyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkFib3V0IHRvIGRvIG5leHQga2luZDpcIit0aGlzLmtpbmQpO1xyXG4gICAgICAgIGlmICh0aGlzLmtpbmQgPT09IFwiSVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IElQaWVjZV8xLklQaWVjZSgpOyAvL25ldyBPUGllY2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5raW5kID09PSBcIjBcIikge1xyXG4gICAgICAgICAgICAvLyAgY29uc29sZS5sb2coXCJDcmVhdGluZyBPcGllY2VcIik7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IE9QaWVjZV8xLk9QaWVjZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmtpbmQgPT09IFwiWFwiKSB7XHJcbiAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIE9waWVjZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgWFBpZWNlXzEuWFBpZWNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFRQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xyXG4gICAgICAgIC8vICAgY29uc29sZS5sb2coXCJjYWxsaW5nIGRyYXdcIik7XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmRvbmUpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgSVBpZWNlXzEuSVBpZWNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXR1cm52YWwgPSB0aGlzLnBsYXllci5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZG9uZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBJUGllY2VfMS5JUGllY2UoKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXR1cm52YWw7XHJcbiAgICB9O1xyXG4gICAgLy8gZHJhd0lGbGlwcGVkKGJvYXJkbWFwOlBpZWNlW11bXSxsZWZ0Om51bWJlcil7Ly92ZXJ0aWNsZVxyXG4gICAgLy8gICAgICB2YXIgdmFsdG9yZXR1cm4gPSB0aGlzLnBsYXllci5kcmF3RmxpcHBlZChib2FyZG1hcCxsZWZ0KTtcclxuICAgIC8vICAgICAgaWYgKHRoaXMucGxheWVyLmRvbmUpe1xyXG4gICAgLy8gICAgICAgICB0aGlzLmluaXRQKGJvYXJkbWFwKTtcclxuICAgIC8vICAgICAgfVxyXG4gICAgLy8gICAgICByZXR1cm4gdmFsdG9yZXR1cm47XHJcbiAgICAvLyB9XHJcbiAgICAvLyBkcmF3SU5vdEZsaXBwZWQoYm9hcmRtYXA6UGllY2VbXVtdLGxlZnQ6bnVtYmVyKXsgLy9ob3Jpem9udGFsXHJcbiAgICAvLyAgICAgdmFyIHZhbHRvcmV0dXJuID0gdGhpcy5wbGF5ZXIuZHJhd05vdEZsaXBwZWQoYm9hcmRtYXAsbGVmdCk7XHJcbiAgICAvLyAgICAgaWYodGhpcy5wbGF5ZXIuZG9uZSl7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuaW5pdFAoYm9hcmRtYXApO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICByZXR1cm4gdmFsdG9yZXR1cm47XHJcbiAgICAvLyB9XHJcbiAgICBUUGllY2UucHJvdG90eXBlLmRlY3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuZGVjcigpO1xyXG4gICAgfTtcclxuICAgIFRQaWVjZS5wcm90b3R5cGUuY2hlY2tCb2FyZEZvclJvd3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbGxpbmcgZHJhd1wiKTtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgdmFyIHdpZHRoID0gMTA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IGhlaWdodCAtIDE7IGkgPiAtMTsgaS0tKSB7XHJcbiAgICAgICAgICAgIHZhciBOZWVkVG9EZWxldGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gd2lkdGggLSAxOyBqID4gLTE7IGotLSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW2ldW2pdLmVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTmVlZFRvRGVsZXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKE5lZWRUb0RlbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IGk7IGsgPiAxOyAtLWspIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHdpZHRoOyArK2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBba11bbF0uZW1wdHkgPSBib2FyZG1hcFtrIC0gMV1bbF0uZW1wdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW2tdW2xdLmNvbG9yID0gYm9hcmRtYXBbayAtIDFdW2xdLmNvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgd2lkdGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwWzBdW2pdLmVtcHR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFswXVtqXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjsgLy8gfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0JvYXJkRm9yUm93cyhib2FyZG1hcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFRQaWVjZTtcclxufSgpKTtcclxuZXhwb3J0cy5UUGllY2UgPSBUUGllY2U7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBQaWVjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFBpZWNlKGNvbG9yLCBsZWZ0LCB0b3ApIHtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcclxuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcclxuICAgIH1cclxuICAgIFBpZWNlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGN0eCwgb2Zmc2V0KSB7XHJcbiAgICAgICAgLy8gdGhpcy5sZWZ0ID0gb2Zmc2V0O1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLmxlZnQgKyAyICsgb2Zmc2V0LCB0aGlzLnRvcCArIDIgKyA2MCwgMzgsIDM4KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUGllY2U7XHJcbn0oKSk7XHJcbmV4cG9ydHMuUGllY2UgPSBQaWVjZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFBpZWNlXzEgPSByZXF1aXJlKFwiLi4vUGllY2UvUGllY2VcIik7XHJcbnZhciBUUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QaWVjZS9UUGllY2VcIik7XHJcbnZhciBCb2FyZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJvYXJkKCkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15Q2FudmFzJyk7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDM4LCAzNywgMzcpJzsgLy9ibGFja1xyXG4gICAgICAgIHRoaXMuYm9hcmRtYXAgPSBbXTtcclxuICAgICAgICB0aGlzLnplcm9Cb2FyZCgpO1xyXG4gICAgICAgIHRoaXMuaW5pdEJvYXJkKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lSW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy50ID0gbmV3IFRQaWVjZV8xLlRQaWVjZSh0aGlzLmJvYXJkbWFwKTtcclxuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcclxuICAgICAgICB0aGlzLmxlZnQgPSBjZW50ZXIgLSAyMDA7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIG1vdXNlUG9zID0gdGhpcy5nZXRUb3VjaFBvcyh0aGlzLmNhbnZhcywgZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVG91Y2hpbmdcIik7XHJcbiAgICAgICAgICAgIGlmIChtb3VzZVBvcy54ID4gY2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnQucmlnaHRQcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG1vdXNlUG9zLnggPCBjZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudC5sZWZ0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuICAgIH1cclxuICAgIEJvYXJkLnByb3RvdHlwZS5nZXRUb3VjaFBvcyA9IGZ1bmN0aW9uIChjYW52YXNEb20sIHRvdWNoRXZlbnQpIHtcclxuICAgICAgICB2YXIgcmVjdCA9IGNhbnZhc0RvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiB0b3VjaEV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCAtIHJlY3QubGVmdCxcclxuICAgICAgICAgICAgeTogdG91Y2hFdmVudC50b3VjaGVzWzBdLmNsaWVudFkgLSByZWN0LnRvcFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgQm9hcmQucHJvdG90eXBlLmdldFBpZWNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnQ7XHJcbiAgICB9O1xyXG4gICAgQm9hcmQucHJvdG90eXBlLmdldENlbnRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMik7XHJcbiAgICB9O1xyXG4gICAgQm9hcmQucHJvdG90eXBlLmtleVByZXNzID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09ICczOCcpIHtcclxuICAgICAgICAgICAgLy8gdXAgYXJyb3dcclxuICAgICAgICAgICAgdGhpcy50LnVwUHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICc0MCcpIHtcclxuICAgICAgICAgICAgdGhpcy50LmRvd25QcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gJzM3Jykge1xyXG4gICAgICAgICAgICAvLyBsZWZ0IGFycm93XHJcbiAgICAgICAgICAgIHRoaXMudC5sZWZ0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICczOScpIHtcclxuICAgICAgICAgICAgLy8gcmlnaHQgYXJyb3dcclxuICAgICAgICAgICAgdGhpcy50LnJpZ2h0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQm9hcmQucHJvdG90eXBlLmRlY3JUaW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVJblByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgIC8vICAgY29uc29sZS5sb2coXCJHYW1lIGluIHBvcmdyZXNzXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnQuZGVjcigpO1xyXG4gICAgICAgICAgICB2YXIgc3VjY2VzcyA9IHRoaXMudC5kcmF3KHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XHJcbiAgICAgICAgICAgIGlmICghc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTm8gaW4gcHJvZ3Jlc3NcIik7XHJcbiAgICB9O1xyXG4gICAgQm9hcmQucHJvdG90eXBlLnplcm9Cb2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgfTtcclxuICAgIEJvYXJkLnByb3RvdHlwZS5pbml0Qm9hcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgdmFyIGxlZnQgPSBjZW50ZXIgLSAyMDA7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcclxuICAgICAgICB2YXIgdG9wID0gNjA7XHJcbiAgICAgICAgdmFyIGxvY2FsY29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjA7IGkrKykge1xyXG4gICAgICAgICAgICAvL2kgPSByb3dzXHJcbiAgICAgICAgICAgIHZhciBtaWRkbGVMaXN0ID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTA7ICsraikge1xyXG4gICAgICAgICAgICAgICAgLy9jb2x1bW5zXHJcbiAgICAgICAgICAgICAgICB2YXIgcHVzaG1lUGVhY2UgPSBuZXcgUGllY2VfMS5QaWVjZShsb2NhbGNvbG9yLCAoaiAqIDQwKSwgKGkgKiA0MCkpO1xyXG4gICAgICAgICAgICAgICAgcHVzaG1lUGVhY2UuZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWlkZGxlTGlzdC5wdXNoKHB1c2htZVBlYWNlKTtcclxuICAgICAgICAgICAgICAgIC8vdGhpcy5ib2FyZG1hcFtpLTFdW2otMV0gPSBuZXcgU3BlYWNlKGxvY2FsY29sb3IsbGVmdCsoaio0MCksdG9wKyhpKjQwKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5ib2FyZG1hcC5wdXNoKG1pZGRsZUxpc3QpO1xyXG4gICAgICAgICAgICBtaWRkbGVMaXN0ID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEJvYXJkLnByb3RvdHlwZS5kcmF3Qm9hcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy56ZXJvQm9hcmQoKTtcclxuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgdmFyIGxlZnQgPSBjZW50ZXIgLSAyMDA7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICdyZ2IoMjU1LCAyNTUsIDI1NSknO1xyXG4gICAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlUmVjdChsZWZ0LCA2MCwgNDAwLCA4MDApO1xyXG4gICAgICAgIHRoaXMuZHJhd0xpbmVzKGxlZnQpO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmJvYXJkbWFwOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgdG9wZW50cnkgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgdG9wZW50cnlfMSA9IHRvcGVudHJ5OyBfYiA8IHRvcGVudHJ5XzEubGVuZ3RoOyBfYisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSB0b3BlbnRyeV8xW19iXTtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmRyYXcodGhpcy5jdHgsIGxlZnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEJvYXJkLnByb3RvdHlwZS5kcmF3TGluZXMgPSBmdW5jdGlvbiAobGVmdCkge1xyXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ3JnYig5MSwgODksIDg5KSc7XHJcbiAgICAgICAgdmFyIGxpbmVCb3R0b20gPSA2MDtcclxuICAgICAgICB2YXIgbGluZVRvcCA9IDYwICsgODAwO1xyXG4gICAgICAgIC8vRHJhdyBob3Jpem9udGFsIGxpbmVzXHJcbiAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gNDA7IG9mZnNldCA8IDQwMDsgb2Zmc2V0ID0gb2Zmc2V0ICsgNDApIHtcclxuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKGxlZnQgKyBvZmZzZXQsIGxpbmVCb3R0b20pO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8obGVmdCArIG9mZnNldCwgbGluZVRvcCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSA2MDsgb2Zmc2V0IDwgODAwICsgNjA7IG9mZnNldCA9IG9mZnNldCArIDQwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4Lm1vdmVUbyhsZWZ0LCBvZmZzZXQpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8obGVmdCArIDQwMCwgb2Zmc2V0KTtcclxuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBCb2FyZDtcclxufSgpKTtcclxuZXhwb3J0cy5Cb2FyZCA9IEJvYXJkO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQm9hcmRfMSA9IHJlcXVpcmUoXCIuL0JvYXJkL0JvYXJkXCIpO1xyXG52YXIgYm9hcmQgPSBuZXcgQm9hcmRfMS5Cb2FyZCgpO1xyXG5mdW5jdGlvbiBkcmF3Qm9hcmQoKSB7XHJcbiAgICAvL2NvbnNvbGUubG9nKFwiQ2FsbGluZyBkcmF3IGJvYXJkXCIpXHJcbiAgICBib2FyZC5kcmF3Qm9hcmQoKTtcclxufVxyXG47XHJcbmZ1bmN0aW9uIGRlc2NUaW1lKCkge1xyXG4gICAgYm9hcmQuZGVjclRpbWUoKTtcclxufVxyXG4vLyBib2FyZC5kcmF3Qm9hcmQoKTtcclxudmFyIHRpbWVyRm9yTG9hZGluZ1Jlc3VsdCA9IHdpbmRvdy5zZXRJbnRlcnZhbChkcmF3Qm9hcmQsIDIwKTtcclxudmFyIHRpbWVyRm9yTG9hZGluZ1Jlc3VsdCA9IHdpbmRvdy5zZXRJbnRlcnZhbChkZXNjVGltZSwgNDAwKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjaGVjaywgZmFsc2UpO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImdhbWVwYWRjb25uZWN0ZWRcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiR2FtZXBhZCBjb25uZWN0ZWQgYXQgaW5kZXggJWQ6ICVzLiAlZCBidXR0b25zLCAlZCBheGVzLlwiLCBlLmdhbWVwYWQuaW5kZXgsIGUuZ2FtZXBhZC5pZCwgZS5nYW1lcGFkLmJ1dHRvbnMubGVuZ3RoLCBlLmdhbWVwYWQuYXhlcy5sZW5ndGgpO1xyXG59KTtcclxuZnVuY3Rpb24gY2hlY2soZSkge1xyXG4gICAgYm9hcmQua2V5UHJlc3MoZSk7XHJcbn1cclxud2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBib2FyZC5kcmF3Qm9hcmQoKTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==