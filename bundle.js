!function(t){var o={};function i(r){if(o[r])return o[r].exports;var e=o[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=o,i.d=function(t,o,r){i.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,o){if(1&o&&(t=i(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var e in t)i.d(r,e,function(o){return t[o]}.bind(null,e));return r},i.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(o,"a",o),o},i.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},i.p="",i(i.s=5)}([function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.flipped=Math.random()<.5,this.setcolor(),this.done=!1,this.col=Math.floor(3*Math.random()+2)}return t.prototype.draw=function(t,o){return 19==this.row?(this.done=!0,!0):-1!==this.row?0===this.row?(this.drawSelf(t),!0):1===this.row?(this.deleteFirstSelf(t),this.drawSelf(t),!0):t[this.row+1][this.col].empty&&t[this.row+1][+this.col].empty?(this.deletePrevSelf(t),this.drawSelf(t),!0):(this.done=!0,!0):void this.drawFirstSelf(t)},t.prototype.drawFlipped=function(t,o){console.log("Don't need this method :")},t.prototype.drawNotFlipped=function(t,o){console.log("Also don't need this method ;")},t.prototype.decr=function(){this.row=this.row+1},t.prototype.deleteSelf=function(t){t[this.row][this.col].color=this.originalColor,t[this.row+1][this.col].color=this.originalColor,t[this.row][this.col+1].color=this.originalColor,t[this.row+1][this.col+1].color=this.originalColor,t[this.row][this.col].empty=!0,t[this.row+1][this.col].empty=!0,t[this.row][this.col+1].empty=!0,t[this.row+1][this.col+1].empty=!0},t.prototype.deletePrevSelf=function(t){t[this.row-2][this.col].color=this.originalColor,t[this.row-1][this.col].color=this.originalColor,t[this.row-2][this.col+1].color=this.originalColor,t[this.row-1][this.col+1].color=this.originalColor,t[this.row-2][this.col].empty=!0,t[this.row-1][this.col].empty=!0,t[this.row-2][this.col+1].empty=!0,t[this.row-1][this.col+1].empty=!0},t.prototype.deleteFirstSelf=function(t){t[this.row][this.col].color=this.originalColor,t[this.row][this.col].empty=!0,t[this.row][this.col+1].color=this.originalColor,t[this.row][this.col+1].empty=!0,t[this.row-1][this.col].color=this.originalColor,t[this.row-1][this.col].empty=!0,t[this.row-1][this.col+1].color=this.originalColor,t[this.row-1][this.col+1].empty=!0},t.prototype.drawSelf=function(t){t[this.row][this.col].color=this.color,t[this.row+1][this.col].color=this.color,t[this.row][this.col+1].color=this.color,t[this.row+1][this.col+1].color=this.color,t[this.row][this.col].empty=!1,t[this.row+1][this.col].empty=!1,t[this.row][this.col+1].empty=!1,t[this.row+1][this.col+1].empty=!1},t.prototype.drawFirstSelf=function(t){t[this.row][this.col].color=this.color,t[this.row][this.col].empty=!1,t[this.row][this.col+1].color=this.color,t[this.row][this.col+1].empty=!1},t.prototype.downPress=function(t){this.row<18&&(t[this.row+2][this.col].empty&&(t[this.row+2][this.col+1].empty&&(this.deleteSelf(t),++this.row),this.deleteSelf(t)),this.deleteSelf(t)),this.deleteSelf(t)},t.prototype.leftPress=function(t,o){0!==this.col?(this.col>0&&t[this.row][this.col-1].empty&&this.row<19&&(t[this.row+1][this.col-1].empty?(this.deleteSelf(t),--this.col):this.deleteSelf(t)),this.deleteSelf(t)):this.deleteSelf(t)},t.prototype.rightPress=function(t,o){9!==this.col&&(this.col<9&&t[this.row][this.col+2].empty&&(this.row<19?t[this.row+1][this.col+2].empty&&(this.deleteSelf(t),++this.col):this.deleteSelf(t)),this.deleteSelf(t))},t.prototype.upPress=function(t,o){this.deleteSelf(t)},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t}();o.OPiece=r},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.flipped=Math.random()<.5,this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+0)}return t.prototype.decr=function(){this.row=this.row+1},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t.prototype.leftPress=function(t,o){if(this.flipped){for(var i=0;i<4;i++)t[this.row+i][this.col].color=this.originalColor,t[this.row+i][this.col].empty=!0;var r=!0;if(this.col>0)for(i=0;i<4;++i)0==t[this.row+i][this.col-1].empty&&(r=!1);this.col>0&&r&&--this.col}else{for(i=0;i<4;i++)t[this.row][this.col+i].color=this.originalColor,t[this.row][this.col+i].empty=!0;this.col>0&&t[this.row][this.col-1].empty&&--this.col}},t.prototype.rightPress=function(t,o){if(this.flipped){if(this.col<9){for(var i=0;i<4;i++)t[this.row+i][this.col].color=this.originalColor,t[this.row+i][this.col].empty=!0;var r=!0;if(this.col<9){for(i=0;i<4;++i)0==t[this.row+i][this.col+1].empty&&(r=!1);this.col<9&&r&&++this.col}}}else if(this.col<6){for(i=0;i<4;i++)t[this.row][this.col+i].color=this.originalColor,t[this.row][this.col+i].empty=!0;this.col<6&&t[this.row][this.col+4].empty&&++this.col}},t.prototype.upPress=function(t,o){if(this.flipped){if(this.col>0&&this.col<8&&this.row<17&&t[this.row][this.col-1].empty&&t[this.row][this.col+1].empty&&t[this.row][this.col+2].empty){for(var i=0;i<4;++i)t[this.row+i][this.col].color=this.originalColor,t[this.row+i][this.col].empty=!0;this.flipped=!this.flipped}}else{var r=!0;for(i=0;i<4;++i)t[this.row][this.col+i].color=this.originalColor,t[this.row][this.col+i].empty=!0;this.row>15&&(r=!1);for(i=0;i<4;++i)t[this.row+i][this.col].empty||(r=!1);if(r){this.flipped=!this.flipped;for(i=0;i<4;++i)t[this.row][this.col+i].color=this.originalColor,t[this.row][this.col+i].empty=!0;for(i=0;i<4;++i)t[this.row+i][this.col].color=this.originalColor,t[this.row+i][this.col].empty=!0}}},t.prototype.downPress=function(t){console.log("Not Implemented")},t.prototype.draw=function(t,o){return this.flipped?this.drawFlipped(t,o):this.drawNotFlipped(t,o)},t.prototype.drawVertical=function(){},t.prototype.drawFlipped=function(t,o){if(0===this.row)for(var i=0;i<4;i++)if(!t[this.row+i][this.col].empty){for(var r=0;r<i;++r)t[this.row+r][this.col].color=this.color,t[this.row+r][this.col].empty=!1;return!1}if(t[this.row]&&t[this.row+1]&&t[this.row+2]&&t[this.row+3]){t[this.row-1]&&(t[this.row-1][this.col].color=this.originalColor,t[this.row-1][this.col].empty=!0);for(i=0;i<4;i++)t[this.row+i][this.col].empty&&(t[this.row+i][this.col].color=this.color,t[this.row+i][this.col].empty=!1);return t[this.row+4]&&t[this.row+4][this.col].empty&&!(this.row<15&&!t[this.row+4][this.col].empty)||(this.done=!0,!0)}if(!t[this.row+3])return this.row=0,this.col=Math.floor(10*Math.random()+0),this.done=!0,!0},t.prototype.drawNotFlipped=function(t,o){if(0===this.row){t[this.row][this.col].empty;for(var i=0;i<4;i++)if(!t[this.row][this.col+i].empty){for(var r=0;r<i;++r)t[this.row][this.col+r].color=this.color,t[this.row][this.col+r].empty=!1;return!1}}if(t[this.row]&&t[this.row][this.col]&&t[this.row][this.col+1]&&t[this.row][this.col+2]&&t[this.row][this.col+3]){if(t[this.row-1])for(i=0;i<4;i++)t[this.row-1][this.col+i].color=this.originalColor,t[this.row-1][this.col+i].empty=!0;for(i=0;i<4;i++)t[this.row][this.col+i].color=this.color,t[this.row][this.col+i].empty=!1;for(i=0;i<4;++i)if(this.row<19&&!t[this.row+1][this.col+i].empty)return this.row=0,this.col=0,this.done=!0,!0;return!0}if(!t[this.row+1])return this.done=!0,!0},t}();o.IPiece=r},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=i(1),e=i(0),s=function(){function t(t){this.originalColor="rgb(66, 66, 66)",this.initP(t)}return t.prototype.printBoard=function(t){for(var o=0;o<20;++o){for(var i="",r=0;r<10;++r)t[o][r].empty?i+="x":i+="o";console.log(i)}},t.prototype.initP=function(t){this.started=!1,this.speiceList=[],this.generateType(),this.player.row=-1,this.firstTime=!0,this.checkBoardForRows(t)},t.prototype.leftPress=function(t,o){this.player.leftPress(t,o),this.draw(t,o)},t.prototype.rightPress=function(t,o){this.player.rightPress(t,o),this.draw(t,o)},t.prototype.upPress=function(t,o){this.player.upPress(t,o),this.draw(t,o)},t.prototype.downPress=function(t,o){this.player.downPress(t),this.draw(t,o)},t.prototype.generateType=function(){switch(Math.floor(2*Math.random()+1)){case 1:this.kind="I";break;case 2:this.kind="0"}"I"===this.kind?this.player=new r.IPiece:"0"===this.kind&&(this.player=new e.OPiece)},t.prototype.draw=function(t,o){this.player.done&&(this.player=new r.IPiece);var i=this.player.draw(t,o);return this.player.done&&(this.player=new r.IPiece,this.initP(t)),i},t.prototype.decr=function(){this.player.decr()},t.prototype.checkBoardForRows=function(t){for(var o=19;o>-1;o--){for(var i=!0,r=9;r>-1;r--)t[o][r].empty&&(i=!1);if(i){for(var e=o;e>1;--e)for(var s=0;s<10;++s)t[e][s].empty=t[e-1][s].empty,t[e][s].color=t[e-1][s].color;for(r=0;r<10;r++)t[0][r].empty=!0,t[0][r].color=this.originalColor;this.checkBoardForRows(t)}}},t}();o.TPiece=s},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(t,o,i){this.color=t,this.left=o,this.top=i}return t.prototype.draw=function(t,o){t.fillStyle=this.color,t.fillRect(this.left+2+o,this.top+2+60,38,38)},t}();o.Piece=r},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=i(3),e=i(2),s=function(){function t(){this.canvas=document.querySelector(".myCanvas"),this.backgroundColor="rgb(38, 37, 37)",this.boardmap=[],this.zeroBoard(),this.initBoard(),this.gameInProgress=!0,this.t=new e.TPiece(this.boardmap);var t=this.getCenter();this.left=t-200,this.canvas.addEventListener("touchstart",function(o){var i=this.getTouchPos(this.canvas,o);console.log("Touching"),i.x>t?this.t.rightPress(this.boardmap,this.left):i.x<t&&this.t.leftPress(this.boardmap,this.left)},!1)}return t.prototype.getTouchPos=function(t,o){var i=t.getBoundingClientRect();return{x:o.touches[0].clientX-i.left,y:o.touches[0].clientY-i.top}},t.prototype.getPiece=function(){return this.t},t.prototype.getCenter=function(){return Math.floor(this.width/2)},t.prototype.keyPress=function(t){"38"==t.keyCode?this.t.upPress(this.boardmap,this.left):"40"==t.keyCode?this.t.downPress(this.boardmap,this.left):"37"==t.keyCode?this.t.leftPress(this.boardmap,this.left):"39"==t.keyCode&&this.t.rightPress(this.boardmap,this.left)},t.prototype.decrTime=function(){this.gameInProgress&&(this.t.decr(),this.t.draw(this.boardmap,this.left)||(this.gameInProgress=!1))},t.prototype.zeroBoard=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.width=window.innerWidth,this.height=window.innerHeight,this.ctx=this.canvas.getContext("2d")},t.prototype.initBoard=function(){var t=this.getCenter()-200;this.left=t;for(var o=0;o<20;o++){for(var i=[],e=0;e<10;++e){var s=new r.Piece("rgb(66, 66, 66)",40*e,40*o);s.empty=!0,i.push(s)}this.boardmap.push(i),i=[]}},t.prototype.drawBoard=function(){this.zeroBoard(),this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height);var t=this.getCenter()-200;this.left=t,this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.lineWidth=1,this.ctx.strokeRect(t,60,400,800),this.drawLines(t);for(var o=0,i=this.boardmap;o<i.length;o++)for(var r=0,e=i[o];r<e.length;r++){e[r].draw(this.ctx,t)}},t.prototype.drawLines=function(t){this.ctx.strokeStyle="rgb(91, 89, 89)";for(var o=40;o<400;o+=40)this.ctx.moveTo(t+o,60),this.ctx.lineTo(t+o,860),this.ctx.stroke();for(o=60;o<860;o+=40)this.ctx.moveTo(t,o),this.ctx.lineTo(t+400,o),this.ctx.stroke()},t}();o.Board=s},function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=new(i(4).Board);window.setInterval(function(){r.drawBoard()},20),window.setInterval(function(){r.decrTime()},400);window.addEventListener("keydown",function(t){r.keyPress(t)},!1),window.addEventListener("gamepadconnected",function(t){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",t.gamepad.index,t.gamepad.id,t.gamepad.buttons.length,t.gamepad.axes.length)}),window.onresize=function(t){r.drawBoard()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BsYXllcnMvT1BpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QbGF5ZXJzL0lQaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGllY2UvVFBpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QaWVjZS9QaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvQm9hcmQvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiT1BpZWNlIiwidGhpcyIsIm9yaWdpbmFsQ29sb3IiLCJmbGlwcGVkIiwiTWF0aCIsInJhbmRvbSIsInNldGNvbG9yIiwiZG9uZSIsImNvbCIsImZsb29yIiwiZHJhdyIsImJvYXJkbWFwIiwibGVmdCIsInJvdyIsImRyYXdTZWxmIiwiZGVsZXRlRmlyc3RTZWxmIiwiZW1wdHkiLCJkZWxldGVQcmV2U2VsZiIsImRyYXdGaXJzdFNlbGYiLCJkcmF3RmxpcHBlZCIsImNvbnNvbGUiLCJsb2ciLCJkcmF3Tm90RmxpcHBlZCIsImRlY3IiLCJkZWxldGVTZWxmIiwiY29sb3IiLCJkb3duUHJlc3MiLCJsZWZ0UHJlc3MiLCJyaWdodFByZXNzIiwidXBQcmVzcyIsIklQaWVjZSIsIm5vYWJzdHJ1Y3Rpb24iLCJjYW5DaGFuZ2UiLCJkcmF3VmVydGljYWwiLCJqIiwiSVBpZWNlXzEiLCJPUGllY2VfMSIsIlRQaWVjZSIsImluaXRQIiwicHJpbnRCb2FyZCIsInN0cmluZyIsInN0YXJ0ZWQiLCJzcGVpY2VMaXN0IiwiZ2VuZXJhdGVUeXBlIiwicGxheWVyIiwiZmlyc3RUaW1lIiwiY2hlY2tCb2FyZEZvclJvd3MiLCJraW5kIiwicmV0dXJudmFsIiwiaGVpZ2h0IiwiTmVlZFRvRGVsZXRlIiwid2lkdGgiLCJrIiwiUGllY2UiLCJ0b3AiLCJjdHgiLCJvZmZzZXQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIlBpZWNlXzEiLCJUUGllY2VfMSIsIkJvYXJkIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYmFja2dyb3VuZENvbG9yIiwiemVyb0JvYXJkIiwiaW5pdEJvYXJkIiwiZ2FtZUluUHJvZ3Jlc3MiLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsIm1vdXNlUG9zIiwiZ2V0VG91Y2hQb3MiLCJ4IiwiY2FudmFzRG9tIiwidG91Y2hFdmVudCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3VjaGVzIiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwiZ2V0UGllY2UiLCJrZXlQcmVzcyIsImtleUNvZGUiLCJkZWNyVGltZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImdldENvbnRleHQiLCJtaWRkbGVMaXN0IiwicHVzaG1lUGVhY2UiLCJwdXNoIiwiZHJhd0JvYXJkIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2VSZWN0IiwiZHJhd0xpbmVzIiwiX2kiLCJfYSIsImxlbmd0aCIsIl9iIiwidG9wZW50cnlfMSIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImJvYXJkIiwic2V0SW50ZXJ2YWwiLCJnYW1lcGFkIiwiaW5k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c0QsSUFBQW1ELE9BQUE5RixFQUFBNEMsRUFKQSxLQUtBdkQsS0FBQXNELElBQUFvRCxTQUVBLElBQUFuRCxFQUFBLEdBQTZCQSxFQUFBLElBQW1CQSxHQUFBLEdBQ2hEdkQsS0FBQXNELElBQUFrRCxPQUFBN0YsRUFBQTRDLEdBQ0F2RCxLQUFBc0QsSUFBQW1ELE9BQUE5RixFQUFBLElBQUE0QyxHQUNBdkQsS0FBQXNELElBQUFvRCxVQUdBOUMsRUE3SEEsR0ErSEEvRixFQUFBK0Ysc0NDbElBbkYsT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q21CLE9BQUEsSUFDOUMsSUFDQTJILEVBQUEsSUFEQWhKLEVBQUEsR0FDQWlHLE9BVUEyQixPQUFBcUIsWUFUQSxXQUVBRCxFQUFBYixhQU9BLElBQ0FQLE9BQUFxQixZQUxBLFdBQ0FELEVBQUFyQixZQUlBLEtBQ0FDLE9BQUFqQixpQkFBQSxVQUlBLFNBQUFDLEdBQ0FvQyxFQUFBdkIsU0FBQWIsS0FMQSxHQUNBZ0IsT0FBQWpCLGlCQUFBLDRCQUFBQyxHQUNBcEQsUUFBQUMsSUFBQSwwREFBQW1ELEVBQUFzQyxRQUFBQyxNQUFBdkMsRUFBQXNDLFFBQUFFLEdBQUF4QyxFQUFBc0MsUUFBQUcsUUFBQVgsT0FBQTlCLEVBQUFzQyxRQUFBSSxLQUFBWixVQUtBZCxPQUFBMkIsU0FBQSxTQUFBQyxHQUNBUixFQUFBYiIsImZpbGUiOiIuL2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE9QaWVjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPUGllY2UoKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb2xvciA9IFwicmdiKDY2LCA2NiwgNjYpXCI7XG4gICAgICAgIHRoaXMuZmxpcHBlZCA9IE1hdGgucmFuZG9tKCkgPCAwLjU7XG4gICAgICAgIHRoaXMuc2V0Y29sb3IoKTtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDMpICsgMik7XG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIG9iamVjdDogY29sOlwiK3RoaXMuY29sKTtcbiAgICB9XG4gICAgT1BpZWNlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8vaGFuZGxlIGlmIHJvdyB6ZXJvIGFuZCBpZiBwZWljZSBpcyBhbHJlYWR5IHRoZXJlIHJldHVybiBmYWxzZSB5b3UgbG9zZVxuICAgICAgICBpZiAodGhpcy5yb3cgPT0gMTkpIHtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnJvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0ZpcnN0U2VsZihib2FyZG1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5yb3cgPT09IDApIHtcbiAgICAgICAgICAgIC8vdGhpcy5kcmF3Rmlyc3RTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIC8vIHRoaXMuZGVsZXRlRmlyc3RTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1NlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5yb3cgPT09IDEpIHtcbiAgICAgICAgICAgIC8vY29uc29sZSBjb25zb2xlLmxvZyhcIkRlbGV0aW5nIGZpcnN0IHNlbGZcIik7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUZpcnN0U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAvLyB0aGlzLmRlbGV0ZVByZXZTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIC8vdGhpcy5kZWxldGVQcmV2U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sXS5lbXB0eSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVsrdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVsZXRlUHJldlNlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgdGhpcy5kcmF3U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbGxpbmcgRHJhd1wiKVxuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5kcmF3RmxpcHBlZCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRvbid0IG5lZWQgdGhpcyBtZXRob2QgOlwiKTtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZHJhd05vdEZsaXBwZWQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBbHNvIGRvbid0IG5lZWQgdGhpcyBtZXRob2QgO1wiKTtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZGVjciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJUaGlzLnJvdyA9IFwiK3RoaXMucm93KTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYWxsaW5nIGRlc2NyXCIpO1xuICAgICAgICB0aGlzLnJvdyA9IHRoaXMucm93ICsgMTtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZGVsZXRlU2VsZiA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAxXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5lbXB0eSA9IHRydWU7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2xdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMV0uZW1wdHkgPSB0cnVlO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgMV0uZW1wdHkgPSB0cnVlO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5kZWxldGVQcmV2U2VsZiA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDJdW3RoaXMuY29sXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAxXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMl1bdGhpcy5jb2wgKyAxXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAxXVt0aGlzLmNvbCArIDFdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDJdW3RoaXMuY29sXS5lbXB0eSA9IHRydWU7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2xdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAyXVt0aGlzLmNvbCArIDFdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAxXVt0aGlzLmNvbCArIDFdLmVtcHR5ID0gdHJ1ZTtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZGVsZXRlRmlyc3RTZWxmID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkgPSB0cnVlO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAxXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMV0uZW1wdHkgPSB0cnVlO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDFdW3RoaXMuY29sXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAxXVt0aGlzLmNvbF0uZW1wdHkgPSB0cnVlO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDFdW3RoaXMuY29sICsgMV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2wgKyAxXS5lbXB0eSA9IHRydWU7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRyYXdTZWxmID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDFdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDFdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sXS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAxXS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgMV0uZW1wdHkgPSBmYWxzZTtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZHJhd0ZpcnN0U2VsZiA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAxXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDFdLmVtcHR5ID0gZmFsc2U7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRvd25QcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbGxpbmcgZG93biBwcmVzc0BcIilcbiAgICAgICAgaWYgKHRoaXMucm93IDwgMTgpIHtcbiAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnJvdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLmNvbCA9PT0gMCkge1xuICAgICAgICAgICAgLy9kbyBub3RoaW5nXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVNlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbCA+IDApIHtcbiAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgLSAxXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAtLXRoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGV0ZVNlbGYoYm9hcmRtYXApO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLnJpZ2h0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY29sID09PSA5KSB7XG4gICAgICAgICAgICAvL2RvIG5vdGhpbmdcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb2wgPCA5KSB7XG4gICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxOSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVNlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgKyt0aGlzLmNvbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGV0ZVNlbGYoYm9hcmRtYXApO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgLy8gdGhpcy5kcmF3KGJvYXJkbWFwLGxlZnQpO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5zZXRjb2xvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMSk7XG4gICAgICAgIHN3aXRjaCAoY29sb3IpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTEsIDk4LCAyMzcpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDE5LCAyMzcsIDExKVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDksIDcyLCA5MClcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ1LCAyNTUsIDY2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYig2NiwgMjU1LCAyNDgpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgNjYsIDE3NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCAxNTQsIDY2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gT1BpZWNlO1xufSgpKTtcbmV4cG9ydHMuT1BpZWNlID0gT1BpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgSVBpZWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIElQaWVjZSgpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcbiAgICAgICAgdGhpcy5mbGlwcGVkID0gTWF0aC5yYW5kb20oKSA8IDAuNTtcbiAgICAgICAgdGhpcy5zZXRjb2xvcigpO1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb2wgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAwKTtcbiAgICB9XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kZWNyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJvdyA9IHRoaXMucm93ICsgMTtcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuc2V0Y29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb2xvciA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDEpO1xuICAgICAgICBzd2l0Y2ggKGNvbG9yKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDExLCA5OCwgMjM3KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxOSwgMjM3LCAxMSlcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ5LCA3MiwgOTApXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0NSwgMjU1LCA2NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoNjYsIDI1NSwgMjQ4KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDY2LCAxNzYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgMTU0LCA2NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5sZWZ0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZmxpcHBlZCkgeyAvL0RlbGV0ZSBhbGwgZWxlbWVudHMgdG8gcmlnaHRcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5vYWJzdHJ1Y3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29sID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sIC0gMV0uZW1wdHkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vYWJzdHJ1Y3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA+IDAgJiYgbm9hYnN0cnVjdGlvbikge1xuICAgICAgICAgICAgICAgIC0tdGhpcy5jb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIGldLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIGldLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA+IDAgJiYgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAtLXRoaXMuY29sO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vICBpZih0aGlzLmNvbCA+MCApe1xuICAgICAgICAvLyAgICAgIC0tdGhpcy5jb2w7IFxuICAgICAgICAvLyAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJUaGlzLmZsaXBwZWQgPSBcIit0aGlzLmZsaXBwZWQpO1xuICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XG4gICAgICAgICAgICAvL0RlbGV0ZSBhbGwgZWxlbWVudHMgdG8gcmlnaHRcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbm9hYnN0cnVjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgOSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2wgKyAxXS5lbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vYWJzdHJ1Y3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA5ICYmIG5vYWJzdHJ1Y3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8rK3RoaXMuY29sO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgNikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIGldLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDYgJiYgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgNF0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLmNvbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUudXBQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XG4gICAgICAgICAgICAvLyB0aGlzLmZsaXBwZWQgPSAhdGhpcy5mbGlwcGVkO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNoYW5nZSFcIik7XG4gICAgICAgICAgICAvL0NoZWNrIGlmIHRoZXJlIGlzIHJvb20gb24gbGVmdFxuICAgICAgICAgICAgaWYgKHRoaXMuY29sID4gMCAmJiB0aGlzLmNvbCA8IDggJiYgdGhpcy5yb3cgPCAxNykge1xuICAgICAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkZpciBjaGVjayBwYXNzIVwiKVxuICAgICAgICAgICAgICAgIC8vSW4gcmFuZ2Ugd2hlcmUgaXQncyBwb3NzaWJsZSBub3cgY2hlY2sgZm9yIG9ic3RydWN0aW9uc1xuICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgLSAxXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMV0uZW1wdHkgJiYgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIldlIGNhbiB0cmFuc2Zvcm1cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhib2FyZG1hcFt0aGlzLnJvdytpXVt0aGlzLmNvbF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhpcy5mbGlwcGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGlwcGVkID0gIXRoaXMuZmxpcHBlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGlzLmZsaXBwZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGlzLmZsaXBwZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoaXMuZmxpcHBlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vQ2hlY2sgaWYgdGhlcmUgaXMgcm9vbSBvbiByaWdodFxuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvL2hvcml6b250YWxcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJDaGVja2luZyBpZiB3ZSBjYW4gcm90YXRlIGhvcml6b250YWxcIik7XG4gICAgICAgICAgICB2YXIgY2FuQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVGhpcyByb3c6XCIrdGhpcy5yb3cpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAxNSkge1xuICAgICAgICAgICAgICAgIGNhbkNoYW5nZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGJvYXJkbWFwW3RoaXMucm93K2ldW3RoaXMuY29sXS5lbXB0eSk7XG4gICAgICAgICAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBjYW5DaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwiSG9yaXpvbnRhbCBjYW4gY2hhbmdlIVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZsaXBwZWQgPSAhdGhpcy5mbGlwcGVkO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIGldLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sXS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0dXJuIHRoaXMuZmxpcHBlZDtcbiAgICAgICAgICAgIC8vICAgY29uc29sZS5sb2coXCJDaGFuZ2UgQWdhaW5cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZG93blByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTm90IEltcGxlbWVudGVkXCIpO1xuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLmZsaXBwZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRyYXdGbGlwcGVkKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRyYXdOb3RGbGlwcGVkKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kcmF3VmVydGljYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vRG8gbGF0ZXJcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhd0ZsaXBwZWQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMucm93ID09PSAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgal1bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgal1bdGhpcy5jb2xdLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvL2dhbWUgb3ZlclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3ddXG4gICAgICAgICAgICAmJiBib2FyZG1hcFt0aGlzLnJvdyArIDFdXG4gICAgICAgICAgICAmJiBib2FyZG1hcFt0aGlzLnJvdyArIDJdXG4gICAgICAgICAgICAmJiBib2FyZG1hcFt0aGlzLnJvdyArIDNdKSB7XG4gICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3cgLSAxXSkge1xuICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2xdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgaV1bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyBpXVt0aGlzLmNvbF0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgNF0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgNF1bdGhpcy5jb2xdLmVtcHR5KSB7IC8vTGFzdCBzcXVhcmVcbiAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTUgJiYgIWJvYXJkbWFwW3RoaXMucm93ICsgNF1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgLy9UaGlzIGhlcmUgcHJvYmFibHkgZG9lc24ndCB3b3JrXG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDNdKSB7XG4gICAgICAgICAgICB0aGlzLnJvdyA9IDA7XG4gICAgICAgICAgICB0aGlzLmNvbCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAxMCkgKyAwKTtcbiAgICAgICAgICAgIC8vV2UgaGF2ZSBzdG9wcGVkIG11c3QgY2FsY3VsYXRlIGlmIHdlIG5lZWQgdG8gY2xlYXIuXG4gICAgICAgICAgICAvLyB0aGlzLmNoZWNrQm9hcmRGb3JSb3dzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kcmF3Tm90RmxpcHBlZCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBpZiAodGhpcy5yb3cgPT09IDApIHtcbiAgICAgICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIGldLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaTsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBqXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBqXS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy9nYW1lIG92ZXJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93XSAmJiBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdXG4gICAgICAgICAgICAmJiBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAxXVxuICAgICAgICAgICAgJiYgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMl1cbiAgICAgICAgICAgICYmIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDNdKSB7XG4gICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3cgLSAxXSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2wgKyBpXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAxXVt0aGlzLmNvbCArIGldLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIGldLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyBpXS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxOSAmJiAhYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIGldLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2wgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV0pIHtcbiAgICAgICAgICAgIC8vdGhpcy5jaGVja0JvYXJkRm9yUm93cyhib2FyZG1hcCk7ICAgIFxuICAgICAgICAgICAgLy8gdGhpcy5pbml0UCgpO1xuICAgICAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwiRmluaXNoaW5nIVwiKTtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIElQaWVjZTtcbn0oKSk7XG5leHBvcnRzLklQaWVjZSA9IElQaWVjZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIElQaWVjZV8xID0gcmVxdWlyZShcIi4uL1BsYXllcnMvSVBpZWNlXCIpO1xudmFyIE9QaWVjZV8xID0gcmVxdWlyZShcIi4uL1BsYXllcnMvT1BpZWNlXCIpO1xudmFyIFRQaWVjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUUGllY2UoYm9hcmRtYXApIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcbiAgICAgICAgLy90aGlzLmtpbmQgPSBraW5kO1xuICAgICAgICB0aGlzLmluaXRQKGJvYXJkbWFwKTtcbiAgICB9XG4gICAgVFBpZWNlLnByb3RvdHlwZS5wcmludEJvYXJkID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjA7ICsraSkge1xuICAgICAgICAgICAgdmFyIHN0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDEwOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbaV1bal0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgXCJ4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyBcIm9cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdHJpbmcpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIl9cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuaW5pdFAgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3BlaWNlTGlzdCA9IFtdO1xuICAgICAgICB0aGlzLmdlbmVyYXRlVHlwZSgpO1xuICAgICAgICB0aGlzLnBsYXllci5yb3cgPSAtMTtcbiAgICAgICAgdGhpcy5maXJzdFRpbWUgPSB0cnVlO1xuICAgICAgICAvL3RoaXMucGxheWVyLmNvbCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDApO1xuICAgICAgICB0aGlzLmNoZWNrQm9hcmRGb3JSb3dzKGJvYXJkbWFwKTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMucGxheWVyLmxlZnRQcmVzcyhib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLnJpZ2h0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIucmlnaHRQcmVzcyhib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLy8gIHRoaXMucHJpbnRCb2FyZChib2FyZG1hcCk7XG4gICAgICAgIC8vICAgY29uc29sZS5sb2coXCJBdHRlbXB0aW5nIHRyYW5zZm9ybWF0aW9uXCIpO1xuICAgICAgICB0aGlzLnBsYXllci51cFByZXNzKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgdGhpcy5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgLy8gdGhpcy5wcmludEJvYXJkKGJvYXJkbWFwKTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuZG93blByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMucGxheWVyLmRvd25QcmVzcyhib2FyZG1hcCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmdlbmVyYXRlVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMikgKyAxKTtcbiAgICAgICAgLy8gIHN3aXRjaCh0eXBlKXtcbiAgICAgICAgLy8gICAgICBjYXNlIDA6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiMFwiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgICBjYXNlIDE6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiVFwiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgICBjYXNlIDI6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiSVwiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgICBjYXNlIDM6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiU1wiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgICBjYXNlIDQ6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiWlwiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgICBjYXNlIDU6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiSlwiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgICBjYXNlIDY6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiTFwiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gIH1cbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwidHlwZSBoZXJlID0gXCIrdHlwZSk7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRoaXMua2luZCA9IFwiSVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHRoaXMua2luZCA9IFwiMFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkFib3V0IHRvIGRvIG5leHQga2luZDpcIit0aGlzLmtpbmQpO1xuICAgICAgICBpZiAodGhpcy5raW5kID09PSBcIklcIikge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgSVBpZWNlXzEuSVBpZWNlKCk7IC8vbmV3IE9QaWVjZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCIwXCIpIHtcbiAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIE9waWVjZVwiKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IE9QaWVjZV8xLk9QaWVjZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcImNhbGxpbmcgZHJhd1wiKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IElQaWVjZV8xLklQaWVjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXR1cm52YWwgPSB0aGlzLnBsYXllci5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IElQaWVjZV8xLklQaWVjZSgpO1xuICAgICAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldHVybnZhbDtcbiAgICB9O1xuICAgIC8vIGRyYXdJRmxpcHBlZChib2FyZG1hcDpQaWVjZVtdW10sbGVmdDpudW1iZXIpey8vdmVydGljbGVcbiAgICAvLyAgICAgIHZhciB2YWx0b3JldHVybiA9IHRoaXMucGxheWVyLmRyYXdGbGlwcGVkKGJvYXJkbWFwLGxlZnQpO1xuICAgIC8vICAgICAgaWYgKHRoaXMucGxheWVyLmRvbmUpe1xuICAgIC8vICAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgLy8gICAgICB9XG4gICAgLy8gICAgICByZXR1cm4gdmFsdG9yZXR1cm47XG4gICAgLy8gfVxuICAgIC8vIGRyYXdJTm90RmxpcHBlZChib2FyZG1hcDpQaWVjZVtdW10sbGVmdDpudW1iZXIpeyAvL2hvcml6b250YWxcbiAgICAvLyAgICAgdmFyIHZhbHRvcmV0dXJuID0gdGhpcy5wbGF5ZXIuZHJhd05vdEZsaXBwZWQoYm9hcmRtYXAsbGVmdCk7XG4gICAgLy8gICAgIGlmKHRoaXMucGxheWVyLmRvbmUpe1xuICAgIC8vICAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgcmV0dXJuIHZhbHRvcmV0dXJuO1xuICAgIC8vIH1cbiAgICBUUGllY2UucHJvdG90eXBlLmRlY3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGxheWVyLmRlY3IoKTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuY2hlY2tCb2FyZEZvclJvd3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYWxsaW5nIGRyYXdcIik7XG4gICAgICAgIHZhciBoZWlnaHQgPSAyMDtcbiAgICAgICAgdmFyIHdpZHRoID0gMTA7XG4gICAgICAgIGZvciAodmFyIGkgPSBoZWlnaHQgLSAxOyBpID4gLTE7IGktLSkge1xuICAgICAgICAgICAgdmFyIE5lZWRUb0RlbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gd2lkdGggLSAxOyBqID4gLTE7IGotLSkge1xuICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFtpXVtqXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBOZWVkVG9EZWxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTmVlZFRvRGVsZXRlKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IGk7IGsgPiAxOyAtLWspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCB3aWR0aDsgKytsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFtrXVtsXS5lbXB0eSA9IGJvYXJkbWFwW2sgLSAxXVtsXS5lbXB0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW2tdW2xdLmNvbG9yID0gYm9hcmRtYXBbayAtIDFdW2xdLmNvbG9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgd2lkdGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFswXVtqXS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwWzBdW2pdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yOyAvLyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tCb2FyZEZvclJvd3MoYm9hcmRtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVFBpZWNlO1xufSgpKTtcbmV4cG9ydHMuVFBpZWNlID0gVFBpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGllY2UoY29sb3IsIGxlZnQsIHRvcCkge1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMudG9wID0gdG9wO1xuICAgIH1cbiAgICBQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChjdHgsIG9mZnNldCkge1xuICAgICAgICAvLyB0aGlzLmxlZnQgPSBvZmZzZXQ7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5sZWZ0ICsgMiArIG9mZnNldCwgdGhpcy50b3AgKyAyICsgNjAsIDM4LCAzOCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGllY2U7XG59KCkpO1xuZXhwb3J0cy5QaWVjZSA9IFBpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QaWVjZS9QaWVjZVwiKTtcbnZhciBUUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QaWVjZS9UUGllY2VcIik7XG52YXIgQm9hcmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm9hcmQoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15Q2FudmFzJyk7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gJ3JnYigzOCwgMzcsIDM3KSc7IC8vYmxhY2tcbiAgICAgICAgdGhpcy5ib2FyZG1hcCA9IFtdO1xuICAgICAgICB0aGlzLnplcm9Cb2FyZCgpO1xuICAgICAgICB0aGlzLmluaXRCb2FyZCgpO1xuICAgICAgICB0aGlzLmdhbWVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50ID0gbmV3IFRQaWVjZV8xLlRQaWVjZSh0aGlzLmJvYXJkbWFwKTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgICAgIHRoaXMubGVmdCA9IGNlbnRlciAtIDIwMDtcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBtb3VzZVBvcyA9IHRoaXMuZ2V0VG91Y2hQb3ModGhpcy5jYW52YXMsIGUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUb3VjaGluZ1wiKTtcbiAgICAgICAgICAgIGlmIChtb3VzZVBvcy54ID4gY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50LnJpZ2h0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vdXNlUG9zLnggPCBjZW50ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnQubGVmdFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG4gICAgQm9hcmQucHJvdG90eXBlLmdldFRvdWNoUG9zID0gZnVuY3Rpb24gKGNhbnZhc0RvbSwgdG91Y2hFdmVudCkge1xuICAgICAgICB2YXIgcmVjdCA9IGNhbnZhc0RvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHRvdWNoRXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0gcmVjdC5sZWZ0LFxuICAgICAgICAgICAgeTogdG91Y2hFdmVudC50b3VjaGVzWzBdLmNsaWVudFkgLSByZWN0LnRvcFxuICAgICAgICB9O1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmdldFBpZWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50O1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmdldENlbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy53aWR0aCAvIDIpO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmtleVByZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAnMzgnKSB7XG4gICAgICAgICAgICAvLyB1cCBhcnJvd1xuICAgICAgICAgICAgdGhpcy50LnVwUHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gJzQwJykge1xuICAgICAgICAgICAgdGhpcy50LmRvd25QcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PSAnMzcnKSB7XG4gICAgICAgICAgICAvLyBsZWZ0IGFycm93XG4gICAgICAgICAgICB0aGlzLnQubGVmdFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICczOScpIHtcbiAgICAgICAgICAgIC8vIHJpZ2h0IGFycm93XG4gICAgICAgICAgICB0aGlzLnQucmlnaHRQcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZGVjclRpbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiR2FtZSBpbiBwb3JncmVzc1wiKTtcbiAgICAgICAgICAgIHRoaXMudC5kZWNyKCk7XG4gICAgICAgICAgICB2YXIgc3VjY2VzcyA9IHRoaXMudC5kcmF3KHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJObyBpbiBwcm9ncmVzc1wiKTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS56ZXJvQm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmluaXRCb2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgICAgIHZhciBsZWZ0ID0gY2VudGVyIC0gMjAwO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB2YXIgdG9wID0gNjA7XG4gICAgICAgIHZhciBsb2NhbGNvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gICAgICAgICAgICAvL2kgPSByb3dzXG4gICAgICAgICAgICB2YXIgbWlkZGxlTGlzdCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxMDsgKytqKSB7XG4gICAgICAgICAgICAgICAgLy9jb2x1bW5zXG4gICAgICAgICAgICAgICAgdmFyIHB1c2htZVBlYWNlID0gbmV3IFBpZWNlXzEuUGllY2UobG9jYWxjb2xvciwgKGogKiA0MCksIChpICogNDApKTtcbiAgICAgICAgICAgICAgICBwdXNobWVQZWFjZS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbWlkZGxlTGlzdC5wdXNoKHB1c2htZVBlYWNlKTtcbiAgICAgICAgICAgICAgICAvL3RoaXMuYm9hcmRtYXBbaS0xXVtqLTFdID0gbmV3IFNwZWFjZShsb2NhbGNvbG9yLGxlZnQrKGoqNDApLHRvcCsoaSo0MCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ib2FyZG1hcC5wdXNoKG1pZGRsZUxpc3QpO1xuICAgICAgICAgICAgbWlkZGxlTGlzdCA9IFtdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZHJhd0JvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnplcm9Cb2FyZCgpO1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcbiAgICAgICAgdmFyIGxlZnQgPSBjZW50ZXIgLSAyMDA7XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ3JnYigyNTUsIDI1NSwgMjU1KSc7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QobGVmdCwgNjAsIDQwMCwgODAwKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZXMobGVmdCk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmJvYXJkbWFwOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHRvcGVudHJ5ID0gX2FbX2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCB0b3BlbnRyeV8xID0gdG9wZW50cnk7IF9iIDwgdG9wZW50cnlfMS5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSB0b3BlbnRyeV8xW19iXTtcbiAgICAgICAgICAgICAgICBlbnRyeS5kcmF3KHRoaXMuY3R4LCBsZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmRyYXdMaW5lcyA9IGZ1bmN0aW9uIChsZWZ0KSB7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ3JnYig5MSwgODksIDg5KSc7XG4gICAgICAgIHZhciBsaW5lQm90dG9tID0gNjA7XG4gICAgICAgIHZhciBsaW5lVG9wID0gNjAgKyA4MDA7XG4gICAgICAgIC8vRHJhdyBob3Jpem9udGFsIGxpbmVzXG4gICAgICAgIGZvciAodmFyIG9mZnNldCA9IDQwOyBvZmZzZXQgPCA0MDA7IG9mZnNldCA9IG9mZnNldCArIDQwKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8obGVmdCArIG9mZnNldCwgbGluZUJvdHRvbSk7XG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8obGVmdCArIG9mZnNldCwgbGluZVRvcCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSA2MDsgb2Zmc2V0IDwgODAwICsgNjA7IG9mZnNldCA9IG9mZnNldCArIDQwKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8obGVmdCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyhsZWZ0ICsgNDAwLCBvZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCb2FyZDtcbn0oKSk7XG5leHBvcnRzLkJvYXJkID0gQm9hcmQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBCb2FyZF8xID0gcmVxdWlyZShcIi4vQm9hcmQvQm9hcmRcIik7XG52YXIgYm9hcmQgPSBuZXcgQm9hcmRfMS5Cb2FyZCgpO1xuZnVuY3Rpb24gZHJhd0JvYXJkKCkge1xuICAgIC8vY29uc29sZS5sb2coXCJDYWxsaW5nIGRyYXcgYm9hcmRcIilcbiAgICBib2FyZC5kcmF3Qm9hcmQoKTtcbn1cbjtcbmZ1bmN0aW9uIGRlc2NUaW1lKCkge1xuICAgIGJvYXJkLmRlY3JUaW1lKCk7XG59XG4vLyBib2FyZC5kcmF3Qm9hcmQoKTtcbnZhciB0aW1lckZvckxvYWRpbmdSZXN1bHQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZHJhd0JvYXJkLCAyMCk7XG52YXIgdGltZXJGb3JMb2FkaW5nUmVzdWx0ID0gd2luZG93LnNldEludGVydmFsKGRlc2NUaW1lLCA0MDApO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjaGVjaywgZmFsc2UpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJnYW1lcGFkY29ubmVjdGVkXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgY29uc29sZS5sb2coXCJHYW1lcGFkIGNvbm5lY3RlZCBhdCBpbmRleCAlZDogJXMuICVkIGJ1dHRvbnMsICVkIGF4ZXMuXCIsIGUuZ2FtZXBhZC5pbmRleCwgZS5nYW1lcGFkLmlkLCBlLmdhbWVwYWQuYnV0dG9ucy5sZW5ndGgsIGUuZ2FtZXBhZC5heGVzLmxlbmd0aCk7XG59KTtcbmZ1bmN0aW9uIGNoZWNrKGUpIHtcbiAgICBib2FyZC5rZXlQcmVzcyhlKTtcbn1cbndpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGJvYXJkLmRyYXdCb2FyZCgpO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=