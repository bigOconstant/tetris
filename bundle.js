!function(t){var o={};function e(i){if(o[i])return o[i].exports;var r=o[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=o,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var r in t)e.d(i,r,function(o){return t[o]}.bind(null,r));return i},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=7)}([function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){return function(t,o){this.row=t,this.col=o}}();o.Coordinate=i},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.coordinates=[],this.flipped=Math.random()<.5,this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+2),this.state=1}return t.prototype.incrementState=function(){this.state<4?++this.state:this.state=1},t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(;this.coordinates.length>0;){var o=this.coordinates.pop();this.deleteToPoint(t,o.row,o.col)}},t.prototype.drawSelf=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2))},t.prototype.drawSelfFlipped=function(t){this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1))},t.prototype.drawSelfRight=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1))},t.prototype.drawSelfLeft=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1))},t.prototype.leftPress=function(t,o){switch(this.state){case 1:if(!(this.col>0)){this.deleteCoordinates(t);break}if(!this.checkLeftUp(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break;case 2:if(this.col>-1&&!this.checkLeftRight(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break;case 3:if(this.col>0){if(!this.checkLeftDown(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break}this.deleteCoordinates(t);break;case 4:if(this.col>0){if(!this.checkLeftLeft(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break}this.deleteCoordinates(t)}},t.prototype.rightPress=function(t,o){switch(this.state){case 1:if(this.col<7&&!this.checkRightUp(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t);break;case 2:if(this.col<7&&!this.checkRightRight(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t);break;case 3:if(this.col<7&&!this.checkRightDown(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t);break;case 4:if(this.col<8&&!this.checkRightLeft(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t)}},t.prototype.upPress=function(t,o){switch(this.state){case 1:this.deleteCoordinates(t),this.col<8&&(this.state=2);break;case 2:this.deleteCoordinates(t),this.col>-1&&(this.state=3);break;case 3:this.deleteCoordinates(t),this.state=4;break;case 4:this.deleteCoordinates(t),this.col<8&&(this.state=1)}},t.prototype.downPress=function(t){switch(this.state){case 1:this.row<18&&(this.checkBelowup(t,1)||(this.deleteCoordinates(t),++this.row));break;case 2:if(this.row<17){this.checkBelowRight(t,1)||(this.deleteCoordinates(t),++this.row);break}break;case 3:this.row<17&&(this.checkBelowDown(t,1)||(this.deleteCoordinates(t),++this.row));break;case 4:if(this.row<17){this.checkBelowLeft(t,1)||(this.deleteCoordinates(t),++this.row);break}}},t.prototype.checkLeftUp=function(t,o){var e=!1;return t[this.row+1][this.col-1].empty||(e=!0),t[this.row][this.col].empty||(e=!0),e},t.prototype.checkRightUp=function(t,o){var e=!1;return t[this.row+1][this.col+3].empty||(e=!0),t[this.row][this.col+2].empty||(e=!0),e},t.prototype.checkRightRight=function(t,o){var e=!1;return t[this.row][this.col+2].empty||(e=!0),t[this.row+1][this.col+3].empty||(e=!0),t[this.row+2][this.col+2].empty||(e=!0),e},t.prototype.checkLeftRight=function(t,o){var e=!1;return t[this.row][this.col].empty||(e=!0),t[this.row+1][this.col].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkRightLeft=function(t,o){var e=!1;return t[this.row][this.col+2].empty||(e=!0),t[this.row+1][this.col+2]||(e=!0),t[this.row+2][this.col+2]||(e=!0),e},t.prototype.checkLeftLeft=function(t,o){var e=!1;return t[this.row][this.col].empty||(e=!0),t[this.row+1][this.col-1].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkLeftDown=function(t,o){var e=!1;return t[this.row+1][this.col-1].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkRightDown=function(t,o){var e=!1;return t[this.row+1][this.col+3].empty||(e=!0),t[this.row+2][this.col+2].empty||(e=!0),e},t.prototype.checkBelowup=function(t,o){var e=!1;return t[this.row+1+o][this.col].empty||(e=!0),t[this.row+1+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col+2].empty||(e=!0),e},t.prototype.checkBelowDown=function(t,o){var e=!1;return t[this.row+1+o][this.col].empty||(e=!0),t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col+2].empty||(e=!0),e},t.prototype.checkBelowLeft=function(t,o){var e=!1;return t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col].empty||(e=!0),e},t.prototype.checkBelowRight=function(t,o){var e=!1;return t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col+2].empty||(e=!0),e},t.prototype.draw=function(t,o){switch(this.state){case 1:if(this.row>18)return this.done=!0,!0;if(this.checkBelowup(t,0))return this.done=!0,0!==this.row;this.row>0&&this.deleteCoordinates(t),this.drawSelf(t);break;case 2:if(this.row>17)return this.done=!0,!0;if(this.row<17&&this.checkBelowRight(t,0))return this.done=!0,!0;if(this.checkBelowRight(t,0))return this.done=!0,!0;this.row>0&&this.deleteCoordinates(t),this.drawSelfRight(t);break;case 4:if(this.row>17)return this.done=!0,!0;if(this.row<17&&this.checkBelowLeft(t,0))return this.done=!0,!0;if(this.checkBelowLeft(t,0))return this.done=!0,!0;this.row>0&&this.deleteCoordinates(t),this.drawSelfLeft(t);break;case 3:if(this.row>17)return this.done=!0,!0;if(this.checkBelowDown(t,0))return this.done=!0,!0;this.row>0&&this.deleteCoordinates(t),this.drawSelfFlipped(t)}return!0},t.prototype.decr=function(){this.row=this.row+1},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t}();o.XPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.flipped=Math.random()<.5,this.setcolor(),this.done=!1,this.col=Math.floor(3*Math.random()+2)}return t.prototype.draw=function(t,o){return 19==this.row?(this.done=!0,!0):-1!==this.row?0===this.row?(this.drawSelf(t),!0):1===this.row?(this.deleteFirstSelf(t),this.drawSelf(t),!0):t[this.row+1][this.col].empty&&t[this.row+1][+this.col].empty?(this.deletePrevSelf(t),this.drawSelf(t),!0):(this.done=!0,!0):void this.drawFirstSelf(t)},t.prototype.drawFlipped=function(t,o){console.log("Don't need this method :")},t.prototype.drawNotFlipped=function(t,o){console.log("Also don't need this method ;")},t.prototype.decr=function(){this.row=this.row+1},t.prototype.deleteSelf=function(t){t[this.row][this.col].color=this.originalColor,t[this.row+1][this.col].color=this.originalColor,t[this.row][this.col+1].color=this.originalColor,t[this.row+1][this.col+1].color=this.originalColor,t[this.row][this.col].empty=!0,t[this.row+1][this.col].empty=!0,t[this.row][this.col+1].empty=!0,t[this.row+1][this.col+1].empty=!0},t.prototype.deletePrevSelf=function(t){t[this.row-2][this.col].color=this.originalColor,t[this.row-1][this.col].color=this.originalColor,t[this.row-2][this.col+1].color=this.originalColor,t[this.row-1][this.col+1].color=this.originalColor,t[this.row-2][this.col].empty=!0,t[this.row-1][this.col].empty=!0,t[this.row-2][this.col+1].empty=!0,t[this.row-1][this.col+1].empty=!0},t.prototype.deleteFirstSelf=function(t){t[this.row][this.col].color=this.originalColor,t[this.row][this.col].empty=!0,t[this.row][this.col+1].color=this.originalColor,t[this.row][this.col+1].empty=!0,t[this.row-1][this.col].color=this.originalColor,t[this.row-1][this.col].empty=!0,t[this.row-1][this.col+1].color=this.originalColor,t[this.row-1][this.col+1].empty=!0},t.prototype.drawSelf=function(t){t[this.row][this.col].color=this.color,t[this.row+1][this.col].color=this.color,t[this.row][this.col+1].color=this.color,t[this.row+1][this.col+1].color=this.color,t[this.row][this.col].empty=!1,t[this.row+1][this.col].empty=!1,t[this.row][this.col+1].empty=!1,t[this.row+1][this.col+1].empty=!1},t.prototype.drawFirstSelf=function(t){t[this.row][this.col].color=this.color,t[this.row][this.col].empty=!1,t[this.row][this.col+1].color=this.color,t[this.row][this.col+1].empty=!1},t.prototype.downPress=function(t){this.row<18&&(t[this.row+2][this.col].empty&&(t[this.row+2][this.col+1].empty&&(this.deleteSelf(t),++this.row),this.deleteSelf(t)),this.deleteSelf(t)),this.deleteSelf(t)},t.prototype.leftPress=function(t,o){0!==this.col?(this.col>0&&t[this.row][this.col-1].empty&&this.row<19&&(t[this.row+1][this.col-1].empty?(this.deleteSelf(t),--this.col):this.deleteSelf(t)),this.deleteSelf(t)):this.deleteSelf(t)},t.prototype.rightPress=function(t,o){9!==this.col&&(this.col<9&&t[this.row][this.col+2].empty&&(this.row<19?t[this.row+1][this.col+2].empty&&(this.deleteSelf(t),++this.col):this.deleteSelf(t)),this.deleteSelf(t))},t.prototype.upPress=function(t,o){this.deleteSelf(t)},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t}();o.OPiece=i},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.flipped=!0,this.coordinates=[],this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+0)}return t.prototype.decr=function(){this.row=this.row+1},t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(;this.coordinates.length>0;){var o=this.coordinates.pop();this.deleteToPoint(t,o.row,o.col)}},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t.prototype.leftPress=function(t,o){this.flipped?(this.col>=-1&&(this.checkLeftVertical(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),--this.col)),this.deleteCoordinates(t)):(this.col>=0&&(this.checkLeftHorizontal(t)||(this.deleteCoordinates(t),--this.col)),this.deleteCoordinates(t))},t.prototype.rightPress=function(t,o){this.flipped?this.col<11?this.checkRightVertical(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),++this.col):this.deleteCoordinates(t):this.col<6?this.checkRightHorizontal(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),++this.col):this.deleteCoordinates(t)},t.prototype.upPress=function(t,o){this.flipped?this.checkVerticalToHorizontal(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),this.flipped=!this.flipped):this.checkHorizontalToVertical(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),this.flipped=!this.flipped)},t.prototype.checkVerticalToHorizontal=function(t){return this.col>6||(-1===this.col||(!t[this.row+1][this.col].empty||(!t[this.row+1][this.col+2].empty||!t[this.row+1][this.col+3].empty)))},t.prototype.checkHorizontalToVertical=function(t){return this.row>17||(!t[this.row][this.col+1].empty||(!t[this.row+2][this.col+1].empty||!t[this.row+3][this.col+1].empty))},t.prototype.downPress=function(t){this.flipped?this.row<16&&(this.checkBelowVertical(t,1)||(this.deleteCoordinates(t),this.row++)):this.row<18&&(this.checkBelowHorizontal(t,0)||(this.deleteCoordinates(t),this.row++))},t.prototype.draw=function(t,o){return this.flipped?this.drawFlipped(t,o):this.drawNotFlipped(t,o)},t.prototype.drawVertical=function(t,o){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+3,this.col+1))},t.prototype.drawHorizontal=function(t,o){this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+3))},t.prototype.checkLeftVertical=function(t){var o=!1;if(this.col<0)return!0;for(var e=this.row;e<this.row+4;++e)t[e][this.col].empty||(o=!0);return o},t.prototype.checkRightVertical=function(t){var o=!1;if(this.col>7)return!0;for(var e=this.row;e<this.row+4;++e)t[e][this.col+2].empty||(o=!0);return o},t.prototype.checkRightHorizontal=function(t){return!t[this.row+1][this.col+4].empty},t.prototype.checkLeftHorizontal=function(t){return 0===this.col||!t[this.row+1][this.col-1].empty},t.prototype.checkBelowHorizontal=function(t,o){var e=!1;if(this.row+2+o===20)e=!0;else for(var i=this.col;i<this.col+4;++i)t[this.row+2+o][i].empty||(e=!0);return e},t.prototype.checkBelowVertical=function(t,o){return this.row+3===20||!t[this.row+3+o][this.col+1].empty},t.prototype.drawFlipped=function(t,o){return 0===this.row?this.checkBelowVertical(t,1)?(this.done=!0,!1):(this.drawVertical(t,o),!0):this.row<17?this.checkBelowVertical(t,0)?(this.done=!0,!0):(this.deleteCoordinates(t),this.drawVertical(t,o),!0):(this.done=!0,!0)},t.prototype.drawNotFlipped=function(t,o){return 0===this.row?this.checkBelowHorizontal(t,-1)?(this.done=!0,!1):(this.deleteCoordinates(t),this.drawHorizontal(t,o),!0):this.row<21?this.checkBelowHorizontal(t,-1)?(this.done=!0,!0):(this.deleteCoordinates(t),this.drawHorizontal(t,o),!0):(this.done=!0,!0)},t}();o.IPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(3),r=e(2),s=e(1),h=function(){function t(t){this.originalColor="rgb(66, 66, 66)",this.initP(t)}return t.prototype.printBoard=function(t){for(var o=0;o<20;++o){for(var e="",i=0;i<10;++i)t[o][i].empty?e+="x":e+="o";console.log(e)}},t.prototype.initP=function(t){this.started=!1,this.speiceList=[],this.generateType(),this.player.row=-1,this.firstTime=!0,this.checkBoardForRows(t)},t.prototype.leftPress=function(t,o){this.player.leftPress(t,o),this.draw(t,o)},t.prototype.rightPress=function(t,o){this.player.rightPress(t,o),this.draw(t,o)},t.prototype.upPress=function(t,o){this.player.upPress(t,o),this.draw(t,o)},t.prototype.downPress=function(t,o){this.player.downPress(t),this.draw(t,o)},t.prototype.generateType=function(){switch(Math.floor(3*Math.random()+1)){case 1:this.kind="I";break;case 2:this.kind="0";break;case 3:this.kind="X"}"I"===this.kind?this.player=new i.IPiece:"0"===this.kind?this.player=new r.OPiece:"X"===this.kind&&(this.player=new s.XPiece)},t.prototype.draw=function(t,o){this.player.done&&(this.player=new i.IPiece);var e=this.player.draw(t,o);return this.player.done&&(this.player=new i.IPiece,this.initP(t)),e},t.prototype.decr=function(){this.player.decr()},t.prototype.checkBoardForRows=function(t){for(var o=19;o>-1;o--){for(var e=!0,i=9;i>-1;i--)t[o][i].empty&&(e=!1);if(e){for(var r=o;r>1;--r)for(var s=0;s<10;++s)t[r][s].empty=t[r-1][s].empty,t[r][s].color=t[r-1][s].color;for(i=0;i<10;i++)t[0][i].empty=!0,t[0][i].color=this.originalColor;this.checkBoardForRows(t)}}},t}();o.TPiece=h},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t,o,e){this.color=t,this.left=o,this.top=e}return t.prototype.draw=function(t,o){t.fillStyle=this.color,t.fillRect(this.left+2+o,this.top+2+60,38,38)},t}();o.Piece=i},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(5),r=e(4),s=function(){function t(){this.canvas=document.querySelector(".myCanvas"),this.backgroundColor="rgb(38, 37, 37)",this.boardmap=[],this.zeroBoard(),this.initBoard(),this.gameInProgress=!0,this.t=new r.TPiece(this.boardmap);var t=this.getCenter();this.left=t-200,this.canvas.addEventListener("touchstart",function(o){var e=this.getTouchPos(this.canvas,o);console.log("Touching"),e.x>t?this.t.rightPress(this.boardmap,this.left):e.x<t&&this.t.leftPress(this.boardmap,this.left)},!1)}return t.prototype.getTouchPos=function(t,o){var e=t.getBoundingClientRect();return{x:o.touches[0].clientX-e.left,y:o.touches[0].clientY-e.top}},t.prototype.getPiece=function(){return this.t},t.prototype.getCenter=function(){return Math.floor(this.width/2)},t.prototype.keyPress=function(t){"38"==t.keyCode?this.t.upPress(this.boardmap,this.left):"40"==t.keyCode?this.t.downPress(this.boardmap,this.left):"37"==t.keyCode?this.t.leftPress(this.boardmap,this.left):"39"==t.keyCode&&this.t.rightPress(this.boardmap,this.left)},t.prototype.decrTime=function(){this.gameInProgress&&(this.t.decr(),this.t.draw(this.boardmap,this.left)||(this.gameInProgress=!1))},t.prototype.zeroBoard=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.width=window.innerWidth,this.height=window.innerHeight,this.ctx=this.canvas.getContext("2d")},t.prototype.initBoard=function(){var t=this.getCenter()-200;this.left=t;for(var o=0;o<20;o++){for(var e=[],r=0;r<10;++r){var s=new i.Piece("rgb(66, 66, 66)",40*r,40*o);s.empty=!0,e.push(s)}this.boardmap.push(e),e=[]}},t.prototype.drawBoard=function(){this.zeroBoard(),this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height);var t=this.getCenter()-200;this.left=t,this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.lineWidth=1,this.ctx.strokeRect(t,60,400,800),this.drawLines(t);for(var o=0,e=this.boardmap;o<e.length;o++)for(var i=0,r=e[o];i<r.length;i++){r[i].draw(this.ctx,t)}},t.prototype.drawLines=function(t){this.ctx.strokeStyle="rgb(91, 89, 89)";for(var o=40;o<400;o+=40)this.ctx.moveTo(t+o,60),this.ctx.lineTo(t+o,860),this.ctx.stroke();for(o=60;o<860;o+=40)this.ctx.moveTo(t,o),this.ctx.lineTo(t+400,o),this.ctx.stroke()},t}();o.Board=s},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=new(e(6).Board);window.setInterval(function(){i.drawBoard()},20),window.setInterval(function(){i.decrTime()},400);window.addEventListener("keydown",function(t){i.keyPress(t)},!1),window.addEventListener("gamepadconnected",function(t){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",t.gamepad.index,t.gamepad.id,t.gamepad.buttons.length,t.gamepad.axes.length)}),window.onresize=function(t){i.drawBoard()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BsYXllcnMvQ29vcmRpbmF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGxheWVycy9YUGllY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BsYXllcnMvT1BpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QbGF5ZXJzL0lQaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGllY2UvVFBpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QaWVjZS9QaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvQm9hcmQvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ29vcmRpbmF0ZSIsInRoaXMiLCJyb3ciLCJjb2wiLCJDb29yZGluYXRlXzEiLCJYUGllY2UiLCJvcmlnaW5hbENvbG9yIiwiY29vcmRpbmF0ZXMiLCJmbGlwcGVkIiwiTWF0aCIsInJhbmRvbSIsInNldGNvbG9yIiwiZG9uZSIsImZsb29yIiwic3RhdGUiLCJpbmNyZW1lbnRTdGF0ZSIsImRyYXdUb1BvaW50IiwiYm9hcmRtYXAiLCJDb3JkIiwiY29sb3IiLCJlbXB0eSIsInB1c2giLCJjb25zb2xlIiwibG9nIiwiZGVsZXRlVG9Qb2ludCIsIngiLCJ5IiwiZGVsZXRlQ29vcmRpbmF0ZXMiLCJsZW5ndGgiLCJjdXJyZW50IiwicG9wIiwiZHJhd1NlbGYiLCJkcmF3U2VsZkZsaXBwZWQiLCJkcmF3U2VsZlJpZ2h0IiwiZHJhd1NlbGZMZWZ0IiwibGVmdFByZXNzIiwibGVmdCIsImNoZWNrTGVmdFVwIiwiY2hlY2tMZWZ0UmlnaHQiLCJjaGVja0xlZnREb3duIiwiY2hlY2tMZWZ0TGVmdCIsInJpZ2h0UHJlc3MiLCJjaGVja1JpZ2h0VXAiLCJjaGVja1JpZ2h0UmlnaHQiLCJjaGVja1JpZ2h0RG93biIsImNoZWNrUmlnaHRMZWZ0IiwidXBQcmVzcyIsImRvd25QcmVzcyIsImNoZWNrQmVsb3d1cCIsImNoZWNrQmVsb3dSaWdodCIsImNoZWNrQmVsb3dEb3duIiwiY2hlY2tCZWxvd0xlZnQiLCJtb2RpZmllciIsIlRvTGVmdCIsInRvUmlnaHQiLCJ0b0xlZnQiLCJiZWxvdyIsImRyYXciLCJkZWNyIiwiT1BpZWNlIiwiZGVsZXRlRmlyc3RTZWxmIiwiZGVsZXRlUHJldlNlbGYiLCJkcmF3Rmlyc3RTZWxmIiwiZHJhd0ZsaXBwZWQiLCJkcmF3Tm90RmxpcHBlZCIsImRlbGV0ZVNlbGYiLCJJUGllY2UiLCJjaGVja0xlZnRWZXJ0aWNhbCIsImNoZWNrTGVmdEhvcml6b250YWwiLCJjaGVja1JpZ2h0VmVydGljYWwiLCJjaGVja1JpZ2h0SG9yaXpvbnRhbCIsImNoZWNrVmVydGljYWxUb0hvcml6b250YWwiLCJjaGVja0hvcml6b250YWxUb1ZlcnRpY2FsIiwiY2hlY2tCZWxvd1ZlcnRpY2FsIiwiY2hlY2tCZWxvd0hvcml6b250YWwiLCJkcmF3VmVydGljYWwiLCJkcmF3SG9yaXpvbnRhbCIsImJsb2NrZWQiLCJJUGllY2VfMSIsIk9QaWVjZV8xIiwiWFBpZWNlXzEiLCJUUGllY2UiLCJpbml0UCIsInByaW50Qm9hcmQiLCJzdHJpbmciLCJqIiwic3RhcnRlZCIsInNwZWljZUxpc3QiLCJnZW5lcmF0ZVR5cGUiLCJwbGF5ZXIiLCJmaXJzdFRpbWUiLCJjaGVja0JvYXJkRm9yUm93cyIsImtpbmQiLCJyZXR1cm52YWwiLCJoZWlnaHQiLCJOZWVkVG9EZWxldGUiLCJ3aWR0aCIsImsiLCJQaWVjZSIsInRvcCIsImN0eCIsIm9mZnNldCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiUGllY2VfMSIsIlRQaWVjZV8xIiwiQm9hcmQiLCJjYW52YXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ6ZXJvQm9hcmQiLCJpbml0Qm9hcmQiLCJnYW1lSW5Qcm9ncmVzcyIsImNlbnRlciIsImdldENlbnRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwibW91c2VQb3MiLCJnZXRUb3VjaFBvcyIsImNhbnZhc0RvbSIsInRvdWNoRXZlbnQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiZ2V0UGllY2UiLCJrZXlQcmVzcyIsImtleUNvZGUiLCJkZWNyVGltZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImdldENvbnRleHQiLCJtaWRkbGVMaXN0IiwicHVzaG1lUGVhY2UiLCJkcmF3Qm9hcmQiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZVJlY3QiLCJkcmF3TGluZXMiLCJfaSIsIl9hIiwiX2IiLCJ0b3BlbnRyeV8xIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiYm9hcmQiLCJzZXRJbnRlcnZhbCIsImdhbWVwYWQiLCJpbmRleCIsImlkIiwiYnV0dG9ucyIsImF4ZXMiLCJvbnJlc2l6ZSIsImV2ZW50Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgs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RUFKQSxLQUtBcEcsS0FBQW1HLElBQUFnRCxTQUVBLElBQUEvQyxFQUFBLEdBQTZCQSxFQUFBLElBQW1CQSxHQUFBLEdBQ2hEcEcsS0FBQW1HLElBQUE4QyxPQUFBOUcsRUFBQWlFLEdBQ0FwRyxLQUFBbUcsSUFBQStDLE9BQUEvRyxFQUFBLElBQUFpRSxHQUNBcEcsS0FBQW1HLElBQUFnRCxVQUdBMUMsRUE3SEEsR0ErSEE1SSxFQUFBNEksc0NDbElBaEksT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q21CLE9BQUEsSUFDOUMsSUFDQW9LLEVBQUEsSUFEQXpMLEVBQUEsR0FDQThJLE9BVUF5QixPQUFBbUIsWUFUQSxXQUVBRCxFQUFBWixhQU9BLElBQ0FOLE9BQUFtQixZQUxBLFdBQ0FELEVBQUFuQixZQUlBLEtBQ0FDLE9BQUFmLGlCQUFBLFVBSUEsU0FBQUMsR0FDQWdDLEVBQUFyQixTQUFBWCxLQUxBLEdBQ0FjLE9BQUFmLGlCQUFBLDRCQUFBQyxHQUNBL0YsUUFBQUMsSUFBQSwwREFBQThGLEVBQUFrQyxRQUFBQyxNQUFBbkMsRUFBQWtDLFFBQUFFLEdBQUFwQyxFQUFBa0MsUUFBQUcsUUFBQTlILE9BQUF5RixFQUFBa0MsUUFBQUksS0FBQS9ILFVBS0F1RyxPQUFBeUIsU0FBQSxTQUFBQyxHQUNBUixFQUFBWiIsImZpbGUiOiIuL2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvb3JkaW5hdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29vcmRpbmF0ZShyLCBjKSB7XG4gICAgICAgIHRoaXMucm93ID0gcjtcbiAgICAgICAgdGhpcy5jb2wgPSBjO1xuICAgIH1cbiAgICByZXR1cm4gQ29vcmRpbmF0ZTtcbn0oKSk7XG5leHBvcnRzLkNvb3JkaW5hdGUgPSBDb29yZGluYXRlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29vcmRpbmF0ZV8xID0gcmVxdWlyZShcIi4vQ29vcmRpbmF0ZVwiKTtcbi8vIGV4cG9ydCBjbGFzcyBjb29yZGluYXRle1xuLy8gICAgIHJvdzpudW1iZXI7XG4vLyAgICAgY29sOm51bWJlcjtcbi8vICAgICBjb25zdHJ1Y3RvcihyOm51bWJlcixjOm51bWJlcil7XG4vLyAgICAgICAgIHRoaXMucm93ID0gcjtcbi8vICAgICAgICAgdGhpcy5jb2wgPSBjO1xuLy8gICAgIH1cbi8vIH1cbnZhciBYUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWFBpZWNlKCkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHRoaXMuZmxpcHBlZCA9IE1hdGgucmFuZG9tKCkgPCAwLjU7XG4gICAgICAgIHRoaXMuc2V0Y29sb3IoKTtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMik7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAxOyAvL01hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkqNCkgKzEpO1xuICAgICAgICAvLyAgY29uc29sZS5sb2coXCJDcmVhdGluZyBvYmplY3Q6IGNvbDpcIit0aGlzLmNvbCk7XG4gICAgfVxuICAgIFhQaWVjZS5wcm90b3R5cGUuaW5jcmVtZW50U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlIDwgNCkge1xuICAgICAgICAgICAgKyt0aGlzLnN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuZHJhd1RvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIENvcmQpIHtcbiAgICAgICAgaWYgKGJvYXJkbWFwW0NvcmQucm93XSAmJiBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdKSB7XG4gICAgICAgICAgICBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXMucHVzaChuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUoQ29yZC5yb3csIENvcmQuY29sKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyeWluZyB0byBkcmF3IHNvbWV0aGluZyB0aGF0IGRvZXNuJ3QgZXhpc3RzIGF0IGJvYXJkbWFwW1wiICsgQ29yZC5yb3cgKyBcIl1bXCIgKyBDb3JkLmNvbCArIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5kZWxldGVUb1BvaW50ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCB4LCB5KSB7XG4gICAgICAgIGlmIChib2FyZG1hcFt4XSAmJiBib2FyZG1hcFt4XVt5XSkge1xuICAgICAgICAgICAgYm9hcmRtYXBbeF1beV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgICAgICBib2FyZG1hcFt4XVt5XS5lbXB0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyeWluZyB0byBkZWxldGUgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdHMgYXQgYm9hcmRtYXBbXCIgKyB4ICsgXCJdW1wiICsgeSArIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5kZWxldGVDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICB3aGlsZSAodGhpcy5jb29yZGluYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuY29vcmRpbmF0ZXMucG9wKCk7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVRvUG9pbnQoYm9hcmRtYXAsIGN1cnJlbnQucm93LCBjdXJyZW50LmNvbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuZHJhd1NlbGYgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLypcbiAgICAgICAgW15dXG4gICAgIFsgXVsgXVsgXVxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3csIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAyKSk7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmRyYXdTZWxmRmxpcHBlZCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvKlxuXG4gICAgICAgWzxdW15dWz5dXG4gICAgICAgICAgW3ZdXG5cbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAxKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMikpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAyLCB0aGlzLmNvbCArIDEpKTtcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuZHJhd1NlbGZSaWdodCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvKlxuICAgICAgICBbXl1cbiAgICAgICAgWzxdWz5dXG4gICAgICAgIFt2XVxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3csIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAyKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDIsIHRoaXMuY29sICsgMSkpO1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5kcmF3U2VsZkxlZnQgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLypcbiAgICAgICAgW15dXG4gICAgIFs8XVs+XVxuICAgICAgICBbdl1cbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93LCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAxKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDIsIHRoaXMuY29sICsgMSkpO1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5sZWZ0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tMZWZ0VXAoYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sID0gLS10aGlzLmNvbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0xlZnRSaWdodChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2wgPSAtLXRoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tMZWZ0RG93bihib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2wgPSAtLXRoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0xlZnRMZWZ0KGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbCA9IC0tdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLnJpZ2h0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgNykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tSaWdodFVwKGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbCA9ICsrdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1JpZ2h0UmlnaHQoYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sID0gKyt0aGlzLmNvbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrUmlnaHREb3duKGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbCA9ICsrdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1JpZ2h0TGVmdChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2wgPSArK3RoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUudXBQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTogLy91cFxuICAgICAgICAgICAgICAgIC8vdHJhbnNmb3JtIHRvIHJpZ2h0XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgOCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6IC8vcmlnaHRcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6IC8vZG93blxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSA0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OiAvL2xlZnRcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5kb3duUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQmVsb3d1cChib2FyZG1hcCwgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnJvdztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxNykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tCZWxvd1JpZ2h0KGJvYXJkbWFwLCAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3RoaXMucm93O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxNykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tCZWxvd0Rvd24oYm9hcmRtYXAsIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrdGhpcy5yb3c7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQmVsb3dMZWZ0KGJvYXJkbWFwLCAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3RoaXMucm93O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnRVcCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgdmFyIFRvTGVmdCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgLSAxXS5lbXB0eSkge1xuICAgICAgICAgICAgVG9MZWZ0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIFRvTGVmdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRvTGVmdDtcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuY2hlY2tSaWdodFVwID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgdG9SaWdodCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAzXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvUmlnaHQ7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHRSaWdodCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgLy8gMyBwb3NzaWJsZSBwb2ludHMgb2YgY29udGFjdFxuICAgICAgICAvKlxuICAgICAgIFteXSA8LSAgdGhpcy5yb3csIHRoaXMuY29sICsgMlxuICAgICAgIFs8XVs+XSA8LSAgdGhpcy5yb3crMSAsIHRoaXMuY29sICszXG4gICAgICAgW3ZdIDwtICB0aGlzLnJvdysyLCB0aGlzLmNvbCArMlxuICAgICAgICovXG4gICAgICAgIHZhciB0b1JpZ2h0ID0gZmFsc2U7XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDNdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvUmlnaHQ7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrTGVmdFJpZ2h0ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgdG9SaWdodCA9IGZhbHNlO1xuICAgICAgICAvLyAzIHBvc3NpYmxlIHBvaW50cyBvZiBjb250YWN0XG4gICAgICAgIC8qXG4gICAgICB0aGlzLnJvdywgdGhpcy5jb2wgLT4gW15dXG4gICAgICB0aGlzLnJvdysxLHRoaXMuY29sLT4gWzxdWz5dXG4gICAgICB0aGlzLnJvdysyLHRoaXMuY29sLT4gW3ZdXG4gICAgICAgKi9cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9SaWdodDtcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuY2hlY2tSaWdodExlZnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qXG4gICAgICAgW15dIC0+IHRoaXMucm93LCB0aGlzLmNvbCsyXG4gICAgWzxdWz5dIC0+IHRoaXMucm93KzEsIHRoaXMuY29sKzJcbiAgICAgICBbdl0gLT4gdGhpcy5yb3crMiwgdGhpcy5jb2wrMlxuICAgICAgICovXG4gICAgICAgIHZhciB0b1JpZ2h0ID0gZmFsc2U7XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDJdKSB7XG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgKyAyXSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvUmlnaHQ7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrTGVmdExlZnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qXG4gICAgIHRoaXMucm93LHRoaXMuY29sLT4gICAgIFteXVxuICAgIHRoaXMucm93KzEsdGhpcy5jb2wgLTFbPF1bPl1cbiAgICAgdGhpcy5yb3crMix0aGlzLmNvbCAgICAgW3ZdXG4gICAgICAgKi9cbiAgICAgICAgdmFyIHRvTGVmdCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvTGVmdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvTGVmdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9MZWZ0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9MZWZ0O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnREb3duID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKlxuICAgICAgICAgICAgVHdvIFBvaW50cyBvZiBFbnRyeVxuICAgICAgICAgICB0aGlzLnJvdysxLHRoaXMuY29sLTEgWzxdW15dWz5dXG4gICAgICAgICAgIHRoaXMucm93KzIsdGhpcy5jb2wgICAgICBbdl1cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIHRvTGVmdCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgLSAxXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9MZWZ0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b0xlZnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b0xlZnQ7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHREb3duID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKlxuICAgICAgICAgVHdvIFBvaW50cyBvZiBFbnRyeVxuICAgICAgICAgIFs8XVteXVs+XSAtPiB0aGlzLnJvdysxLCB0aGlzLmNvbCszXG4gICAgICAgICAgICAgW3ZdICAtPiB0aGlzLnJvdysyLCB0aGlzLmNvbCsyXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdG9SaWdodCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAzXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b1JpZ2h0O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93dXAgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIHZhciBiZWxvdyA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMSArIG1vZGlmaWVyXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJlbG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMSArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICBiZWxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJiZWxvdyA9XCIrYmVsb3cpO1xuICAgICAgICByZXR1cm4gYmVsb3c7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3dEb3duID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgYmVsb3cgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICBiZWxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJlbG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmVsb3c7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3dMZWZ0ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgYmVsb3cgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxICsgbW9kaWZpZXJdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmKCFib2FyZG1hcFt0aGlzLnJvdyszK21vZGlmaWVyXVt0aGlzLmNvbCsxXS5lbXB0eSl7XG4gICAgICAgIC8vICAgICBiZWxvdyA9IHRydWU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgcmV0dXJuIGJlbG93O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93UmlnaHQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIHZhciBiZWxvdyA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICBiZWxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmKCFib2FyZG1hcFt0aGlzLnJvdyszK21vZGlmaWVyXVt0aGlzLmNvbCsxXS5lbXB0eSl7XG4gICAgICAgIC8vICAgICBiZWxvdyA9IHRydWU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgcmV0dXJuIGJlbG93O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIC8vIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCwwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAxOCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd3VwKGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE3ICYmIHRoaXMuY2hlY2tCZWxvd1JpZ2h0KGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd1JpZ2h0KGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2VsZlJpZ2h0KGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAxNykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTcgJiYgdGhpcy5jaGVja0JlbG93TGVmdChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3dMZWZ0KGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2VsZkxlZnQoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDE3KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93RG93bihib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5kZWxldGVTZWxmRmxpcHBlZChib2FyZG1hcCwxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NlbGZGbGlwcGVkKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuZGVjciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yb3cgPSB0aGlzLnJvdyArIDE7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLnNldGNvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29sb3IgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAxKTtcbiAgICAgICAgc3dpdGNoIChjb2xvcikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxMSwgOTgsIDIzNylcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTksIDIzNywgMTEpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0OSwgNzIsIDkwKVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDUsIDI1NSwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDY2LCAyNTUsIDI0OClcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCA2NiwgMTc2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDE1NCwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBYUGllY2U7XG59KCkpO1xuZXhwb3J0cy5YUGllY2UgPSBYUGllY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBPUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT1BpZWNlKCkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xuICAgICAgICB0aGlzLmZsaXBwZWQgPSBNYXRoLnJhbmRvbSgpIDwgMC41O1xuICAgICAgICB0aGlzLnNldGNvbG9yKCk7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAzKSArIDIpO1xuICAgICAgICAvLyAgY29uc29sZS5sb2coXCJDcmVhdGluZyBvYmplY3Q6IGNvbDpcIit0aGlzLmNvbCk7XG4gICAgfVxuICAgIE9QaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvL2hhbmRsZSBpZiByb3cgemVybyBhbmQgaWYgcGVpY2UgaXMgYWxyZWFkeSB0aGVyZSByZXR1cm4gZmFsc2UgeW91IGxvc2VcbiAgICAgICAgaWYgKHRoaXMucm93ID09IDE5KSB7XG4gICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5yb3cgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdGaXJzdFNlbGYoYm9hcmRtYXApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucm93ID09PSAwKSB7XG4gICAgICAgICAgICAvL3RoaXMuZHJhd0ZpcnN0U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAvLyB0aGlzLmRlbGV0ZUZpcnN0U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucm93ID09PSAxKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUgY29uc29sZS5sb2coXCJEZWxldGluZyBmaXJzdCBzZWxmXCIpO1xuICAgICAgICAgICAgdGhpcy5kZWxldGVGaXJzdFNlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgLy8gdGhpcy5kZWxldGVQcmV2U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAvL3RoaXMuZGVsZXRlUHJldlNlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgdGhpcy5kcmF3U2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbF0uZW1wdHkgfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bK3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVByZXZTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1NlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYWxsaW5nIERyYXdcIilcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZHJhd0ZsaXBwZWQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJEb24ndCBuZWVkIHRoaXMgbWV0aG9kIDpcIik7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRyYXdOb3RGbGlwcGVkID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQWxzbyBkb24ndCBuZWVkIHRoaXMgbWV0aG9kIDtcIik7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRlY3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVGhpcy5yb3cgPSBcIit0aGlzLnJvdyk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBkZXNjclwiKTtcbiAgICAgICAgdGhpcy5yb3cgPSB0aGlzLnJvdyArIDE7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRlbGV0ZVNlbGYgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDFdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgMV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkgPSB0cnVlO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sXS5lbXB0eSA9IHRydWU7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDFdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDFdLmVtcHR5ID0gdHJ1ZTtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZGVsZXRlUHJldlNlbGYgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAyXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDJdW3RoaXMuY29sICsgMV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2wgKyAxXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAyXVt0aGlzLmNvbF0uZW1wdHkgPSB0cnVlO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDFdW3RoaXMuY29sXS5lbXB0eSA9IHRydWU7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMl1bdGhpcy5jb2wgKyAxXS5lbXB0eSA9IHRydWU7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2wgKyAxXS5lbXB0eSA9IHRydWU7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRlbGV0ZUZpcnN0U2VsZiA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDFdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAxXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93IC0gMV1bdGhpcy5jb2xdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgLSAxXVt0aGlzLmNvbCArIDFdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvdyAtIDFdW3RoaXMuY29sICsgMV0uZW1wdHkgPSB0cnVlO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5kcmF3U2VsZiA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbF0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAxXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAxXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbF0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMV0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDFdLmVtcHR5ID0gZmFsc2U7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRyYXdGaXJzdFNlbGYgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbF0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMV0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICBib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAxXS5lbXB0eSA9IGZhbHNlO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5kb3duUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYWxsaW5nIGRvd24gcHJlc3NAXCIpXG4gICAgICAgIGlmICh0aGlzLnJvdyA8IDE4KSB7XG4gICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICsrdGhpcy5yb3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVNlbGYoYm9hcmRtYXApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmxlZnRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBpZiAodGhpcy5jb2wgPT09IDApIHtcbiAgICAgICAgICAgIC8vZG8gbm90aGluZ1xuICAgICAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb2wgPiAwKSB7XG4gICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxOSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCAtIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVNlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLS10aGlzLmNvbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLmNvbCA9PT0gOSkge1xuICAgICAgICAgICAgLy9kbyBub3RoaW5nXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29sIDwgOSkge1xuICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxldGVTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS51cFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMuZGVsZXRlU2VsZihib2FyZG1hcCk7XG4gICAgICAgIC8vIHRoaXMuZHJhdyhib2FyZG1hcCxsZWZ0KTtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuc2V0Y29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb2xvciA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDEpO1xuICAgICAgICBzd2l0Y2ggKGNvbG9yKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDExLCA5OCwgMjM3KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxOSwgMjM3LCAxMSlcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ5LCA3MiwgOTApXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0NSwgMjU1LCA2NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoNjYsIDI1NSwgMjQ4KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDY2LCAxNzYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgMTU0LCA2NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE9QaWVjZTtcbn0oKSk7XG5leHBvcnRzLk9QaWVjZSA9IE9QaWVjZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvb3JkaW5hdGVfMSA9IHJlcXVpcmUoXCIuL0Nvb3JkaW5hdGVcIik7XG52YXIgSVBpZWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIElQaWVjZSgpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcbiAgICAgICAgdGhpcy5mbGlwcGVkID0gdHJ1ZTsgLy9NYXRoLnJhbmRvbSgpIDwgMC41O1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHRoaXMuc2V0Y29sb3IoKTtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMCk7XG4gICAgfVxuICAgIElQaWVjZS5wcm90b3R5cGUuZGVjciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yb3cgPSB0aGlzLnJvdyArIDE7XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmRyYXdUb1BvaW50ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBDb3JkKSB7XG4gICAgICAgIGlmIChib2FyZG1hcFtDb3JkLnJvd10gJiYgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXSkge1xuICAgICAgICAgICAgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgICAgICBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVzLnB1c2gobmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKENvcmQucm93LCBDb3JkLmNvbCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcnlpbmcgdG8gZHJhdyBzb21ldGhpbmcgdGhhdCBkb2Vzbid0IGV4aXN0cyBhdCBib2FyZG1hcFtcIiArIENvcmQucm93ICsgXCJdW1wiICsgQ29yZC5jb2wgKyBcIl1cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZGVsZXRlVG9Qb2ludCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgeCwgeSkge1xuICAgICAgICBpZiAoYm9hcmRtYXBbeF0gJiYgYm9hcmRtYXBbeF1beV0pIHtcbiAgICAgICAgICAgIGJvYXJkbWFwW3hdW3ldLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICAgICAgYm9hcmRtYXBbeF1beV0uZW1wdHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcnlpbmcgdG8gZGVsZXRlIHNvbWV0aGluZyB0aGF0IGRvZXNuJ3QgZXhpc3RzIGF0IGJvYXJkbWFwW1wiICsgeCArIFwiXVtcIiArIHkgKyBcIl1cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZGVsZXRlQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmNvb3JkaW5hdGVzLnBvcCgpO1xuICAgICAgICAgICAgdGhpcy5kZWxldGVUb1BvaW50KGJvYXJkbWFwLCBjdXJyZW50LnJvdywgY3VycmVudC5jb2wpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLnNldGNvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29sb3IgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAxKTtcbiAgICAgICAgc3dpdGNoIChjb2xvcikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxMSwgOTgsIDIzNylcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTksIDIzNywgMTEpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0OSwgNzIsIDkwKVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDUsIDI1NSwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDY2LCAyNTUsIDI0OClcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCA2NiwgMTc2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDE1NCwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLmZsaXBwZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA+PSAtMSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0xlZnRWZXJ0aWNhbChib2FyZG1hcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIC0tdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIC8vdGhpcy5kcmF3VmVydGljYWwoYm9hcmRtYXAsbGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb2wgPj0gMCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0xlZnRIb3Jpem9udGFsKGJvYXJkbWFwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgLS10aGlzLmNvbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIC8vdGhpcy5kcmF3SG9yaXpvbnRhbChib2FyZG1hcCxsZWZ0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8qXG5bIF1bKl1bIF1bIF0gICAgIFsgXVsgXVsgXVsgXVxuWyBdWypdWyBdWyBdICAgICBbKl1bKl1bKl1bKl1cblsgXVsqXVsgXVsgXSAgICAgWyBdWyBdWyBdWyBdXG5bIF1bKl1bIF1bIF0gICAgIFsgXVsgXVsgXVsgXVxuXG4qL1xuICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb2wgPCAxMSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1JpZ2h0VmVydGljYWwoYm9hcmRtYXApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICArK3RoaXMuY29sO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA2KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrUmlnaHRIb3Jpem9udGFsKGJvYXJkbWFwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLmNvbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLypcbiAgICAgICBbIF1bKl1bIF1bIF0gICAgIFsgXVsgXVsgXVsgXVxuICAgICAgIFsgXVsqXVsgXVsgXSAtPiAgWypdWypdWypdWypdXG4gICAgICAgWyBdWypdWyBdWyBdICAgICBbIF1bIF1bIF1bIF1cbiAgICAgICBbIF1bKl1bIF1bIF0gICAgIFsgXVsgXVsgXVsgXVxuXG4gICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuZmxpcHBlZCkge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIk5vdCBpbXBsZW1lbnRlZFwiKVxuICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrVmVydGljYWxUb0hvcml6b250YWwoYm9hcmRtYXApKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mbGlwcGVkID0gIXRoaXMuZmxpcHBlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICBbIF1bIF1bIF1bIF0gICAgWyBdWypdWyBdWyBdXG4gICAgICBbKl1bKl1bKl1bKl0gLT4gWyBdWypdWyBdWyBdXG4gICAgICBbIF1bIF1bIF1bIF0gICAgWyBdWypdWyBdWyBdXG4gICAgICBbIF1bIF1bIF1bIF0gICAgWyBdWypdWyBdWyBdXG4gICAgICAqL1xuICAgICAgICBlbHNlIHsgLy9ob3Jpem9udGFsXG4gICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tIb3Jpem9udGFsVG9WZXJ0aWNhbChib2FyZG1hcCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZsaXBwZWQgPSAhdGhpcy5mbGlwcGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZXR1cm4gdGhpcy5mbGlwcGVkO1xuICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcIkNoYW5nZSBBZ2FpblwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5jaGVja1ZlcnRpY2FsVG9Ib3Jpem9udGFsID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIC8qXG4gICAgIFsgXVsqXVsgXVsgXSAgICAgWyBdWyBdWyBdWyBdXG4gICAgIFsgXVsqXVsgXVsgXSAtPiAgWypdWypdWypdWypdXG4gICAgIFsgXVsqXVsgXVsgXSAgICAgWyBdWyBdWyBdWyBdXG4gICAgIFsgXVsqXVsgXVsgXSAgICAgWyBdWyBdWyBdWyBdXG5cbiAgICAgKi9cbiAgICAgICAgdmFyIG5vdGVtcHR5ID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmNvbCA+IDYpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAzXS5lbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vdGVtcHR5O1xuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5jaGVja0hvcml6b250YWxUb1ZlcnRpY2FsID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIC8qXG4gICAgICBbIF1bIF1bIF1bIF0gICAgWyBdWypdWyBdWyBdXG4gICAgICBbKl1bKl1bKl1bKl0gLT4gWyBdWypdWyBdWyBdXG4gICAgICBbIF1bIF1bIF1bIF0gICAgWyBdWypdWyBdWyBdXG4gICAgICBbIF1bIF1bIF1bIF0gICAgWyBdWypdWyBdWyBdXG4gICAgICAqL1xuICAgICAgICB2YXIgbm90ZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucm93ID4gMTcpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgM11bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vdGVtcHR5O1xuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kb3duUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLy92ZXJ0aWNhbFxuICAgICAgICAvKlxuICAgICAgICBbIF1bIF1bIF1bIF0gIFsgXVsqXVsgXVsgXVxuICAgICAgICBbKl1bKl1bKl1bKl0gIFsgXVsqXVsgXVsgXVxuICAgICAgICBbIF1bIF1bIF1bIF0gIFsgXVsqXVsgXVsgXVxuICAgICAgICBbIF1bIF1bIF1bIF0gIFsgXVsqXVsgXVsgXVxuICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxNikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0JlbG93VmVydGljYWwoYm9hcmRtYXAsIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdysrO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmRyYXdWZXJ0aWNhbChib2FyZG1hcCwwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5kcmF3KGJvYXJkbWFwLDApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvL2hvcml6b250YWxcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQmVsb3dIb3Jpem9udGFsKGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3crKztcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLmRyYXdIb3Jpem9udGFsKGJvYXJkbWFwLDApO1xuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiB0aGlzLmRyYXcoYm9hcmRtYXAsMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5kcmF3KGJvYXJkbWFwLDApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy90aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLmZsaXBwZWQpIHtcbiAgICAgICAgICAgIHZhciByZXR1cm52YWwgPSB0aGlzLmRyYXdGbGlwcGVkKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgICAgIHJldHVybiByZXR1cm52YWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kcmF3Tm90RmxpcHBlZChib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhd1ZlcnRpY2FsID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8qXG4gICAgICAgICBbIF1bKl1bIF1bIF1cbiAgICAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgICAgWyBdWypdWyBdWyBdXG4gICAgICAgICBbIF1bKl1bIF1bIF1cbiAgICAgICAgIHRoaXMucm93LCB0aGlzLmNvbCsxXG4gICAgICAgICB0aGlzLnJvdysxLCB0aGlzLmNvbCsxXG4gICAgICAgICB0aGlzLnJvdysyLCB0aGlzLmNvbCsxXG4gICAgICAgICB0aGlzLnJvdyszLCB0aGlzLmNvbCsxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3csIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMiwgdGhpcy5jb2wgKyAxKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDMsIHRoaXMuY29sICsgMSkpO1xuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kcmF3SG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvKlxuICAgICAgIFsgXVsgXVsgXVsgXVxuICAgICAgIFsqXVsqXVsqXVsqXVxuICAgICAgIFsgXVsgXVsgXVsgXVxuICAgICAgIFsgXVsgXVsgXVsgXVxuICAgICAgIHRoaXMucm93KzEsIHRoaXMuY29sXG4gICAgICAgdGhpcy5yb3crMSwgdGhpcy5jb2wrMVxuICAgICAgIHRoaXMucm93KzEsIHRoaXMuY29sKzJcbiAgICAgICB0aGlzLnJvdysxLCB0aGlzLmNvbCszXG4gICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAxKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMikpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDMpKTtcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuY2hlY2tMZWZ0VmVydGljYWwgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLypcbiAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgWyBdWypdWyBdWyBdXG4gICAgICBbIF1bKl1bIF1bIF1cbiAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgKi9cbiAgICAgICAgdmFyIGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuY29sIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMucm93OyBpIDwgdGhpcy5yb3cgKyA0OyArK2kpIHtcbiAgICAgICAgICAgIGlmICghYm9hcmRtYXBbaV1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJsb2NrZWQ7XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHRWZXJ0aWNhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvKlxuICAgICAgWyBdWypdWyBdWyBdXG4gICAgICBbIF1bKl1bIF1bIF1cbiAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgWyBdWypdWyBdWyBdXG4gICAgICAqL1xuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jb2wgPiA3KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5yb3c7IGkgPCB0aGlzLnJvdyArIDQ7ICsraSkge1xuICAgICAgICAgICAgaWYgKCFib2FyZG1hcFtpXVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJsb2NrZWQ7XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHRIb3Jpem9udGFsID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIC8qXG4gICAgICAgICAgICAgIFsgXVsgXVsgXVsgXVxuICAgICAgICAgICAgICBbKl1bKl1bKl1bKl1cbiAgICAgICAgICAgICAgWyBdWyBdWyBdWyBdXG4gICAgICAgICAgICAgIFsgXVsgXVsgXVsgXVxuICAgICAgICAgICAgICAqL1xuICAgICAgICByZXR1cm4gIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyA0XS5lbXB0eTtcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuY2hlY2tMZWZ0SG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvKlxuICAgICAgWyBdWyBdWyBdWyBdXG4gICAgICBbKl1bKl1bKl1bKl1cbiAgICAgIFsgXVsgXVsgXVsgXVxuICAgICAgWyBdWyBdWyBdWyBdXG4gICAgICAqL1xuICAgICAgICBpZiAodGhpcy5jb2wgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCAtIDFdLmVtcHR5O1xuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93SG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgLypcblsgXVsgXVsgXVsgXVxuWypdWypdWypdWypdXG5bIF1bIF1bIF1bIF1cblsgXVsgXVsgXVsgXVxuKi9cbiAgICAgICAgdmFyIGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucm93ICsgMiArIG1vZGlmaWVyID09PSAyMCkge1xuICAgICAgICAgICAgLy9kb2Vzbid0IGV4aXN0IHJldHVyblxuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5jb2w7IGkgPCB0aGlzLmNvbCArIDQ7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW2ldLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxvY2tlZDtcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuY2hlY2tCZWxvd1ZlcnRpY2FsID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKlxuWyBdWypdWyBdWyBdXG5bIF1bKl1bIF1bIF1cblsgXVsqXVsgXVsgXVxuWyBdWypdWyBdWyBdXG4qL1xuICAgICAgICBpZiAodGhpcy5yb3cgKyAzID09PSAyMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFib2FyZG1hcFt0aGlzLnJvdyArIDMgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAxXS5lbXB0eTtcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhd0ZsaXBwZWQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLypcbiAgICAgICAgWyBdWypdWyBdWyBdXG4gICAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgICBbIF1bKl1bIF1bIF1cbiAgICAgICAgWyBdWypdWyBdWyBdXG4gICAgKi9cbiAgICAgICAgaWYgKHRoaXMucm93ID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93VmVydGljYWwoYm9hcmRtYXAsIDEpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vZ2FtZSBpcyBkb25lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3VmVydGljYWwoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvL25vdCAwXG4gICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxNykge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0JlbG93VmVydGljYWwoYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdWZXJ0aWNhbChib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kcmF3Tm90RmxpcHBlZCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvKlxuICAgICAgICAgICBbIF1bIF1bIF1bIF1cbiAgICAgICAgICAgWypdWypdWypdWypdXG4gICAgICAgICAgIFsgXVsgXVsgXVsgXVxuICAgICAgICAgICBbIF1bIF1bIF1bIF1cbiAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5yb3cgPT09IDApIHsgLy8gUmVhbGx5IHNob3VsZG4ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHRoaXMgY2FzZSwgSSB0aGluayBpdCBzaG91bGQgc3BhbiB2ZXJ0aWNhbCBldmVyeXRpbWUuXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93SG9yaXpvbnRhbChib2FyZG1hcCwgLTEpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdIb3Jpem9udGFsKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yb3cgPCAyMSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQmVsb3dIb3Jpem9udGFsKGJvYXJkbWFwLCAtMSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdIb3Jpem9udGFsKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJUGllY2U7XG59KCkpO1xuZXhwb3J0cy5JUGllY2UgPSBJUGllY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBJUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QbGF5ZXJzL0lQaWVjZVwiKTtcbnZhciBPUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QbGF5ZXJzL09QaWVjZVwiKTtcbnZhciBYUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QbGF5ZXJzL1hQaWVjZVwiKTtcbnZhciBUUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVFBpZWNlKGJvYXJkbWFwKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb2xvciA9IFwicmdiKDY2LCA2NiwgNjYpXCI7XG4gICAgICAgIC8vdGhpcy5raW5kID0ga2luZDtcbiAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgfVxuICAgIFRQaWVjZS5wcm90b3R5cGUucHJpbnRCb2FyZCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxMDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW2ldW2pdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZyArIFwieFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgXCJvXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coc3RyaW5nKTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJfXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmluaXRQID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNwZWljZUxpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVR5cGUoKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIucm93ID0gLTE7XG4gICAgICAgIHRoaXMuZmlyc3RUaW1lID0gdHJ1ZTtcbiAgICAgICAgLy90aGlzLnBsYXllci5jb2wgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAwKTtcbiAgICAgICAgdGhpcy5jaGVja0JvYXJkRm9yUm93cyhib2FyZG1hcCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmxlZnRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICB0aGlzLnBsYXllci5sZWZ0UHJlc3MoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICB0aGlzLmRyYXcoYm9hcmRtYXAsIGxlZnQpO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMucGxheWVyLnJpZ2h0UHJlc3MoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICB0aGlzLmRyYXcoYm9hcmRtYXAsIGxlZnQpO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS51cFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8vICB0aGlzLnByaW50Qm9hcmQoYm9hcmRtYXApO1xuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiQXR0ZW1wdGluZyB0cmFuc2Zvcm1hdGlvblwiKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIudXBQcmVzcyhib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIC8vIHRoaXMucHJpbnRCb2FyZChib2FyZG1hcCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmRvd25QcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICB0aGlzLnBsYXllci5kb3duUHJlc3MoYm9hcmRtYXApO1xuICAgICAgICB0aGlzLmRyYXcoYm9hcmRtYXAsIGxlZnQpO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5nZW5lcmF0ZVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0eXBlID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDMpICsgMSk7XG4gICAgICAgIC8vICBzd2l0Y2godHlwZSl7XG4gICAgICAgIC8vICAgICAgY2FzZSAwOlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIjBcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICAgY2FzZSAxOlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIlRcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICAgY2FzZSAyOlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIklcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICAgY2FzZSAzOlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIlNcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICAgY2FzZSA0OlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIlpcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICAgY2FzZSA1OlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIkpcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICAgY2FzZSA2OlxuICAgICAgICAvLyAgICAgICAgICB0aGlzLmtpbmQgPSBcIkxcIjtcbiAgICAgICAgLy8gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICB9XG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhcInR5cGUgaGVyZSA9IFwiK3R5cGUpO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBcIklcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBcIlhcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzLmtpbmQgPSBcIklcIjtcbiAgICAgICAgLy8gdGhpcy5raW5kID0gXCJYXCI7XG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkFib3V0IHRvIGRvIG5leHQga2luZDpcIit0aGlzLmtpbmQpO1xuICAgICAgICBpZiAodGhpcy5raW5kID09PSBcIklcIikge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgSVBpZWNlXzEuSVBpZWNlKCk7IC8vbmV3IE9QaWVjZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCIwXCIpIHtcbiAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIE9waWVjZVwiKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IE9QaWVjZV8xLk9QaWVjZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCJYXCIpIHtcbiAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIE9waWVjZVwiKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFhQaWVjZV8xLlhQaWVjZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcImNhbGxpbmcgZHJhd1wiKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IElQaWVjZV8xLklQaWVjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXR1cm52YWwgPSB0aGlzLnBsYXllci5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IElQaWVjZV8xLklQaWVjZSgpO1xuICAgICAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldHVybnZhbDtcbiAgICB9O1xuICAgIC8vIGRyYXdJRmxpcHBlZChib2FyZG1hcDpQaWVjZVtdW10sbGVmdDpudW1iZXIpey8vdmVydGljbGVcbiAgICAvLyAgICAgIHZhciB2YWx0b3JldHVybiA9IHRoaXMucGxheWVyLmRyYXdGbGlwcGVkKGJvYXJkbWFwLGxlZnQpO1xuICAgIC8vICAgICAgaWYgKHRoaXMucGxheWVyLmRvbmUpe1xuICAgIC8vICAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgLy8gICAgICB9XG4gICAgLy8gICAgICByZXR1cm4gdmFsdG9yZXR1cm47XG4gICAgLy8gfVxuICAgIC8vIGRyYXdJTm90RmxpcHBlZChib2FyZG1hcDpQaWVjZVtdW10sbGVmdDpudW1iZXIpeyAvL2hvcml6b250YWxcbiAgICAvLyAgICAgdmFyIHZhbHRvcmV0dXJuID0gdGhpcy5wbGF5ZXIuZHJhd05vdEZsaXBwZWQoYm9hcmRtYXAsbGVmdCk7XG4gICAgLy8gICAgIGlmKHRoaXMucGxheWVyLmRvbmUpe1xuICAgIC8vICAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgcmV0dXJuIHZhbHRvcmV0dXJuO1xuICAgIC8vIH1cbiAgICBUUGllY2UucHJvdG90eXBlLmRlY3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGxheWVyLmRlY3IoKTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuY2hlY2tCb2FyZEZvclJvd3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYWxsaW5nIGRyYXdcIik7XG4gICAgICAgIHZhciBoZWlnaHQgPSAyMDtcbiAgICAgICAgdmFyIHdpZHRoID0gMTA7XG4gICAgICAgIGZvciAodmFyIGkgPSBoZWlnaHQgLSAxOyBpID4gLTE7IGktLSkge1xuICAgICAgICAgICAgdmFyIE5lZWRUb0RlbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gd2lkdGggLSAxOyBqID4gLTE7IGotLSkge1xuICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFtpXVtqXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBOZWVkVG9EZWxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTmVlZFRvRGVsZXRlKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IGk7IGsgPiAxOyAtLWspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCB3aWR0aDsgKytsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFtrXVtsXS5lbXB0eSA9IGJvYXJkbWFwW2sgLSAxXVtsXS5lbXB0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW2tdW2xdLmNvbG9yID0gYm9hcmRtYXBbayAtIDFdW2xdLmNvbG9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgd2lkdGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFswXVtqXS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwWzBdW2pdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yOyAvLyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tCb2FyZEZvclJvd3MoYm9hcmRtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVFBpZWNlO1xufSgpKTtcbmV4cG9ydHMuVFBpZWNlID0gVFBpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGllY2UoY29sb3IsIGxlZnQsIHRvcCkge1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMudG9wID0gdG9wO1xuICAgIH1cbiAgICBQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChjdHgsIG9mZnNldCkge1xuICAgICAgICAvLyB0aGlzLmxlZnQgPSBvZmZzZXQ7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5sZWZ0ICsgMiArIG9mZnNldCwgdGhpcy50b3AgKyAyICsgNjAsIDM4LCAzOCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGllY2U7XG59KCkpO1xuZXhwb3J0cy5QaWVjZSA9IFBpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QaWVjZS9QaWVjZVwiKTtcbnZhciBUUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QaWVjZS9UUGllY2VcIik7XG52YXIgQm9hcmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm9hcmQoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15Q2FudmFzJyk7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gJ3JnYigzOCwgMzcsIDM3KSc7IC8vYmxhY2tcbiAgICAgICAgdGhpcy5ib2FyZG1hcCA9IFtdO1xuICAgICAgICB0aGlzLnplcm9Cb2FyZCgpO1xuICAgICAgICB0aGlzLmluaXRCb2FyZCgpO1xuICAgICAgICB0aGlzLmdhbWVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50ID0gbmV3IFRQaWVjZV8xLlRQaWVjZSh0aGlzLmJvYXJkbWFwKTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgICAgIHRoaXMubGVmdCA9IGNlbnRlciAtIDIwMDtcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBtb3VzZVBvcyA9IHRoaXMuZ2V0VG91Y2hQb3ModGhpcy5jYW52YXMsIGUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUb3VjaGluZ1wiKTtcbiAgICAgICAgICAgIGlmIChtb3VzZVBvcy54ID4gY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50LnJpZ2h0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vdXNlUG9zLnggPCBjZW50ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnQubGVmdFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG4gICAgQm9hcmQucHJvdG90eXBlLmdldFRvdWNoUG9zID0gZnVuY3Rpb24gKGNhbnZhc0RvbSwgdG91Y2hFdmVudCkge1xuICAgICAgICB2YXIgcmVjdCA9IGNhbnZhc0RvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHRvdWNoRXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0gcmVjdC5sZWZ0LFxuICAgICAgICAgICAgeTogdG91Y2hFdmVudC50b3VjaGVzWzBdLmNsaWVudFkgLSByZWN0LnRvcFxuICAgICAgICB9O1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmdldFBpZWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50O1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmdldENlbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy53aWR0aCAvIDIpO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmtleVByZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAnMzgnKSB7XG4gICAgICAgICAgICAvLyB1cCBhcnJvd1xuICAgICAgICAgICAgdGhpcy50LnVwUHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gJzQwJykge1xuICAgICAgICAgICAgdGhpcy50LmRvd25QcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PSAnMzcnKSB7XG4gICAgICAgICAgICAvLyBsZWZ0IGFycm93XG4gICAgICAgICAgICB0aGlzLnQubGVmdFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICczOScpIHtcbiAgICAgICAgICAgIC8vIHJpZ2h0IGFycm93XG4gICAgICAgICAgICB0aGlzLnQucmlnaHRQcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZGVjclRpbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiR2FtZSBpbiBwb3JncmVzc1wiKTtcbiAgICAgICAgICAgIHRoaXMudC5kZWNyKCk7XG4gICAgICAgICAgICB2YXIgc3VjY2VzcyA9IHRoaXMudC5kcmF3KHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJObyBpbiBwcm9ncmVzc1wiKTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS56ZXJvQm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmluaXRCb2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgICAgIHZhciBsZWZ0ID0gY2VudGVyIC0gMjAwO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB2YXIgdG9wID0gNjA7XG4gICAgICAgIHZhciBsb2NhbGNvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gICAgICAgICAgICAvL2kgPSByb3dzXG4gICAgICAgICAgICB2YXIgbWlkZGxlTGlzdCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxMDsgKytqKSB7XG4gICAgICAgICAgICAgICAgLy9jb2x1bW5zXG4gICAgICAgICAgICAgICAgdmFyIHB1c2htZVBlYWNlID0gbmV3IFBpZWNlXzEuUGllY2UobG9jYWxjb2xvciwgKGogKiA0MCksIChpICogNDApKTtcbiAgICAgICAgICAgICAgICBwdXNobWVQZWFjZS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbWlkZGxlTGlzdC5wdXNoKHB1c2htZVBlYWNlKTtcbiAgICAgICAgICAgICAgICAvL3RoaXMuYm9hcmRtYXBbaS0xXVtqLTFdID0gbmV3IFNwZWFjZShsb2NhbGNvbG9yLGxlZnQrKGoqNDApLHRvcCsoaSo0MCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ib2FyZG1hcC5wdXNoKG1pZGRsZUxpc3QpO1xuICAgICAgICAgICAgbWlkZGxlTGlzdCA9IFtdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZHJhd0JvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnplcm9Cb2FyZCgpO1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcbiAgICAgICAgdmFyIGxlZnQgPSBjZW50ZXIgLSAyMDA7XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ3JnYigyNTUsIDI1NSwgMjU1KSc7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QobGVmdCwgNjAsIDQwMCwgODAwKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZXMobGVmdCk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmJvYXJkbWFwOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHRvcGVudHJ5ID0gX2FbX2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCB0b3BlbnRyeV8xID0gdG9wZW50cnk7IF9iIDwgdG9wZW50cnlfMS5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSB0b3BlbnRyeV8xW19iXTtcbiAgICAgICAgICAgICAgICBlbnRyeS5kcmF3KHRoaXMuY3R4LCBsZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmRyYXdMaW5lcyA9IGZ1bmN0aW9uIChsZWZ0KSB7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ3JnYig5MSwgODksIDg5KSc7XG4gICAgICAgIHZhciBsaW5lQm90dG9tID0gNjA7XG4gICAgICAgIHZhciBsaW5lVG9wID0gNjAgKyA4MDA7XG4gICAgICAgIC8vRHJhdyBob3Jpem9udGFsIGxpbmVzXG4gICAgICAgIGZvciAodmFyIG9mZnNldCA9IDQwOyBvZmZzZXQgPCA0MDA7IG9mZnNldCA9IG9mZnNldCArIDQwKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8obGVmdCArIG9mZnNldCwgbGluZUJvdHRvbSk7XG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8obGVmdCArIG9mZnNldCwgbGluZVRvcCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSA2MDsgb2Zmc2V0IDwgODAwICsgNjA7IG9mZnNldCA9IG9mZnNldCArIDQwKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8obGVmdCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyhsZWZ0ICsgNDAwLCBvZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCb2FyZDtcbn0oKSk7XG5leHBvcnRzLkJvYXJkID0gQm9hcmQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBCb2FyZF8xID0gcmVxdWlyZShcIi4vQm9hcmQvQm9hcmRcIik7XG52YXIgYm9hcmQgPSBuZXcgQm9hcmRfMS5Cb2FyZCgpO1xuZnVuY3Rpb24gZHJhd0JvYXJkKCkge1xuICAgIC8vY29uc29sZS5sb2coXCJDYWxsaW5nIGRyYXcgYm9hcmRcIilcbiAgICBib2FyZC5kcmF3Qm9hcmQoKTtcbn1cbjtcbmZ1bmN0aW9uIGRlc2NUaW1lKCkge1xuICAgIGJvYXJkLmRlY3JUaW1lKCk7XG59XG4vLyBib2FyZC5kcmF3Qm9hcmQoKTtcbnZhciB0aW1lckZvckxvYWRpbmdSZXN1bHQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZHJhd0JvYXJkLCAyMCk7XG52YXIgdGltZXJGb3JMb2FkaW5nUmVzdWx0ID0gd2luZG93LnNldEludGVydmFsKGRlc2NUaW1lLCA0MDApO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjaGVjaywgZmFsc2UpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJnYW1lcGFkY29ubmVjdGVkXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgY29uc29sZS5sb2coXCJHYW1lcGFkIGNvbm5lY3RlZCBhdCBpbmRleCAlZDogJXMuICVkIGJ1dHRvbnMsICVkIGF4ZXMuXCIsIGUuZ2FtZXBhZC5pbmRleCwgZS5nYW1lcGFkLmlkLCBlLmdhbWVwYWQuYnV0dG9ucy5sZW5ndGgsIGUuZ2FtZXBhZC5heGVzLmxlbmd0aCk7XG59KTtcbmZ1bmN0aW9uIGNoZWNrKGUpIHtcbiAgICBib2FyZC5rZXlQcmVzcyhlKTtcbn1cbndpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGJvYXJkLmRyYXdCb2FyZCgpO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=