!function(t){var e={};function r(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(){}}();e.MatrixSet=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(0);e.Ishape=new i.MatrixSet,e.Ishape.matrix1=[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],e.Ishape.matrix2=[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],e.Ishape.matrix3=[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],e.Ishape.matrix4=[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],e.OShape=new i.MatrixSet,e.OShape.matrix1=[[1,1],[1,1]],e.OShape.matrix2=[[1,1],[1,1]],e.OShape.matrix3=[[1,1],[1,1]],e.OShape.matrix4=[[1,1],[1,1]],e.Jshape=new i.MatrixSet,e.Jshape.matrix1=[[0,1,0],[0,1,0],[1,1,0]],e.Jshape.matrix2=[[1,0,0],[1,1,1],[0,0,0]],e.Jshape.matrix3=[[0,1,1],[0,1,0],[0,1,0]],e.Jshape.matrix4=[[0,0,0],[1,1,1],[0,0,1]],e.Lshape=new i.MatrixSet,e.Lshape.matrix1=[[0,1,0],[0,1,0],[0,1,1]],e.Lshape.matrix2=[[0,0,0],[1,1,1],[1,0,0]],e.Lshape.matrix3=[[1,1,0],[0,1,0],[0,1,0]],e.Lshape.matrix4=[[0,0,1],[1,1,1],[0,0,0]],e.Sshape=new i.MatrixSet,e.Sshape.matrix1=[[0,1,0],[0,1,1],[0,0,1]],e.Sshape.matrix2=[[0,0,0],[0,1,1],[1,1,0]],e.Sshape.matrix3=[[0,1,0],[0,1,1],[0,0,1]],e.Sshape.matrix4=[[0,0,0],[0,1,1],[1,1,0]],e.Tshape=new i.MatrixSet,e.Tshape.matrix1=[[0,1,0],[1,1,1],[0,0,0]],e.Tshape.matrix2=[[0,1,0],[0,1,1],[0,1,0]],e.Tshape.matrix3=[[0,0,0],[1,1,1],[0,1,0]],e.Tshape.matrix4=[[0,1,0],[1,1,0],[0,1,0]],e.Zshape=new i.MatrixSet,e.Zshape.matrix1=[[0,0,1],[0,1,1],[0,1,0]],e.Zshape.matrix2=[[0,0,0],[1,1,0],[0,1,1]],e.Zshape.matrix3=[[0,0,1],[0,1,1],[0,1,0]],e.Zshape.matrix4=[[0,0,0],[1,1,0],[0,1,1]]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){this.row=t,this.col=e}}();e.Coordinate=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),o=function(){function t(t){this.originalColor="rgb(66, 66, 66)",this.matrixes=t,this.coordinates=[],this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+2),this.state=1}return t.prototype.leftPress=function(t,e){this.checkBelowWrapper(t,this.row,this.col-1)&&this.col--},t.prototype.rightPress=function(t,e){this.checkBelowWrapper(t,this.row,this.col+1)&&this.col++},t.prototype.upPress=function(t,e){var r=this,i=this.deleteCoordinates(t),o=this.state;this.incrementState(),this.checkBelowWrapper(t,this.row,this.col)||(this.state=o,i.forEach(function(e){r.drawToPoint(t,e)}))},t.prototype.downPress=function(t){this.checkBelowWrapper(t,this.row+1,this.col)&&this.row++},t.prototype.draw=function(t,e){return this.checkBelowWrapper(t,this.row,this.col)?(this.deleteCoordinates(t),this.drawMatrixWrapper(t),!0):(this.done=!0,0!==this.row)},t.prototype.checkBelowWrapper=function(t,e,r){switch(this.state){case 1:return this.checkBelow(t,this.matrixes.matrix1,e,r);case 2:return this.checkBelow(t,this.matrixes.matrix2,e,r);case 3:return this.checkBelow(t,this.matrixes.matrix3,e,r);case 4:return this.checkBelow(t,this.matrixes.matrix4,e,r)}},t.prototype.drawMatrix=function(t,e){for(var r=0;r<e.length;++r)for(var o=0;o<e[r].length;++o)1===e[r][o]&&this.drawToPoint(t,new i.Coordinate(this.row+r,this.col+o))},t.prototype.drawMatrixWrapper=function(t){switch(this.state){case 1:this.drawMatrix(t,this.matrixes.matrix1);break;case 2:this.drawMatrix(t,this.matrixes.matrix2);break;case 3:this.drawMatrix(t,this.matrixes.matrix3);break;case 4:this.drawMatrix(t,this.matrixes.matrix4)}},t.prototype.checkBelow=function(t,e,r,i){var o=this,s=this.deleteCoordinates(t);return!!this.checkIfFits(r,i,t,e)||(s.forEach(function(e){o.drawToPoint(t,e)}),!1)},t.prototype.checkIfFits=function(t,e,r,i){for(var o=0;o<i.length;++o)for(var s=0;s<i[o].length;++s)if(1===i[o][s]){if(!r[t+o]||!r[t+o][e+s])return!1;if(!r[t+o][e+s].empty)return!1}return!0},t.prototype.decr=function(){this.row=this.row+1},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t.prototype.drawToPoint=function(t,e){t[e.row]&&t[e.row][e.col]?(t[e.row][e.col].color=this.color,t[e.row][e.col].empty=!1,this.coordinates.push(new i.Coordinate(e.row,e.col))):console.log("Trying to draw something that doesn't exists at boardmap["+e.row+"]["+e.col+"]")},t.prototype.deleteToPoint=function(t,e,r){t[e]&&t[e][r]?(t[e][r].color=this.originalColor,t[e][r].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+e+"]["+r+"]")},t.prototype.deleteCoordinates=function(t){for(var e=[];this.coordinates.length>0;){var r=this.coordinates.pop();e.push(r),this.deleteToPoint(t,r.row,r.col)}return e},t.prototype.incrementState=function(){this.state<4?++this.state:this.state=1},t}();e.Player=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),o=r(1),s=function(){function t(t){this.originalColor="rgb(66, 66, 66)",this.initP(t)}return t.prototype.printBoard=function(t){for(var e=0;e<20;++e){for(var r="",i=0;i<10;++i)t[e][i].empty?r+="x":r+="o";console.log(r)}},t.prototype.initP=function(t){this.started=!1,this.speiceList=[],this.generateType(),this.player.row=-1,this.firstTime=!0,this.checkBoardForRows(t)},t.prototype.leftPress=function(t,e){this.player.leftPress(t,e),this.draw(t,e)},t.prototype.rightPress=function(t,e){this.player.rightPress(t,e),this.draw(t,e)},t.prototype.upPress=function(t,e){this.player.upPress(t,e),this.draw(t,e)},t.prototype.downPress=function(t,e){this.player.downPress(t),this.draw(t,e)},t.prototype.generateType=function(){switch(Math.floor(6*Math.random()+1)){case 1:this.kind="I";break;case 2:this.kind="0";break;case 3:this.kind="T";break;case 4:this.kind="J";break;case 5:this.kind="L";break;case 6:this.kind="Z";case 7:this.kind="S"}"Z"===this.kind?this.player=new i.Player(o.Zshape):"I"===this.kind?this.player=new i.Player(o.Ishape):"0"===this.kind?this.player=new i.Player(o.OShape):"T"===this.kind?this.player=new i.Player(o.Tshape):"J"===this.kind?this.player=new i.Player(o.Jshape):"L"===this.kind?this.player=new i.Player(o.Lshape):"S"===this.kind&&(this.player=new i.Player(o.Sshape))},t.prototype.draw=function(t,e){this.player.done&&(this.player=new i.Player(o.Zshape));var r=this.player.draw(t,e);return this.player.done&&(this.player=new i.Player(o.Zshape),this.initP(t)),r},t.prototype.decr=function(){this.player.decr()},t.prototype.checkBoardForRows=function(t){for(var e=19;e>-1;e--){for(var r=!0,i=9;i>-1;i--)t[e][i].empty&&(r=!1);if(r){for(var o=e;o>1;--o)for(var s=0;s<10;++s)t[o][s].empty=t[o-1][s].empty,t[o][s].color=t[o-1][s].color;for(i=0;i<10;i++)t[0][i].empty=!0,t[0][i].color=this.originalColor;this.checkBoardForRows(t)}}},t}();e.TPiece=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,r){this.color=t,this.left=e,this.top=r}return t.prototype.draw=function(t,e){t.fillStyle=this.color,t.fillRect(this.left+2+e,this.top+2+60,38,38)},t}();e.Piece=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),o=r(4),s=function(){function t(){this.canvas=document.querySelector(".myCanvas"),this.backgroundColor="rgb(38, 37, 37)",this.boardmap=[],this.zeroBoard(),this.initBoard(),this.gameInProgress=!0,this.t=new o.TPiece(this.boardmap);var t=this.getCenter();this.left=t-200}return t.prototype.leftPress=function(){this.t.leftPress(this.boardmap,this.left)},t.prototype.rightPress=function(){this.t.rightPress(this.boardmap,this.left)},t.prototype.upPress=function(){this.t.upPress(this.boardmap,this.left)},t.prototype.getTouchPos=function(t,e){var r=t.getBoundingClientRect();return{x:e.touches[0].clientX-r.left,y:e.touches[0].clientY-r.top}},t.prototype.getPiece=function(){return this.t},t.prototype.getCenter=function(){return Math.floor(this.width/2)},t.prototype.keyPress=function(t){"38"==t.keyCode?this.t.upPress(this.boardmap,this.left):"40"==t.keyCode?this.t.downPress(this.boardmap,this.left):"37"==t.keyCode?this.t.leftPress(this.boardmap,this.left):"39"==t.keyCode&&this.t.rightPress(this.boardmap,this.left)},t.prototype.decrTime=function(){this.gameInProgress&&(this.t.decr(),this.t.draw(this.boardmap,this.left)||(this.gameInProgress=!1))},t.prototype.zeroBoard=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.width=window.innerWidth,this.height=window.innerHeight,this.ctx=this.canvas.getContext("2d")},t.prototype.initBoard=function(){var t=this.getCenter()-200;this.left=t;for(var e=0;e<20;e++){for(var r=[],o=0;o<10;++o){var s=new i.Piece("rgb(66, 66, 66)",40*o,40*e);s.empty=!0,r.push(s)}this.boardmap.push(r),r=[]}},t.prototype.drawBoard=function(){this.zeroBoard(),this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height);var t=this.getCenter()-200;this.left=t,this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.lineWidth=1,this.ctx.strokeRect(t,60,400,800),this.drawLines(t);for(var e=0,r=this.boardmap;e<r.length;e++)for(var i=0,o=r[e];i<o.length;i++){o[i].draw(this.ctx,t)}},t.prototype.drawLines=function(t){this.ctx.strokeStyle="rgb(91, 89, 89)";for(var e=40;e<400;e+=40)this.ctx.moveTo(t+e,60),this.ctx.lineTo(t+e,860),this.ctx.stroke();for(e=60;e<860;e+=40)this.ctx.moveTo(t,e),this.ctx.lineTo(t+400,e),this.ctx.stroke()},t}();e.Board=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=new(r(6).Board);window.setInterval(function(){i.drawBoard()},20),window.setInterval(function(){i.decrTime(),50},300);window.addEventListener("keydown",function(t){i.keyPress(t)},!1),window.addEventListener("touchstart",function(t){var e=t.touches[0].pageX,r=t.touches[0].pageY;console.log("xPos = "+e+" Y:"+r),this.window.width=window.innerWidth;var o=Math.floor(window.innerWidth/2);e>o-200&&e<o+200?r>60&&r<860&&i.upPress():e<o?i.leftPress():i.rightPress()},!1),window.onresize=function(t){i.drawBoard()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL01hdHJpeFNldC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvRGF0YS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGxheWVycy9Db29yZGluYXRlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QbGF5ZXJzL1BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGllY2UvVFBpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QaWVjZS9QaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvQm9hcmQvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiTWF0cml4U2V0IiwiTWF0cml4U2V0XzEiLCJJc2hhcGUiLCJtYXRyaXgxIiwibWF0cml4MiIsIm1hdHJpeDMiLCJtYXRyaXg0IiwiT1NoYXBlIiwiSnNoYXBlIiwiTHNoYXBlIiwiU3NoYXBlIiwiVHNoYXBlIiwiWnNoYXBlIiwiQ29vcmRpbmF0ZSIsInRoaXMiLCJyb3ciLCJjb2wiLCJDb29yZGluYXRlXzEiLCJQbGF5ZXIiLCJzZXQiLCJvcmlnaW5hbENvbG9yIiwibWF0cml4ZXMiLCJjb29yZGluYXRlcyIsInNldGNvbG9yIiwiZG9uZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInN0YXRlIiwibGVmdFByZXNzIiwiYm9hcmRtYXAiLCJsZWZ0IiwiY2hlY2tCZWxvd1dyYXBwZXIiLCJyaWdodFByZXNzIiwidXBQcmVzcyIsIl90aGlzIiwiZGVsZXRlZFBvaW50cyIsImRlbGV0ZUNvb3JkaW5hdGVzIiwib2xkc3RhdGUiLCJpbmNyZW1lbnRTdGF0ZSIsImZvckVhY2giLCJwb2ludCIsImRyYXdUb1BvaW50IiwiZG93blByZXNzIiwiZHJhdyIsImRyYXdNYXRyaXhXcmFwcGVyIiwiY2hlY2tCZWxvdyIsImRyYXdNYXRyaXgiLCJtYXRyaXgiLCJsZW5ndGgiLCJqIiwiY2hlY2tJZkZpdHMiLCJlbXB0eSIsImRlY3IiLCJjb2xvciIsIkNvcmQiLCJwdXNoIiwiY29uc29sZSIsImxvZyIsImRlbGV0ZVRvUG9pbnQiLCJ4IiwieSIsInRlbXAiLCJjdXJyZW50IiwicG9wIiwiUGxheWVyXzEiLCJEYXRhXzEiLCJUUGllY2UiLCJpbml0UCIsInByaW50Qm9hcmQiLCJzdHJpbmciLCJzdGFydGVkIiwic3BlaWNlTGlzdCIsImdlbmVyYXRlVHlwZSIsInBsYXllciIsImZpcnN0VGltZSIsImNoZWNrQm9hcmRGb3JSb3dzIiwia2luZCIsInJldHVybnZhbCIsImhlaWdodCIsIk5lZWRUb0RlbGV0ZSIsIndpZHRoIiwiayIsIlBpZWNlIiwidG9wIiwiY3R4Iiwib2Zmc2V0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJQaWVjZV8xIiwiVFBpZWNlXzEiLCJCb2FyZCIsImNhbnZhcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImJhY2tncm91bmRDb2xvciIsInplcm9Cb2FyZCIsImluaXRCb2FyZCIsImdhbWVJblByb2dyZXNzIiwiY2VudGVyIiwiZ2V0Q2VudGVyIiwiZ2V0VG91Y2hQb3MiLCJjYW52YXNEb20iLCJ0b3VjaEV2ZW50IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImdldFBpZWNlIiwia2V5UHJlc3MiLCJlIiwia2V5Q29kZSIsImRlY3JUaW1lIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZ2V0Q29udGV4dCIsIm1pZGRsZUxpc3QiLCJwdXNobWVQZWFjZSIsImRyYXdCb2FyZCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlUmVjdCIsImRyYXdMaW5lcyIsIl9pIiwiX2EiLCJfYiIsInRvcGVudHJ5XzEiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJib2FyZCIsInNldEludGVydmFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInhQb3MiLCJwYWdlWCIsInlQb3MiLCJwYWdlWSIsIm9ucmVzaXplIiwiZXZlbnQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFy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LEdBQ0FxQixFQUFBdEIsU0FBQUMsS0FIQSxHQUNBRyxPQUFBb0IsaUJBQUEsYUFJQSxTQUFBdkIsR0FDQSxJQUFBd0IsRUFBQXhCLEVBQUFMLFFBQUEsR0FBQThCLE1BQ0FDLEVBQUExQixFQUFBTCxRQUFBLEdBQUFnQyxNQUNBakYsUUFBQUMsSUFBQSxVQUFBNkUsRUFBQSxNQUFBRSxHQUNBM0gsS0FBQW9HLE9BQUFqQyxNQUFBaUMsT0FBQUMsV0FDQSxJQUFBaEIsRUFBQTFFLEtBQUFDLE1BQUF3RixPQUFBQyxXQUFBLEdBQ0FvQixFQUFBcEMsRUFBQSxLQUFBb0MsRUFBQXBDLEVBQUEsSUFDQXNDLEVBQUEsSUFBQUEsRUFBQSxLQUNBTCxFQUFBbEcsVUFHQXFHLEVBQUFwQyxFQUNBaUMsRUFBQXZHLFlBR0F1RyxFQUFBbkcsZUFuQkEsR0FzQkFpRixPQUFBeUIsU0FBQSxTQUFBQyxHQUNBUixFQUFBWiIsImZpbGUiOiIuL2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE1hdHJpeFNldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNYXRyaXhTZXQoKSB7XG4gICAgfVxuICAgIHJldHVybiBNYXRyaXhTZXQ7XG59KCkpO1xuZXhwb3J0cy5NYXRyaXhTZXQgPSBNYXRyaXhTZXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBNYXRyaXhTZXRfMSA9IHJlcXVpcmUoXCIuL01hdHJpeFNldFwiKTtcbmV4cG9ydHMuSXNoYXBlID0gbmV3IE1hdHJpeFNldF8xLk1hdHJpeFNldCgpO1xuZXhwb3J0cy5Jc2hhcGUubWF0cml4MSA9IFtcbiAgICBbMCwgMSwgMCwgMF0sXG4gICAgWzAsIDEsIDAsIDBdLFxuICAgIFswLCAxLCAwLCAwXSxcbiAgICBbMCwgMSwgMCwgMF1cbl07XG5leHBvcnRzLklzaGFwZS5tYXRyaXgyID0gW1xuICAgIFswLCAwLCAwLCAwXSxcbiAgICBbMSwgMSwgMSwgMV0sXG4gICAgWzAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwXVxuXTtcbmV4cG9ydHMuSXNoYXBlLm1hdHJpeDMgPSBbXG4gICAgWzAsIDEsIDAsIDBdLFxuICAgIFswLCAxLCAwLCAwXSxcbiAgICBbMCwgMSwgMCwgMF0sXG4gICAgWzAsIDEsIDAsIDBdXG5dO1xuZXhwb3J0cy5Jc2hhcGUubWF0cml4NCA9IFtcbiAgICBbMCwgMCwgMCwgMF0sXG4gICAgWzEsIDEsIDEsIDFdLFxuICAgIFswLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMF1cbl07XG5leHBvcnRzLk9TaGFwZSA9IG5ldyBNYXRyaXhTZXRfMS5NYXRyaXhTZXQoKTtcbmV4cG9ydHMuT1NoYXBlLm1hdHJpeDEgPVxuICAgIFtbMSwgMV0sXG4gICAgICAgIFsxLCAxXV07XG5leHBvcnRzLk9TaGFwZS5tYXRyaXgyID1cbiAgICBbWzEsIDFdLFxuICAgICAgICBbMSwgMV1dO1xuZXhwb3J0cy5PU2hhcGUubWF0cml4MyA9XG4gICAgW1sxLCAxXSxcbiAgICAgICAgWzEsIDFdXTtcbmV4cG9ydHMuT1NoYXBlLm1hdHJpeDQgPVxuICAgIFtbMSwgMV0sXG4gICAgICAgIFsxLCAxXV07XG5leHBvcnRzLkpzaGFwZSA9IG5ldyBNYXRyaXhTZXRfMS5NYXRyaXhTZXQoKTtcbmV4cG9ydHMuSnNoYXBlLm1hdHJpeDEgPSBbXG4gICAgWzAsIDEsIDBdLFxuICAgIFswLCAxLCAwXSxcbiAgICBbMSwgMSwgMF1cbl07XG5leHBvcnRzLkpzaGFwZS5tYXRyaXgyID0gW1xuICAgIFsxLCAwLCAwXSxcbiAgICBbMSwgMSwgMV0sXG4gICAgWzAsIDAsIDBdXG5dO1xuZXhwb3J0cy5Kc2hhcGUubWF0cml4MyA9IFtcbiAgICBbMCwgMSwgMV0sXG4gICAgWzAsIDEsIDBdLFxuICAgIFswLCAxLCAwXVxuXTtcbmV4cG9ydHMuSnNoYXBlLm1hdHJpeDQgPSBbXG4gICAgWzAsIDAsIDBdLFxuICAgIFsxLCAxLCAxXSxcbiAgICBbMCwgMCwgMV1cbl07XG5leHBvcnRzLkxzaGFwZSA9IG5ldyBNYXRyaXhTZXRfMS5NYXRyaXhTZXQoKTtcbmV4cG9ydHMuTHNoYXBlLm1hdHJpeDEgPSBbXG4gICAgWzAsIDEsIDBdLFxuICAgIFswLCAxLCAwXSxcbiAgICBbMCwgMSwgMV1cbl07XG5leHBvcnRzLkxzaGFwZS5tYXRyaXgyID0gW1xuICAgIFswLCAwLCAwXSxcbiAgICBbMSwgMSwgMV0sXG4gICAgWzEsIDAsIDBdXG5dO1xuZXhwb3J0cy5Mc2hhcGUubWF0cml4MyA9IFtcbiAgICBbMSwgMSwgMF0sXG4gICAgWzAsIDEsIDBdLFxuICAgIFswLCAxLCAwXVxuXTtcbmV4cG9ydHMuTHNoYXBlLm1hdHJpeDQgPSBbXG4gICAgWzAsIDAsIDFdLFxuICAgIFsxLCAxLCAxXSxcbiAgICBbMCwgMCwgMF1cbl07XG5leHBvcnRzLlNzaGFwZSA9IG5ldyBNYXRyaXhTZXRfMS5NYXRyaXhTZXQoKTtcbmV4cG9ydHMuU3NoYXBlLm1hdHJpeDEgPSBbXG4gICAgWzAsIDEsIDBdLFxuICAgIFswLCAxLCAxXSxcbiAgICBbMCwgMCwgMV1cbl07XG5leHBvcnRzLlNzaGFwZS5tYXRyaXgyID0gW1xuICAgIFswLCAwLCAwXSxcbiAgICBbMCwgMSwgMV0sXG4gICAgWzEsIDEsIDBdXG5dO1xuZXhwb3J0cy5Tc2hhcGUubWF0cml4MyA9IFtcbiAgICBbMCwgMSwgMF0sXG4gICAgWzAsIDEsIDFdLFxuICAgIFswLCAwLCAxXVxuXTtcbmV4cG9ydHMuU3NoYXBlLm1hdHJpeDQgPSBbXG4gICAgWzAsIDAsIDBdLFxuICAgIFswLCAxLCAxXSxcbiAgICBbMSwgMSwgMF1cbl07XG5leHBvcnRzLlRzaGFwZSA9IG5ldyBNYXRyaXhTZXRfMS5NYXRyaXhTZXQoKTtcbmV4cG9ydHMuVHNoYXBlLm1hdHJpeDEgPSBbXG4gICAgWzAsIDEsIDBdLFxuICAgIFsxLCAxLCAxXSxcbiAgICBbMCwgMCwgMF1cbl07XG5leHBvcnRzLlRzaGFwZS5tYXRyaXgyID0gW1xuICAgIFswLCAxLCAwXSxcbiAgICBbMCwgMSwgMV0sXG4gICAgWzAsIDEsIDBdXG5dO1xuZXhwb3J0cy5Uc2hhcGUubWF0cml4MyA9IFtcbiAgICBbMCwgMCwgMF0sXG4gICAgWzEsIDEsIDFdLFxuICAgIFswLCAxLCAwXVxuXTtcbmV4cG9ydHMuVHNoYXBlLm1hdHJpeDQgPSBbXG4gICAgWzAsIDEsIDBdLFxuICAgIFsxLCAxLCAwXSxcbiAgICBbMCwgMSwgMF1cbl07XG5leHBvcnRzLlpzaGFwZSA9IG5ldyBNYXRyaXhTZXRfMS5NYXRyaXhTZXQoKTtcbmV4cG9ydHMuWnNoYXBlLm1hdHJpeDEgPSBbXG4gICAgWzAsIDAsIDFdLFxuICAgIFswLCAxLCAxXSxcbiAgICBbMCwgMSwgMF1cbl07XG5leHBvcnRzLlpzaGFwZS5tYXRyaXgyID0gW1xuICAgIFswLCAwLCAwXSxcbiAgICBbMSwgMSwgMF0sXG4gICAgWzAsIDEsIDFdXG5dO1xuZXhwb3J0cy5ac2hhcGUubWF0cml4MyA9IFtcbiAgICBbMCwgMCwgMV0sXG4gICAgWzAsIDEsIDFdLFxuICAgIFswLCAxLCAwXVxuXTtcbmV4cG9ydHMuWnNoYXBlLm1hdHJpeDQgPSBbXG4gICAgWzAsIDAsIDBdLFxuICAgIFsxLCAxLCAwXSxcbiAgICBbMCwgMSwgMV1cbl07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb29yZGluYXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvb3JkaW5hdGUociwgYykge1xuICAgICAgICB0aGlzLnJvdyA9IHI7XG4gICAgICAgIHRoaXMuY29sID0gYztcbiAgICB9XG4gICAgcmV0dXJuIENvb3JkaW5hdGU7XG59KCkpO1xuZXhwb3J0cy5Db29yZGluYXRlID0gQ29vcmRpbmF0ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvb3JkaW5hdGVfMSA9IHJlcXVpcmUoXCIuL0Nvb3JkaW5hdGVcIik7XG52YXIgUGxheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBsYXllcihzZXQpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcbiAgICAgICAgdGhpcy5tYXRyaXhlcyA9IHNldDtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IFtdO1xuICAgICAgICB0aGlzLnNldGNvbG9yKCk7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDIpO1xuICAgICAgICB0aGlzLnN0YXRlID0gMTsgLy9NYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpKjQpICsxKTtcbiAgICB9XG4gICAgO1xuICAgIFBsYXllci5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3dXcmFwcGVyKGJvYXJkbWFwLCB0aGlzLnJvdywgdGhpcy5jb2wgLSAxKSkge1xuICAgICAgICAgICAgdGhpcy5jb2wtLTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3dXcmFwcGVyKGJvYXJkbWFwLCB0aGlzLnJvdywgdGhpcy5jb2wgKyAxKSkge1xuICAgICAgICAgICAgdGhpcy5jb2wrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS51cFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZWxldGVkUG9pbnRzID0gdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgIHZhciBvbGRzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHRoaXMuaW5jcmVtZW50U3RhdGUoKTtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd1dyYXBwZXIoYm9hcmRtYXAsIHRoaXMucm93LCB0aGlzLmNvbCkpIHtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBvbGRzdGF0ZTtcbiAgICAgICAgICAgIGRlbGV0ZWRQb2ludHMuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgcG9pbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBsYXllci5wcm90b3R5cGUuZG93blByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3dXcmFwcGVyKGJvYXJkbWFwLCB0aGlzLnJvdyArIDEsIHRoaXMuY29sKSkge1xuICAgICAgICAgICAgdGhpcy5yb3crKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8vIGlmKHRoaXMucm93ID4xNyl7XG4gICAgICAgIC8vICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAvLyAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrQmVsb3dXcmFwcGVyKGJvYXJkbWFwLCB0aGlzLnJvdywgdGhpcy5jb2wpKSB7XG4gICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMucm93ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdNYXRyaXhXcmFwcGVyKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLmNoZWNrQmVsb3dXcmFwcGVyID0gZnVuY3Rpb24gKGJvYXJkbWFwLCByb3csIGNvbCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGVja0JlbG93KGJvYXJkbWFwLCB0aGlzLm1hdHJpeGVzLm1hdHJpeDEsIHJvdywgY29sKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGVja0JlbG93KGJvYXJkbWFwLCB0aGlzLm1hdHJpeGVzLm1hdHJpeDIsIHJvdywgY29sKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGVja0JlbG93KGJvYXJkbWFwLCB0aGlzLm1hdHJpeGVzLm1hdHJpeDMsIHJvdywgY29sKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGVja0JlbG93KGJvYXJkbWFwLCB0aGlzLm1hdHJpeGVzLm1hdHJpeDQsIHJvdywgY29sKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5kcmF3TWF0cml4ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtYXRyaXgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRyaXgubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWF0cml4W2ldLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdHJpeFtpXVtqXSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyBpLCB0aGlzLmNvbCArIGopKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBsYXllci5wcm90b3R5cGUuZHJhd01hdHJpeFdyYXBwZXIgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TWF0cml4KGJvYXJkbWFwLCB0aGlzLm1hdHJpeGVzLm1hdHJpeDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd01hdHJpeChib2FyZG1hcCwgdGhpcy5tYXRyaXhlcy5tYXRyaXgyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdNYXRyaXgoYm9hcmRtYXAsIHRoaXMubWF0cml4ZXMubWF0cml4Myk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TWF0cml4KGJvYXJkbWFwLCB0aGlzLm1hdHJpeGVzLm1hdHJpeDQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLmNoZWNrQmVsb3cgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1hdHJpeCwgcm93LCBjb2wpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGRlbGV0ZWRQb2ludHMgPSB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tJZkZpdHMocm93LCBjb2wsIGJvYXJkbWFwLCBtYXRyaXgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZWRQb2ludHMuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgcG9pbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBsYXllci5wcm90b3R5cGUuY2hlY2tJZkZpdHMgPSBmdW5jdGlvbiAocm93LCBjb2wsIGJvYXJkbWFwLCBtYXRyaXgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRyaXgubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWF0cml4W2ldLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdHJpeFtpXVtqXSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWJvYXJkbWFwW3JvdyArIGldIHx8ICFib2FyZG1hcFtyb3cgKyBpXVtjb2wgKyBqXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghYm9hcmRtYXBbcm93ICsgaV1bY29sICsgal0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFBsYXllci5wcm90b3R5cGUuZGVjciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yb3cgPSB0aGlzLnJvdyArIDE7XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLnNldGNvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29sb3IgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAxKTtcbiAgICAgICAgc3dpdGNoIChjb2xvcikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxMSwgOTgsIDIzNylcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTksIDIzNywgMTEpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0OSwgNzIsIDkwKVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDUsIDI1NSwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDY2LCAyNTUsIDI0OClcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCA2NiwgMTc2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDE1NCwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBsYXllci5wcm90b3R5cGUuZHJhd1RvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIENvcmQpIHtcbiAgICAgICAgaWYgKGJvYXJkbWFwW0NvcmQucm93XSAmJiBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdKSB7XG4gICAgICAgICAgICBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXMucHVzaChuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUoQ29yZC5yb3csIENvcmQuY29sKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyeWluZyB0byBkcmF3IHNvbWV0aGluZyB0aGF0IGRvZXNuJ3QgZXhpc3RzIGF0IGJvYXJkbWFwW1wiICsgQ29yZC5yb3cgKyBcIl1bXCIgKyBDb3JkLmNvbCArIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5kZWxldGVUb1BvaW50ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCB4LCB5KSB7XG4gICAgICAgIGlmIChib2FyZG1hcFt4XSAmJiBib2FyZG1hcFt4XVt5XSkge1xuICAgICAgICAgICAgYm9hcmRtYXBbeF1beV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgICAgICBib2FyZG1hcFt4XVt5XS5lbXB0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyeWluZyB0byBkZWxldGUgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdHMgYXQgYm9hcmRtYXBbXCIgKyB4ICsgXCJdW1wiICsgeSArIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5kZWxldGVDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5jb29yZGluYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuY29vcmRpbmF0ZXMucG9wKCk7XG4gICAgICAgICAgICB0ZW1wLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVRvUG9pbnQoYm9hcmRtYXAsIGN1cnJlbnQucm93LCBjdXJyZW50LmNvbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLmluY3JlbWVudFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA8IDQpIHtcbiAgICAgICAgICAgICsrdGhpcy5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAxO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUGxheWVyO1xufSgpKTtcbmV4cG9ydHMuUGxheWVyID0gUGxheWVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUGxheWVyXzEgPSByZXF1aXJlKFwiLi4vUGxheWVycy9QbGF5ZXJcIik7XG52YXIgRGF0YV8xID0gcmVxdWlyZShcIi4uL0RhdGFcIik7XG52YXIgVFBpZWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRQaWVjZShib2FyZG1hcCkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xuICAgICAgICAvL3RoaXMua2luZCA9IGtpbmQ7XG4gICAgICAgIHRoaXMuaW5pdFAoYm9hcmRtYXApO1xuICAgIH1cbiAgICBUUGllY2UucHJvdG90eXBlLnByaW50Qm9hcmQgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyMDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTA7ICsraikge1xuICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFtpXVtqXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyBcInhcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZyArIFwib1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0cmluZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuaW5pdFAgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3BlaWNlTGlzdCA9IFtdO1xuICAgICAgICB0aGlzLmdlbmVyYXRlVHlwZSgpO1xuICAgICAgICB0aGlzLnBsYXllci5yb3cgPSAtMTtcbiAgICAgICAgdGhpcy5maXJzdFRpbWUgPSB0cnVlO1xuICAgICAgICAvL3RoaXMucGxheWVyLmNvbCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDApO1xuICAgICAgICB0aGlzLmNoZWNrQm9hcmRGb3JSb3dzKGJvYXJkbWFwKTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMucGxheWVyLmxlZnRQcmVzcyhib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLnJpZ2h0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIucmlnaHRQcmVzcyhib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLy8gIHRoaXMucHJpbnRCb2FyZChib2FyZG1hcCk7XG4gICAgICAgIC8vICAgY29uc29sZS5sb2coXCJBdHRlbXB0aW5nIHRyYW5zZm9ybWF0aW9uXCIpO1xuICAgICAgICB0aGlzLnBsYXllci51cFByZXNzKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgdGhpcy5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgLy8gdGhpcy5wcmludEJvYXJkKGJvYXJkbWFwKTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuZG93blByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMucGxheWVyLmRvd25QcmVzcyhib2FyZG1hcCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmdlbmVyYXRlVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAxKTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gXCJJXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gXCIwXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gXCJUXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gXCJKXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gXCJMXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gXCJaXCI7XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gXCJTXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMua2luZCA9PT0gXCJaXCIpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcl8xLlBsYXllcihEYXRhXzEuWnNoYXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmtpbmQgPT09IFwiSVwiKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXJfMS5QbGF5ZXIoRGF0YV8xLklzaGFwZSk7IC8vbmV3IE9QaWVjZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCIwXCIpIHtcbiAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIE9waWVjZVwiKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcl8xLlBsYXllcihEYXRhXzEuT1NoYXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmtpbmQgPT09IFwiVFwiKSB7XG4gICAgICAgICAgICAvLyAgY29uc29sZS5sb2coXCJDcmVhdGluZyBPcGllY2VcIik7XG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXJfMS5QbGF5ZXIoRGF0YV8xLlRzaGFwZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5raW5kID09PSBcIkpcIikge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyXzEuUGxheWVyKERhdGFfMS5Kc2hhcGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCJMXCIpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcl8xLlBsYXllcihEYXRhXzEuTHNoYXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmtpbmQgPT09IFwiU1wiKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXJfMS5QbGF5ZXIoRGF0YV8xLlNzaGFwZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiY2FsbGluZyBkcmF3XCIpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyXzEuUGxheWVyKERhdGFfMS5ac2hhcGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXR1cm52YWwgPSB0aGlzLnBsYXllci5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcl8xLlBsYXllcihEYXRhXzEuWnNoYXBlKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdFAoYm9hcmRtYXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm52YWw7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmRlY3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGxheWVyLmRlY3IoKTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuY2hlY2tCb2FyZEZvclJvd3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IDIwO1xuICAgICAgICB2YXIgd2lkdGggPSAxMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IGhlaWdodCAtIDE7IGkgPiAtMTsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgTmVlZFRvRGVsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSB3aWR0aCAtIDE7IGogPiAtMTsgai0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW2ldW2pdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIE5lZWRUb0RlbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChOZWVkVG9EZWxldGUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gaTsgayA+IDE7IC0taykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHdpZHRoOyArK2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW2tdW2xdLmVtcHR5ID0gYm9hcmRtYXBbayAtIDFdW2xdLmVtcHR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBba11bbF0uY29sb3IgPSBib2FyZG1hcFtrIC0gMV1bbF0uY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwWzBdW2pdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbMF1bal0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tCb2FyZEZvclJvd3MoYm9hcmRtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVFBpZWNlO1xufSgpKTtcbmV4cG9ydHMuVFBpZWNlID0gVFBpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGllY2UoY29sb3IsIGxlZnQsIHRvcCkge1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMudG9wID0gdG9wO1xuICAgIH1cbiAgICBQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChjdHgsIG9mZnNldCkge1xuICAgICAgICAvLyB0aGlzLmxlZnQgPSBvZmZzZXQ7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5sZWZ0ICsgMiArIG9mZnNldCwgdGhpcy50b3AgKyAyICsgNjAsIDM4LCAzOCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGllY2U7XG59KCkpO1xuZXhwb3J0cy5QaWVjZSA9IFBpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QaWVjZS9QaWVjZVwiKTtcbnZhciBUUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QaWVjZS9UUGllY2VcIik7XG52YXIgQm9hcmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm9hcmQoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15Q2FudmFzJyk7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gJ3JnYigzOCwgMzcsIDM3KSc7IC8vYmxhY2tcbiAgICAgICAgdGhpcy5ib2FyZG1hcCA9IFtdO1xuICAgICAgICB0aGlzLnplcm9Cb2FyZCgpO1xuICAgICAgICB0aGlzLmluaXRCb2FyZCgpO1xuICAgICAgICB0aGlzLmdhbWVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50ID0gbmV3IFRQaWVjZV8xLlRQaWVjZSh0aGlzLmJvYXJkbWFwKTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgICAgIHRoaXMubGVmdCA9IGNlbnRlciAtIDIwMDtcbiAgICB9XG4gICAgLy8gdG91Y2hGYWxsKHBvczpudW1iZXIpe1xuICAgIC8vICAgICBpZihwb3MgPj10aGlzLmdldENlbnRlcigpKXtcbiAgICAvLyAgICAgICAgIHRoaXMudC5sZWZ0UHJlc3ModGhpcy5ib2FyZG1hcCx0aGlzLmxlZnQpO1xuICAgIC8vICAgICB9ZWxzZXtcbiAgICAvLyAgICAgICAgIHRoaXMudC5yaWdodFByZXNzKHRoaXMuYm9hcmRtYXAsdGhpcy5sZWZ0KTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cbiAgICBCb2FyZC5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnQubGVmdFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUucmlnaHRQcmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50LnJpZ2h0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS51cFByZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnQudXBQcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmdldFRvdWNoUG9zID0gZnVuY3Rpb24gKGNhbnZhc0RvbSwgdG91Y2hFdmVudCkge1xuICAgICAgICB2YXIgcmVjdCA9IGNhbnZhc0RvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHRvdWNoRXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0gcmVjdC5sZWZ0LFxuICAgICAgICAgICAgeTogdG91Y2hFdmVudC50b3VjaGVzWzBdLmNsaWVudFkgLSByZWN0LnRvcFxuICAgICAgICB9O1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmdldFBpZWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50O1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmdldENlbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy53aWR0aCAvIDIpO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmtleVByZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAnMzgnKSB7XG4gICAgICAgICAgICAvLyB1cCBhcnJvd1xuICAgICAgICAgICAgdGhpcy50LnVwUHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gJzQwJykge1xuICAgICAgICAgICAgdGhpcy50LmRvd25QcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PSAnMzcnKSB7XG4gICAgICAgICAgICAvLyBsZWZ0IGFycm93XG4gICAgICAgICAgICB0aGlzLnQubGVmdFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICczOScpIHtcbiAgICAgICAgICAgIC8vIHJpZ2h0IGFycm93XG4gICAgICAgICAgICB0aGlzLnQucmlnaHRQcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZGVjclRpbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiR2FtZSBpbiBwb3JncmVzc1wiKTtcbiAgICAgICAgICAgIHRoaXMudC5kZWNyKCk7XG4gICAgICAgICAgICB2YXIgc3VjY2VzcyA9IHRoaXMudC5kcmF3KHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJObyBpbiBwcm9ncmVzc1wiKTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS56ZXJvQm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmluaXRCb2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgICAgIHZhciBsZWZ0ID0gY2VudGVyIC0gMjAwO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB2YXIgdG9wID0gNjA7XG4gICAgICAgIHZhciBsb2NhbGNvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gICAgICAgICAgICAvL2kgPSByb3dzXG4gICAgICAgICAgICB2YXIgbWlkZGxlTGlzdCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxMDsgKytqKSB7XG4gICAgICAgICAgICAgICAgLy9jb2x1bW5zXG4gICAgICAgICAgICAgICAgdmFyIHB1c2htZVBlYWNlID0gbmV3IFBpZWNlXzEuUGllY2UobG9jYWxjb2xvciwgKGogKiA0MCksIChpICogNDApKTtcbiAgICAgICAgICAgICAgICBwdXNobWVQZWFjZS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbWlkZGxlTGlzdC5wdXNoKHB1c2htZVBlYWNlKTtcbiAgICAgICAgICAgICAgICAvL3RoaXMuYm9hcmRtYXBbaS0xXVtqLTFdID0gbmV3IFNwZWFjZShsb2NhbGNvbG9yLGxlZnQrKGoqNDApLHRvcCsoaSo0MCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ib2FyZG1hcC5wdXNoKG1pZGRsZUxpc3QpO1xuICAgICAgICAgICAgbWlkZGxlTGlzdCA9IFtdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZHJhd0JvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnplcm9Cb2FyZCgpO1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcbiAgICAgICAgdmFyIGxlZnQgPSBjZW50ZXIgLSAyMDA7XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ3JnYigyNTUsIDI1NSwgMjU1KSc7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QobGVmdCwgNjAsIDQwMCwgODAwKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZXMobGVmdCk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmJvYXJkbWFwOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHRvcGVudHJ5ID0gX2FbX2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCB0b3BlbnRyeV8xID0gdG9wZW50cnk7IF9iIDwgdG9wZW50cnlfMS5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSB0b3BlbnRyeV8xW19iXTtcbiAgICAgICAgICAgICAgICBlbnRyeS5kcmF3KHRoaXMuY3R4LCBsZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmRyYXdMaW5lcyA9IGZ1bmN0aW9uIChsZWZ0KSB7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ3JnYig5MSwgODksIDg5KSc7XG4gICAgICAgIHZhciBsaW5lQm90dG9tID0gNjA7XG4gICAgICAgIHZhciBsaW5lVG9wID0gNjAgKyA4MDA7XG4gICAgICAgIC8vRHJhdyBob3Jpem9udGFsIGxpbmVzXG4gICAgICAgIGZvciAodmFyIG9mZnNldCA9IDQwOyBvZmZzZXQgPCA0MDA7IG9mZnNldCA9IG9mZnNldCArIDQwKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8obGVmdCArIG9mZnNldCwgbGluZUJvdHRvbSk7XG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8obGVmdCArIG9mZnNldCwgbGluZVRvcCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSA2MDsgb2Zmc2V0IDwgODAwICsgNjA7IG9mZnNldCA9IG9mZnNldCArIDQwKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8obGVmdCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyhsZWZ0ICsgNDAwLCBvZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCb2FyZDtcbn0oKSk7XG5leHBvcnRzLkJvYXJkID0gQm9hcmQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBCb2FyZF8xID0gcmVxdWlyZShcIi4vQm9hcmQvQm9hcmRcIik7XG52YXIgYm9hcmQgPSBuZXcgQm9hcmRfMS5Cb2FyZCgpO1xuZnVuY3Rpb24gZHJhd0JvYXJkKCkge1xuICAgIC8vY29uc29sZS5sb2coXCJDYWxsaW5nIGRyYXcgYm9hcmRcIilcbiAgICBib2FyZC5kcmF3Qm9hcmQoKTtcbn1cbjtcbnZhciB0aW1lID0gNDAwO1xuZnVuY3Rpb24gZGVzY1RpbWUoKSB7XG4gICAgYm9hcmQuZGVjclRpbWUoKTtcbiAgICB0aW1lID0gdGltZSAtIDUwO1xufVxuLy8gYm9hcmQuZHJhd0JvYXJkKCk7XG52YXIgdGltZXJGb3JMb2FkaW5nUmVzdWx0ID0gd2luZG93LnNldEludGVydmFsKGRyYXdCb2FyZCwgMjApO1xudmFyIHRpbWVyRm9yTG9hZGluZ1Jlc3VsdCA9IHdpbmRvdy5zZXRJbnRlcnZhbChkZXNjVGltZSwgMzAwKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2hlY2ssIGZhbHNlKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBkb3duUHJlc3MsIGZhbHNlKTtcbmZ1bmN0aW9uIGNoZWNrKGUpIHtcbiAgICBib2FyZC5rZXlQcmVzcyhlKTtcbn1cbmZ1bmN0aW9uIGRvd25QcmVzcyhlKSB7XG4gICAgdmFyIHhQb3MgPSBlLnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgdmFyIHlQb3MgPSBlLnRvdWNoZXNbMF0ucGFnZVk7XG4gICAgY29uc29sZS5sb2coXCJ4UG9zID0gXCIgKyB4UG9zICsgXCIgWTpcIiArIHlQb3MpO1xuICAgIHRoaXMud2luZG93LndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdmFyIGNlbnRlciA9IE1hdGguZmxvb3Iod2luZG93LmlubmVyV2lkdGggLyAyKTtcbiAgICBpZiAoeFBvcyA+IGNlbnRlciAtIDIwMCAmJiB4UG9zIDwgY2VudGVyICsgMjAwKSB7XG4gICAgICAgIGlmICh5UG9zID4gNjAgJiYgeVBvcyA8IDg2MCkge1xuICAgICAgICAgICAgYm9hcmQudXBQcmVzcygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHhQb3MgPCBjZW50ZXIpIHtcbiAgICAgICAgYm9hcmQubGVmdFByZXNzKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBib2FyZC5yaWdodFByZXNzKCk7XG4gICAgfVxufVxud2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgYm9hcmQuZHJhd0JvYXJkKCk7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==