!function(t){var e={};function r(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=9)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){if(this._score=0,this._NextShape="",this._NextColor="",t._instance)throw new Error("Error: Instantiation failed: Use GameService.getInstance() instaed of new.");t._instance=this}return t.getInstance=function(){return t._instance},t.prototype.setScore=function(t){this._score=t},t.prototype.getScore=function(){return this._score},t.prototype.setNextShape=function(t){this._NextShape=t},t.prototype.getNextShape=function(){return this._NextShape},t.prototype.getColor=function(){return this._NextColor},t.prototype.setColor=function(t){this._NextColor=t},t._instance=new t,t}();e.GameService=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){this.row=t,this.col=e}}();e.Coordinate=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),o=function(){function t(t,e){this.originalColor="rgb(66, 66, 66)",this.coordinates=[],this.row=0,this.col=0,this.color=e,this.matrix=t}return t.prototype.draw=function(t){this.drawMatrix(t,this.matrix.matrix1)},t.prototype.drawMatrix=function(t,e){for(var r=0;r<e.length;++r)for(var o=0;o<e[r].length;++o)1===e[r][o]&&this.drawToPoint(t,new i.Coordinate(this.row+r,this.col+o))},t.prototype.drawToPoint=function(t,e){t[e.row]&&t[e.row][e.col]?(t[e.row][e.col].color=this.color,t[e.row][e.col].empty=!1,this.coordinates.push(new i.Coordinate(e.row,e.col))):console.log("Trying to draw something that doesn't exists at boardmap["+e.row+"]["+e.col+"]")},t.prototype.deleteToPoint=function(t,e,r){t[e]&&t[e][r]?(t[e][r].color=this.originalColor,t[e][r].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+e+"]["+r+"]")},t.prototype.deleteCoordinates=function(t){for(var e=[];this.coordinates.length>0;){var r=this.coordinates.pop();e.push(r),this.deleteToPoint(t,r.row,r.col)}return e},t}();e.NextPlayer=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(){}}();e.MatrixSet=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(3);e.Ishape=new i.MatrixSet,e.Ishape.matrix1=[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],e.Ishape.matrix2=[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],e.Ishape.matrix3=[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],e.Ishape.matrix4=[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],e.OShape=new i.MatrixSet,e.OShape.matrix1=[[1,1],[1,1]],e.OShape.matrix2=[[1,1],[1,1]],e.OShape.matrix3=[[1,1],[1,1]],e.OShape.matrix4=[[1,1],[1,1]],e.Jshape=new i.MatrixSet,e.Jshape.matrix1=[[0,1,0],[0,1,0],[1,1,0]],e.Jshape.matrix2=[[1,0,0],[1,1,1],[0,0,0]],e.Jshape.matrix3=[[0,1,1],[0,1,0],[0,1,0]],e.Jshape.matrix4=[[0,0,0],[1,1,1],[0,0,1]],e.Lshape=new i.MatrixSet,e.Lshape.matrix1=[[0,1,0],[0,1,0],[0,1,1]],e.Lshape.matrix2=[[0,0,0],[1,1,1],[1,0,0]],e.Lshape.matrix3=[[1,1,0],[0,1,0],[0,1,0]],e.Lshape.matrix4=[[0,0,1],[1,1,1],[0,0,0]],e.Sshape=new i.MatrixSet,e.Sshape.matrix1=[[0,1,0],[0,1,1],[0,0,1]],e.Sshape.matrix2=[[0,0,0],[0,1,1],[1,1,0]],e.Sshape.matrix3=[[0,1,0],[0,1,1],[0,0,1]],e.Sshape.matrix4=[[0,0,0],[0,1,1],[1,1,0]],e.Tshape=new i.MatrixSet,e.Tshape.matrix1=[[0,1,0],[1,1,1],[0,0,0]],e.Tshape.matrix2=[[0,1,0],[0,1,1],[0,1,0]],e.Tshape.matrix3=[[0,0,0],[1,1,1],[0,1,0]],e.Tshape.matrix4=[[0,1,0],[1,1,0],[0,1,0]],e.Zshape=new i.MatrixSet,e.Zshape.matrix1=[[0,0,1],[0,1,1],[0,1,0]],e.Zshape.matrix2=[[0,0,0],[1,1,0],[0,1,1]],e.Zshape.matrix3=[[0,0,1],[0,1,1],[0,1,0]],e.Zshape.matrix4=[[0,0,0],[1,1,0],[0,1,1]]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),o=r(0),s=function(){function t(t,e){this.originalColor="rgb(66, 66, 66)",this.matrixes=t,this.coordinates=[],this.color=e,this.done=!1,this.col=Math.floor(6*Math.random()+2),this.state=1,this.scoreManager=o.GameService.getInstance()}return t.prototype.leftPress=function(t,e){this.checkBelowWrapper(t,this.row,this.col-1)&&this.col--},t.prototype.rightPress=function(t,e){this.checkBelowWrapper(t,this.row,this.col+1)&&this.col++},t.prototype.upPress=function(t,e){var r=this,i=this.deleteCoordinates(t),o=this.state;this.incrementState(),this.checkBelowWrapper(t,this.row,this.col)||(this.state=o,i.forEach(function(e){r.drawToPoint(t,e)}))},t.prototype.downPress=function(t){this.checkBelowWrapper(t,this.row+1,this.col)&&(this.row++,this.scoreManager.setScore(this.scoreManager.getScore()+10))},t.prototype.draw=function(t,e){return this.checkBelowWrapper(t,this.row,this.col)?(this.deleteCoordinates(t),this.drawMatrixWrapper(t),!0):(this.done=!0,0!==this.row)},t.prototype.checkBelowWrapper=function(t,e,r){switch(this.state){case 1:return this.checkBelow(t,this.matrixes.matrix1,e,r);case 2:return this.checkBelow(t,this.matrixes.matrix2,e,r);case 3:return this.checkBelow(t,this.matrixes.matrix3,e,r);case 4:return this.checkBelow(t,this.matrixes.matrix4,e,r)}},t.prototype.drawMatrix=function(t,e){for(var r=0;r<e.length;++r)for(var o=0;o<e[r].length;++o)1===e[r][o]&&this.drawToPoint(t,new i.Coordinate(this.row+r,this.col+o))},t.prototype.drawMatrixWrapper=function(t){switch(this.state){case 1:this.drawMatrix(t,this.matrixes.matrix1);break;case 2:this.drawMatrix(t,this.matrixes.matrix2);break;case 3:this.drawMatrix(t,this.matrixes.matrix3);break;case 4:this.drawMatrix(t,this.matrixes.matrix4)}},t.prototype.checkBelow=function(t,e,r,i){var o=this,s=this.deleteCoordinates(t);return!!this.checkIfFits(r,i,t,e)||(s.forEach(function(e){o.drawToPoint(t,e)}),!1)},t.prototype.checkIfFits=function(t,e,r,i){for(var o=0;o<i.length;++o)for(var s=0;s<i[o].length;++s)if(1===i[o][s]){if(!r[t+o]||!r[t+o][e+s])return!1;if(!r[t+o][e+s].empty)return!1}return!0},t.prototype.decr=function(){this.row=this.row+1},t.prototype.drawToPoint=function(t,e){t[e.row]&&t[e.row][e.col]?(t[e.row][e.col].color=this.color,t[e.row][e.col].empty=!1,this.coordinates.push(new i.Coordinate(e.row,e.col))):console.log("Trying to draw something that doesn't exists at boardmap["+e.row+"]["+e.col+"]")},t.prototype.deleteToPoint=function(t,e,r){t[e]&&t[e][r]?(t[e][r].color=this.originalColor,t[e][r].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+e+"]["+r+"]")},t.prototype.deleteCoordinates=function(t){for(var e=[];this.coordinates.length>0;){var r=this.coordinates.pop();e.push(r),this.deleteToPoint(t,r.row,r.col)}return e},t.prototype.incrementState=function(){this.state<4?++this.state:this.state=1},t}();e.Player=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),o=r(4),s=r(0),a=r(2),n=function(){function t(t){this.originalColor="rgb(66, 66, 66)",this.gameManager=s.GameService.getInstance(),this.initP(t),this.nPlayer=new a.NextPlayer(this.findNextTime(),this.gameManager.getColor())}return t.prototype.printBoard=function(t){for(var e=0;e<20;++e){for(var r="",i=0;i<10;++i)t[e][i].empty?r+="x":r+="o";console.log(r)}},t.prototype.findNextTime=function(){switch(this.gameManager.getNextShape()){case"Z":return o.Zshape;case"I":return o.Ishape;case"O":return o.OShape;case"T":return o.Tshape;case"J":return o.Jshape;case"L":return o.Lshape;case"S":return o.Sshape;default:return o.OShape}},t.prototype.initP=function(t){this.started=!1,this.speiceList=[],this.generateType(),this.player.row=-1,this.firstTime=!0,this.checkBoardForRows(t)},t.prototype.leftPress=function(t,e){this.player.leftPress(t,e),this.draw(t,e)},t.prototype.rightPress=function(t,e){this.player.rightPress(t,e),this.draw(t,e)},t.prototype.upPress=function(t,e){this.player.upPress(t,e),this.draw(t,e)},t.prototype.downPress=function(t,e){this.player.downPress(t),this.draw(t,e)},t.prototype.generateType=function(){var t="";switch(Math.floor(6*Math.random()+1)){case 1:t="I";break;case 2:t="0";break;case 3:t="T";break;case 4:t="J";break;case 5:t="L";break;case 6:t="Z";case 7:t="S"}var e="";switch(Math.floor(6*Math.random()+1)){case 0:e="rgb(11, 98, 237)";break;case 1:e="rgb(19, 237, 11)";break;case 2:e="rgb(249, 72, 90)";break;case 3:e="rgb(245, 255, 66)";break;case 4:e="rgb(66, 255, 248)";break;case 5:e="rgb(255, 66, 176)";break;case 6:e="rgb(255, 154, 66)"}""===this.gameManager.getNextShape()&&(this.gameManager.setNextShape(t),this.gameManager.setColor(e),this.generateType()),this.kind=this.gameManager.getNextShape(),this.color=this.gameManager.getColor(),this.gameManager.setColor(e),this.gameManager.setNextShape(t);var r=this.color;"Z"===this.kind?this.player=new i.Player(o.Zshape,r):"I"===this.kind?this.player=new i.Player(o.Ishape,r):"0"===this.kind?this.player=new i.Player(o.OShape,r):"T"===this.kind?this.player=new i.Player(o.Tshape,r):"J"===this.kind?this.player=new i.Player(o.Jshape,r):"L"===this.kind?this.player=new i.Player(o.Lshape,r):"S"===this.kind&&(this.player=new i.Player(o.Sshape,r))},t.prototype.draw=function(t,e){var r=this.player.draw(t,e);return this.player.done&&(this.initP(t),this.nPlayer=new a.NextPlayer(this.findNextTime(),this.gameManager.getColor())),r},t.prototype.drawmini=function(t){this.nPlayer.draw(t)},t.prototype.deletemini=function(t){this.nPlayer.deleteCoordinates(t)},t.prototype.decr=function(){this.player.decr()},t.prototype.checkBoardForRows=function(t){for(var e=19;e>-1;e--){for(var r=!0,i=9;i>-1;i--)t[e][i].empty&&(r=!1);if(r){this.gameManager.setScore(this.gameManager.getScore()+100);for(var o=e;o>1;--o)for(var s=0;s<10;++s)t[o][s].empty=t[o-1][s].empty,t[o][s].color=t[o-1][s].color;for(i=0;i<10;i++)t[0][i].empty=!0,t[0][i].color=this.originalColor;this.checkBoardForRows(t)}}},t}();e.TPiece=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,r,i){this.color=t,this.left=e,this.top=r,this.IsMainBoard=i}return t.prototype.draw=function(t,e){var r=140;this.IsMainBoard&&(r=60),t.fillStyle=this.color,t.fillRect(this.left+2+e,this.top+2+r,38,38)},t}();e.Piece=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(7),o=r(6),s=r(0),a=function(){function t(){this.canvas=document.querySelector(".myCanvas"),this.backgroundColor="rgb(38, 37, 37)",this.boardmap=[],this.miniboardmap=[],this.zeroBoard(),this.initBoard(),this.gameInProgress=!0,this.t=new o.TPiece(this.boardmap);var t=this.getCenter();this.left=t-200,this.scoreManager=s.GameService.getInstance()}return t.prototype.leftPress=function(){this.t.leftPress(this.boardmap,this.left)},t.prototype.rightPress=function(){this.t.rightPress(this.boardmap,this.left)},t.prototype.upPress=function(){this.t.upPress(this.boardmap,this.left)},t.prototype.getTouchPos=function(t,e){var r=t.getBoundingClientRect();return{x:e.touches[0].clientX-r.left,y:e.touches[0].clientY-r.top}},t.prototype.getPiece=function(){return this.t},t.prototype.getCenter=function(){return Math.floor(this.width/2)},t.prototype.keyPress=function(t){"38"==t.keyCode?this.t.upPress(this.boardmap,this.left):"40"==t.keyCode?this.t.downPress(this.boardmap,this.left):"37"==t.keyCode?this.t.leftPress(this.boardmap,this.left):"39"==t.keyCode&&this.t.rightPress(this.boardmap,this.left)},t.prototype.decrTime=function(){if(this.gameInProgress){this.t.decr();var t=this.t.draw(this.boardmap,this.left);this.cleanMiniBoard(this.miniboardmap),this.t.drawmini(this.miniboardmap),t||(this.gameInProgress=!1)}},t.prototype.zeroBoard=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.width=window.innerWidth,this.height=window.innerHeight,this.ctx=this.canvas.getContext("2d")},t.prototype.initBoard=function(){var t=this.getCenter()-200;this.left=t;for(var e=0;e<20;e++){for(var r=[],o=0;o<10;++o){(s=new i.Piece("rgb(66, 66, 66)",40*o,40*e,!0)).empty=!0,r.push(s)}this.boardmap.push(r),r=[]}for(e=0;e<4;e++){for(r=[],o=0;o<4;o++){var s;(s=new i.Piece(this.backgroundColor,40*o,40*e,!1)).empty=!0,r.push(s)}this.miniboardmap.push(r),r=[]}},t.prototype.cleanMiniBoard=function(t){t.forEach(function(t){t.forEach(function(t){t.color="rgb(38, 37, 37)",t.empty=!0})})},t.prototype.drawBoard=function(){this.zeroBoard(),this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height);var t=this.getCenter(),e=t-200;this.left=e;var r=t+250;this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.lineWidth=1,this.ctx.strokeRect(e,60,400,800),this.drawLines(e);for(var i=0,o=this.boardmap;i<o.length;i++)for(var s=0,a=o[i];s<a.length;s++){a[s].draw(this.ctx,e)}for(var n=0,h=this.miniboardmap;n<h.length;n++)for(var c=0,p=h[n];c<p.length;c++){p[c].draw(this.ctx,r)}this.ctx.font="30px sans-serif",this.ctx.strokeText("Score:"+this.scoreManager.getScore(),e,900),this.ctx.font="12px sans-serif",this.ctx.strokeText("Typescript Tetris clone by Caleb",e,930)},t.prototype.drawLines=function(t){this.ctx.strokeStyle="rgb(91, 89, 89)";for(var e=40;e<400;e+=40)this.ctx.moveTo(t+e,60),this.ctx.lineTo(t+e,860),this.ctx.stroke();for(e=60;e<860;e+=40)this.ctx.moveTo(t,e),this.ctx.lineTo(t+400,e),this.ctx.stroke()},t.prototype.drawLinesMini=function(t){this.ctx.strokeStyle="rgb(91, 89, 89)";for(var e=40;e<160;e+=40)this.ctx.moveTo(t+e,140),this.ctx.lineTo(t+e,300),this.ctx.stroke();for(e=140;e<310;e+=40)this.ctx.moveTo(t,e),this.ctx.lineTo(t+160,e),this.ctx.stroke()},t}();e.Board=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),o=r(0),s=new i.Board;o.GameService.getInstance();window.setInterval(function(){s.drawBoard()},20);var a=700;window.setInterval(function(){a-=10},6e4);var n=function(){clearInterval(h),s.decrTime(),h=setInterval(n,a)},h=setInterval(n,a);window.addEventListener("keydown",function(t){s.keyPress(t)},!1),window.addEventListener("touchstart",function(t){var e=t.touches[0].pageX;t.touches[0].pageY;this.window.width=window.innerWidth;var r=Math.floor(window.innerWidth/2);e>r-200&&e<r+200?s.upPress():e<r-200?s.leftPress():e>r+200&&s.rightPress()},!1),window.onresize=function(t){s.drawBoard()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1NlcnZpY2VzL0dhbWVTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QbGF5ZXJzL0Nvb3JkaW5hdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BsYXllcnMvTmV4dFBsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvTWF0cml4U2V0LnRzIiwid2VicGFjazovLy8uL3NyYy90cy9EYXRhLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QbGF5ZXJzL1BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGllY2UvVFBpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QaWVjZS9QaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvQm9hcmQvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiR2FtZVNlcnZpY2UiLCJ0aGlzIiwiX3Njb3JlIiwiX05leHRTaGFwZSIsIl9OZXh0Q29sb3IiLCJfaW5zdGFuY2UiLCJFcnJvciIsImdldEluc3RhbmNlIiwic2V0U2NvcmUiLCJnZXRTY29yZSIsInNldE5leHRTaGFwZSIsImdldE5leHRTaGFwZSIsImdldENvbG9yIiwic2V0Q29sb3IiLCJDb29yZGluYXRlIiwicm93IiwiY29sIiwiQ29vcmRpbmF0ZV8xIiwiTmV4dFBsYXllciIsInNldCIsImNvbG9yIiwib3JpZ2luYWxDb2xvciIsImNvb3JkaW5hdGVzIiwibWF0cml4IiwiZHJhdyIsImJvYXJkbWFwIiwiZHJhd01hdHJpeCIsIm1hdHJpeDEiLCJsZW5ndGgiLCJqIiwiZHJhd1RvUG9pbnQiLCJDb3JkIiwiZW1wdHkiLCJwdXNoIiwiY29uc29sZSIsImxvZyIsImRlbGV0ZVRvUG9pbnQiLCJ4IiwieSIsImRlbGV0ZUNvb3JkaW5hdGVzIiwidGVtcCIsImN1cnJlbnQiLCJwb3AiLCJNYXRyaXhTZXQiLCJNYXRyaXhTZXRfMSIsIklzaGFwZSIsIm1hdHJpeDIiLCJtYXRyaXgzIiwibWF0cml4NCIsIk9TaGFwZSIsIkpzaGFwZSIsIkxzaGFwZSIsIlNzaGFwZSIsIlRzaGFwZSIsIlpzaGFwZSIsIkdhbWVTZXJ2aWNlXzEiLCJQbGF5ZXIiLCJtYXRyaXhlcyIsImRvbmUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzdGF0ZSIsInNjb3JlTWFuYWdlciIsImxlZnRQcmVzcyIsImxlZnQiLCJjaGVja0JlbG93V3JhcHBlciIsInJpZ2h0UHJlc3MiLCJ1cFByZXNzIiwiX3RoaXMiLCJkZWxldGVkUG9pbnRzIiwib2xkc3RhdGUiLCJpbmNyZW1lbnRTdGF0ZSIsImZvckVhY2giLCJwb2ludCIsImRvd25QcmVzcyIsImRyYXdNYXRyaXhXcmFwcGVyIiwiY2hlY2tCZWxvdyIsImNoZWNrSWZGaXRzIiwiZGVjciIsIlBsYXllcl8xIiwiRGF0YV8xIiwiTmV4dFBsYXllcl8xIiwiVFBpZWNlIiwiZ2FtZU1hbmFnZXIiLCJpbml0UCIsIm5QbGF5ZXIiLCJmaW5kTmV4dFRpbWUiLCJwcmludEJvYXJkIiwic3RyaW5nIiwic3RhcnRlZCIsInNwZWljZUxpc3QiLCJnZW5lcmF0ZVR5cGUiLCJwbGF5ZXIiLCJmaXJzdFRpbWUiLCJjaGVja0JvYXJkRm9yUm93cyIsInRlbXBLaW5kIiwidGVtcGNvbG9yIiwia2luZCIsImN1cnJlbnRDb2xvciIsInJldHVybnZhbCIsImRyYXdtaW5pIiwiZGVsZXRlbWluaSIsImhlaWdodCIsIk5lZWRUb0RlbGV0ZSIsIndpZHRoIiwiayIsIlBpZWNlIiwidG9wIiwiSXNNYWluQm9hcmQiLCJjdHgiLCJvZmZzZXQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIlBpZWNlXzEiLCJUUGllY2VfMSIsIkJvYXJkIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYmFja2dyb3VuZENvbG9yIiwibWluaWJvYXJkbWFwIiwiemVyb0JvYXJkIiwiaW5pdEJvYXJkIiwiZ2FtZUluUHJvZ3Jlc3MiLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJnZXRUb3VjaFBvcyIsImNhbnZhc0RvbSIsInRvdWNoRXZlbnQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiZ2V0UGllY2UiLCJrZXlQcmVzcyIsImUiLCJrZXlDb2RlIiwiZGVjclRpbWUiLCJzdWNjZXNzIiwiY2xlYW5NaW5pQm9hcmQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJnZXRDb250ZXh0IiwibWlkZGxlTGlzdCIsInB1c2htZVBlYWNlIiwiZWxlbWVudCIsImRyYXdCb2FyZCIsImxlZnRPZmZzZXQiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZVJlY3QiLCJkcmF3TGluZXMiLCJfaSIsIl9hIiwiX2IiLCJ0b3BlbnRyeV8xIiwiX2MiLCJfZCIsIl9lIiwidG9wZW50cnlfMiIsImZvbnQiLCJzdHJva2VUZXh0IiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiZHJhd0xpbmVzTWluaSIsIkJvYXJkXzEiLCJib2FyZCIsInNldEludGVydmFsIiwiY291bnRlciIsIm15RnVuY3Rpb24iLCJjbGVhckludGVydmFsIiwiaW50ZXJ2YWwiLCJhZGRFdmVudExp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QUEsV0FBZ0NDLEdBQUEsSUFBMEIsS0FDMUQsSUFBQUMsRUFBQSxXQUNBQyxjQUFBQyxHQUNBTCxFQUFBL0IsV0FDQW9DLEVBQUFKLFlBQUFFLEVBQUFELElBRUFHLEVBQUFKLFlBQUFFLEVBQUFELEdBS0E5QixPQUFBa0MsaUJBQUEsVUFFQSxTQUFBdkMsR0FFQWlDLEVBQUFsQyxTQUFBQyxLQUpBLEdBQ0FLLE9BQUFrQyxpQkFBQSxhQUtBLFNBQUF2QyxHQUVBLElBQUF3QyxFQUFBeEMsRUFBQUwsUUFBQSxHQUFBOEMsTUFDQXpDLEVBQUFMLFFBQUEsR0FBQStDLE1BQ0FsTCxLQUFBNkksT0FBQXJDLE1BQUFxQyxPQUFBQyxXQUNBLElBQUFsQixFQUFBbEUsS0FBQUMsTUFBQWtGLE9BQUFDLFdBQUEsR0FDQWtDLEVBQUFwRCxFQUFBLEtBQUFvRCxFQUFBcEQsRUFBQSxJQUNBNkMsRUFBQXRHLFVBRUE2RyxFQUFBcEQsRUFBQSxJQUNBNkMsRUFBQTFHLFlBRUFpSCxFQUFBcEQsRUFBQSxLQUNBNkMsRUFBQXZHLGVBbEJBLEdBcUJBMkUsT0FBQXNDLFNBQUEsU0FBQUMsR0FDQVgsRUFBQXJCIiwiZmlsZSI6Ii4vYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgR2FtZVNlcnZpY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR2FtZVNlcnZpY2UoKSB7XG4gICAgICAgIHRoaXMuX3Njb3JlID0gMDtcbiAgICAgICAgdGhpcy5fTmV4dFNoYXBlID0gXCJcIjtcbiAgICAgICAgdGhpcy5fTmV4dENvbG9yID0gXCJcIjtcbiAgICAgICAgaWYgKEdhbWVTZXJ2aWNlLl9pbnN0YW5jZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IEluc3RhbnRpYXRpb24gZmFpbGVkOiBVc2UgR2FtZVNlcnZpY2UuZ2V0SW5zdGFuY2UoKSBpbnN0YWVkIG9mIG5ldy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgR2FtZVNlcnZpY2UuX2luc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgR2FtZVNlcnZpY2UuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBHYW1lU2VydmljZS5faW5zdGFuY2U7XG4gICAgfTtcbiAgICBHYW1lU2VydmljZS5wcm90b3R5cGUuc2V0U2NvcmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2NvcmUgPSB2YWx1ZTtcbiAgICB9O1xuICAgIEdhbWVTZXJ2aWNlLnByb3RvdHlwZS5nZXRTY29yZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3JlO1xuICAgIH07XG4gICAgR2FtZVNlcnZpY2UucHJvdG90eXBlLnNldE5leHRTaGFwZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9OZXh0U2hhcGUgPSB2YWx1ZTtcbiAgICB9O1xuICAgIEdhbWVTZXJ2aWNlLnByb3RvdHlwZS5nZXROZXh0U2hhcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9OZXh0U2hhcGU7XG4gICAgfTtcbiAgICBHYW1lU2VydmljZS5wcm90b3R5cGUuZ2V0Q29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9OZXh0Q29sb3I7XG4gICAgfTtcbiAgICBHYW1lU2VydmljZS5wcm90b3R5cGUuc2V0Q29sb3IgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fTmV4dENvbG9yID0gdmFsdWU7XG4gICAgfTtcbiAgICBHYW1lU2VydmljZS5faW5zdGFuY2UgPSBuZXcgR2FtZVNlcnZpY2UoKTtcbiAgICByZXR1cm4gR2FtZVNlcnZpY2U7XG59KCkpO1xuZXhwb3J0cy5HYW1lU2VydmljZSA9IEdhbWVTZXJ2aWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29vcmRpbmF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb29yZGluYXRlKHIsIGMpIHtcbiAgICAgICAgdGhpcy5yb3cgPSByO1xuICAgICAgICB0aGlzLmNvbCA9IGM7XG4gICAgfVxuICAgIHJldHVybiBDb29yZGluYXRlO1xufSgpKTtcbmV4cG9ydHMuQ29vcmRpbmF0ZSA9IENvb3JkaW5hdGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb29yZGluYXRlXzEgPSByZXF1aXJlKFwiLi9Db29yZGluYXRlXCIpO1xudmFyIE5leHRQbGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmV4dFBsYXllcihzZXQsIGNvbG9yKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb2xvciA9IFwicmdiKDY2LCA2NiwgNjYpXCI7XG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5yb3cgPSAwO1xuICAgICAgICB0aGlzLmNvbCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5tYXRyaXggPSBzZXQ7XG4gICAgfVxuICAgIE5leHRQbGF5ZXIucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgdGhpcy5kcmF3TWF0cml4KGJvYXJkbWFwLCB0aGlzLm1hdHJpeC5tYXRyaXgxKTtcbiAgICB9O1xuICAgIE5leHRQbGF5ZXIucHJvdG90eXBlLmRyYXdNYXRyaXggPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1hdHJpeCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdHJpeC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXRyaXhbaV0ubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0cml4W2ldW2pdID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIGksIHRoaXMuY29sICsgaikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTmV4dFBsYXllci5wcm90b3R5cGUuZHJhd1RvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIENvcmQpIHtcbiAgICAgICAgaWYgKGJvYXJkbWFwW0NvcmQucm93XSAmJiBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdKSB7XG4gICAgICAgICAgICBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXMucHVzaChuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUoQ29yZC5yb3csIENvcmQuY29sKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyeWluZyB0byBkcmF3IHNvbWV0aGluZyB0aGF0IGRvZXNuJ3QgZXhpc3RzIGF0IGJvYXJkbWFwW1wiICsgQ29yZC5yb3cgKyBcIl1bXCIgKyBDb3JkLmNvbCArIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTmV4dFBsYXllci5wcm90b3R5cGUuZGVsZXRlVG9Qb2ludCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgeCwgeSkge1xuICAgICAgICBpZiAoYm9hcmRtYXBbeF0gJiYgYm9hcmRtYXBbeF1beV0pIHtcbiAgICAgICAgICAgIGJvYXJkbWFwW3hdW3ldLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICAgICAgYm9hcmRtYXBbeF1beV0uZW1wdHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcnlpbmcgdG8gZGVsZXRlIHNvbWV0aGluZyB0aGF0IGRvZXNuJ3QgZXhpc3RzIGF0IGJvYXJkbWFwW1wiICsgeCArIFwiXVtcIiArIHkgKyBcIl1cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5leHRQbGF5ZXIucHJvdG90eXBlLmRlbGV0ZUNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIHdoaWxlICh0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5jb29yZGluYXRlcy5wb3AoKTtcbiAgICAgICAgICAgIHRlbXAucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlVG9Qb2ludChib2FyZG1hcCwgY3VycmVudC5yb3csIGN1cnJlbnQuY29sKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICB9O1xuICAgIHJldHVybiBOZXh0UGxheWVyO1xufSgpKTtcbmV4cG9ydHMuTmV4dFBsYXllciA9IE5leHRQbGF5ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBNYXRyaXhTZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWF0cml4U2V0KCkge1xuICAgIH1cbiAgICByZXR1cm4gTWF0cml4U2V0O1xufSgpKTtcbmV4cG9ydHMuTWF0cml4U2V0ID0gTWF0cml4U2V0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTWF0cml4U2V0XzEgPSByZXF1aXJlKFwiLi9NYXRyaXhTZXRcIik7XG5leHBvcnRzLklzaGFwZSA9IG5ldyBNYXRyaXhTZXRfMS5NYXRyaXhTZXQoKTtcbmV4cG9ydHMuSXNoYXBlLm1hdHJpeDEgPSBbXG4gICAgWzAsIDEsIDAsIDBdLFxuICAgIFswLCAxLCAwLCAwXSxcbiAgICBbMCwgMSwgMCwgMF0sXG4gICAgWzAsIDEsIDAsIDBdXG5dO1xuZXhwb3J0cy5Jc2hhcGUubWF0cml4MiA9IFtcbiAgICBbMCwgMCwgMCwgMF0sXG4gICAgWzEsIDEsIDEsIDFdLFxuICAgIFswLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMF1cbl07XG5leHBvcnRzLklzaGFwZS5tYXRyaXgzID0gW1xuICAgIFswLCAxLCAwLCAwXSxcbiAgICBbMCwgMSwgMCwgMF0sXG4gICAgWzAsIDEsIDAsIDBdLFxuICAgIFswLCAxLCAwLCAwXVxuXTtcbmV4cG9ydHMuSXNoYXBlLm1hdHJpeDQgPSBbXG4gICAgWzAsIDAsIDAsIDBdLFxuICAgIFsxLCAxLCAxLCAxXSxcbiAgICBbMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDBdXG5dO1xuZXhwb3J0cy5PU2hhcGUgPSBuZXcgTWF0cml4U2V0XzEuTWF0cml4U2V0KCk7XG5leHBvcnRzLk9TaGFwZS5tYXRyaXgxID1cbiAgICBbWzEsIDFdLFxuICAgICAgICBbMSwgMV1dO1xuZXhwb3J0cy5PU2hhcGUubWF0cml4MiA9XG4gICAgW1sxLCAxXSxcbiAgICAgICAgWzEsIDFdXTtcbmV4cG9ydHMuT1NoYXBlLm1hdHJpeDMgPVxuICAgIFtbMSwgMV0sXG4gICAgICAgIFsxLCAxXV07XG5leHBvcnRzLk9TaGFwZS5tYXRyaXg0ID1cbiAgICBbWzEsIDFdLFxuICAgICAgICBbMSwgMV1dO1xuZXhwb3J0cy5Kc2hhcGUgPSBuZXcgTWF0cml4U2V0XzEuTWF0cml4U2V0KCk7XG5leHBvcnRzLkpzaGFwZS5tYXRyaXgxID0gW1xuICAgIFswLCAxLCAwXSxcbiAgICBbMCwgMSwgMF0sXG4gICAgWzEsIDEsIDBdXG5dO1xuZXhwb3J0cy5Kc2hhcGUubWF0cml4MiA9IFtcbiAgICBbMSwgMCwgMF0sXG4gICAgWzEsIDEsIDFdLFxuICAgIFswLCAwLCAwXVxuXTtcbmV4cG9ydHMuSnNoYXBlLm1hdHJpeDMgPSBbXG4gICAgWzAsIDEsIDFdLFxuICAgIFswLCAxLCAwXSxcbiAgICBbMCwgMSwgMF1cbl07XG5leHBvcnRzLkpzaGFwZS5tYXRyaXg0ID0gW1xuICAgIFswLCAwLCAwXSxcbiAgICBbMSwgMSwgMV0sXG4gICAgWzAsIDAsIDFdXG5dO1xuZXhwb3J0cy5Mc2hhcGUgPSBuZXcgTWF0cml4U2V0XzEuTWF0cml4U2V0KCk7XG5leHBvcnRzLkxzaGFwZS5tYXRyaXgxID0gW1xuICAgIFswLCAxLCAwXSxcbiAgICBbMCwgMSwgMF0sXG4gICAgWzAsIDEsIDFdXG5dO1xuZXhwb3J0cy5Mc2hhcGUubWF0cml4MiA9IFtcbiAgICBbMCwgMCwgMF0sXG4gICAgWzEsIDEsIDFdLFxuICAgIFsxLCAwLCAwXVxuXTtcbmV4cG9ydHMuTHNoYXBlLm1hdHJpeDMgPSBbXG4gICAgWzEsIDEsIDBdLFxuICAgIFswLCAxLCAwXSxcbiAgICBbMCwgMSwgMF1cbl07XG5leHBvcnRzLkxzaGFwZS5tYXRyaXg0ID0gW1xuICAgIFswLCAwLCAxXSxcbiAgICBbMSwgMSwgMV0sXG4gICAgWzAsIDAsIDBdXG5dO1xuZXhwb3J0cy5Tc2hhcGUgPSBuZXcgTWF0cml4U2V0XzEuTWF0cml4U2V0KCk7XG5leHBvcnRzLlNzaGFwZS5tYXRyaXgxID0gW1xuICAgIFswLCAxLCAwXSxcbiAgICBbMCwgMSwgMV0sXG4gICAgWzAsIDAsIDFdXG5dO1xuZXhwb3J0cy5Tc2hhcGUubWF0cml4MiA9IFtcbiAgICBbMCwgMCwgMF0sXG4gICAgWzAsIDEsIDFdLFxuICAgIFsxLCAxLCAwXVxuXTtcbmV4cG9ydHMuU3NoYXBlLm1hdHJpeDMgPSBbXG4gICAgWzAsIDEsIDBdLFxuICAgIFswLCAxLCAxXSxcbiAgICBbMCwgMCwgMV1cbl07XG5leHBvcnRzLlNzaGFwZS5tYXRyaXg0ID0gW1xuICAgIFswLCAwLCAwXSxcbiAgICBbMCwgMSwgMV0sXG4gICAgWzEsIDEsIDBdXG5dO1xuZXhwb3J0cy5Uc2hhcGUgPSBuZXcgTWF0cml4U2V0XzEuTWF0cml4U2V0KCk7XG5leHBvcnRzLlRzaGFwZS5tYXRyaXgxID0gW1xuICAgIFswLCAxLCAwXSxcbiAgICBbMSwgMSwgMV0sXG4gICAgWzAsIDAsIDBdXG5dO1xuZXhwb3J0cy5Uc2hhcGUubWF0cml4MiA9IFtcbiAgICBbMCwgMSwgMF0sXG4gICAgWzAsIDEsIDFdLFxuICAgIFswLCAxLCAwXVxuXTtcbmV4cG9ydHMuVHNoYXBlLm1hdHJpeDMgPSBbXG4gICAgWzAsIDAsIDBdLFxuICAgIFsxLCAxLCAxXSxcbiAgICBbMCwgMSwgMF1cbl07XG5leHBvcnRzLlRzaGFwZS5tYXRyaXg0ID0gW1xuICAgIFswLCAxLCAwXSxcbiAgICBbMSwgMSwgMF0sXG4gICAgWzAsIDEsIDBdXG5dO1xuZXhwb3J0cy5ac2hhcGUgPSBuZXcgTWF0cml4U2V0XzEuTWF0cml4U2V0KCk7XG5leHBvcnRzLlpzaGFwZS5tYXRyaXgxID0gW1xuICAgIFswLCAwLCAxXSxcbiAgICBbMCwgMSwgMV0sXG4gICAgWzAsIDEsIDBdXG5dO1xuZXhwb3J0cy5ac2hhcGUubWF0cml4MiA9IFtcbiAgICBbMCwgMCwgMF0sXG4gICAgWzEsIDEsIDBdLFxuICAgIFswLCAxLCAxXVxuXTtcbmV4cG9ydHMuWnNoYXBlLm1hdHJpeDMgPSBbXG4gICAgWzAsIDAsIDFdLFxuICAgIFswLCAxLCAxXSxcbiAgICBbMCwgMSwgMF1cbl07XG5leHBvcnRzLlpzaGFwZS5tYXRyaXg0ID0gW1xuICAgIFswLCAwLCAwXSxcbiAgICBbMSwgMSwgMF0sXG4gICAgWzAsIDEsIDFdXG5dO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29vcmRpbmF0ZV8xID0gcmVxdWlyZShcIi4vQ29vcmRpbmF0ZVwiKTtcbnZhciBHYW1lU2VydmljZV8xID0gcmVxdWlyZShcIi4uL1NlcnZpY2VzL0dhbWVTZXJ2aWNlXCIpO1xudmFyIFBsYXllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQbGF5ZXIoc2V0LCBjb2xvcikge1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xuICAgICAgICB0aGlzLm1hdHJpeGVzID0gc2V0O1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMik7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAxOyAvL01hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkqNCkgKzEpO1xuICAgICAgICB0aGlzLnNjb3JlTWFuYWdlciA9IEdhbWVTZXJ2aWNlXzEuR2FtZVNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcbiAgICB9XG4gICAgO1xuICAgIFBsYXllci5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3dXcmFwcGVyKGJvYXJkbWFwLCB0aGlzLnJvdywgdGhpcy5jb2wgLSAxKSkge1xuICAgICAgICAgICAgdGhpcy5jb2wtLTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3dXcmFwcGVyKGJvYXJkbWFwLCB0aGlzLnJvdywgdGhpcy5jb2wgKyAxKSkge1xuICAgICAgICAgICAgdGhpcy5jb2wrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS51cFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZWxldGVkUG9pbnRzID0gdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgIHZhciBvbGRzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHRoaXMuaW5jcmVtZW50U3RhdGUoKTtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd1dyYXBwZXIoYm9hcmRtYXAsIHRoaXMucm93LCB0aGlzLmNvbCkpIHtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBvbGRzdGF0ZTtcbiAgICAgICAgICAgIGRlbGV0ZWRQb2ludHMuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgcG9pbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBsYXllci5wcm90b3R5cGUuZG93blByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3dXcmFwcGVyKGJvYXJkbWFwLCB0aGlzLnJvdyArIDEsIHRoaXMuY29sKSkge1xuICAgICAgICAgICAgdGhpcy5yb3crKztcbiAgICAgICAgICAgIHRoaXMuc2NvcmVNYW5hZ2VyLnNldFNjb3JlKHRoaXMuc2NvcmVNYW5hZ2VyLmdldFNjb3JlKCkgKyAxMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBsYXllci5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvLyBpZih0aGlzLnJvdyA+MTcpe1xuICAgICAgICAvLyAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgLy8gICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyB9XG4gICAgICAgIGlmICghdGhpcy5jaGVja0JlbG93V3JhcHBlcihib2FyZG1hcCwgdGhpcy5yb3csIHRoaXMuY29sKSkge1xuICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgdGhpcy5kcmF3TWF0cml4V3JhcHBlcihib2FyZG1hcCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5jaGVja0JlbG93V3JhcHBlciA9IGZ1bmN0aW9uIChib2FyZG1hcCwgcm93LCBjb2wpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tCZWxvdyhib2FyZG1hcCwgdGhpcy5tYXRyaXhlcy5tYXRyaXgxLCByb3csIGNvbCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tCZWxvdyhib2FyZG1hcCwgdGhpcy5tYXRyaXhlcy5tYXRyaXgyLCByb3csIGNvbCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tCZWxvdyhib2FyZG1hcCwgdGhpcy5tYXRyaXhlcy5tYXRyaXgzLCByb3csIGNvbCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tCZWxvdyhib2FyZG1hcCwgdGhpcy5tYXRyaXhlcy5tYXRyaXg0LCByb3csIGNvbCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBsYXllci5wcm90b3R5cGUuZHJhd01hdHJpeCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbWF0cml4KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0cml4Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1hdHJpeFtpXS5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGlmIChtYXRyaXhbaV1bal0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgaSwgdGhpcy5jb2wgKyBqKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLmRyYXdNYXRyaXhXcmFwcGVyID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd01hdHJpeChib2FyZG1hcCwgdGhpcy5tYXRyaXhlcy5tYXRyaXgxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdNYXRyaXgoYm9hcmRtYXAsIHRoaXMubWF0cml4ZXMubWF0cml4Mik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TWF0cml4KGJvYXJkbWFwLCB0aGlzLm1hdHJpeGVzLm1hdHJpeDMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd01hdHJpeChib2FyZG1hcCwgdGhpcy5tYXRyaXhlcy5tYXRyaXg0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5jaGVja0JlbG93ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtYXRyaXgsIHJvdywgY29sKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZWxldGVkUG9pbnRzID0gdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrSWZGaXRzKHJvdywgY29sLCBib2FyZG1hcCwgbWF0cml4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWxldGVkUG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIHBvaW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLmNoZWNrSWZGaXRzID0gZnVuY3Rpb24gKHJvdywgY29sLCBib2FyZG1hcCwgbWF0cml4KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0cml4Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1hdHJpeFtpXS5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGlmIChtYXRyaXhbaV1bal0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFib2FyZG1hcFtyb3cgKyBpXSB8fCAhYm9hcmRtYXBbcm93ICsgaV1bY29sICsgal0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWJvYXJkbWFwW3JvdyArIGldW2NvbCArIGpdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLmRlY3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucm93ID0gdGhpcy5yb3cgKyAxO1xuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5kcmF3VG9Qb2ludCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgQ29yZCkge1xuICAgICAgICBpZiAoYm9hcmRtYXBbQ29yZC5yb3ddICYmIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0pIHtcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICAgICAgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlcy5wdXNoKG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZShDb3JkLnJvdywgQ29yZC5jb2wpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRyYXcgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdHMgYXQgYm9hcmRtYXBbXCIgKyBDb3JkLnJvdyArIFwiXVtcIiArIENvcmQuY29sICsgXCJdXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLmRlbGV0ZVRvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIHgsIHkpIHtcbiAgICAgICAgaWYgKGJvYXJkbWFwW3hdICYmIGJvYXJkbWFwW3hdW3ldKSB7XG4gICAgICAgICAgICBib2FyZG1hcFt4XVt5XS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgIGJvYXJkbWFwW3hdW3ldLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRlbGV0ZSBzb21ldGhpbmcgdGhhdCBkb2Vzbid0IGV4aXN0cyBhdCBib2FyZG1hcFtcIiArIHggKyBcIl1bXCIgKyB5ICsgXCJdXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLmRlbGV0ZUNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIHdoaWxlICh0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5jb29yZGluYXRlcy5wb3AoKTtcbiAgICAgICAgICAgIHRlbXAucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlVG9Qb2ludChib2FyZG1hcCwgY3VycmVudC5yb3csIGN1cnJlbnQuY29sKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICB9O1xuICAgIFBsYXllci5wcm90b3R5cGUuaW5jcmVtZW50U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlIDwgNCkge1xuICAgICAgICAgICAgKyt0aGlzLnN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQbGF5ZXI7XG59KCkpO1xuZXhwb3J0cy5QbGF5ZXIgPSBQbGF5ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQbGF5ZXJfMSA9IHJlcXVpcmUoXCIuLi9QbGF5ZXJzL1BsYXllclwiKTtcbnZhciBEYXRhXzEgPSByZXF1aXJlKFwiLi4vRGF0YVwiKTtcbnZhciBHYW1lU2VydmljZV8xID0gcmVxdWlyZShcIi4uL1NlcnZpY2VzL0dhbWVTZXJ2aWNlXCIpO1xudmFyIE5leHRQbGF5ZXJfMSA9IHJlcXVpcmUoXCIuLi9QbGF5ZXJzL05leHRQbGF5ZXJcIik7XG52YXIgVFBpZWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRQaWVjZShib2FyZG1hcCkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xuICAgICAgICAvL3RoaXMua2luZCA9IGtpbmQ7XG4gICAgICAgIHRoaXMuZ2FtZU1hbmFnZXIgPSBHYW1lU2VydmljZV8xLkdhbWVTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgICAgIHRoaXMuaW5pdFAoYm9hcmRtYXApO1xuICAgICAgICB0aGlzLm5QbGF5ZXIgPSBuZXcgTmV4dFBsYXllcl8xLk5leHRQbGF5ZXIodGhpcy5maW5kTmV4dFRpbWUoKSwgdGhpcy5nYW1lTWFuYWdlci5nZXRDb2xvcigpKTtcbiAgICB9XG4gICAgVFBpZWNlLnByb3RvdHlwZS5wcmludEJvYXJkID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjA7ICsraSkge1xuICAgICAgICAgICAgdmFyIHN0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDEwOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbaV1bal0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgXCJ4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyBcIm9cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdHJpbmcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmZpbmROZXh0VGltZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHR5cGVuZXh0ID0gdGhpcy5nYW1lTWFuYWdlci5nZXROZXh0U2hhcGUoKTtcbiAgICAgICAgc3dpdGNoICh0eXBlbmV4dCkge1xuICAgICAgICAgICAgY2FzZSBcIlpcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0YV8xLlpzaGFwZTtcbiAgICAgICAgICAgIGNhc2UgXCJJXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGFfMS5Jc2hhcGU7XG4gICAgICAgICAgICBjYXNlIFwiT1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRhXzEuT1NoYXBlO1xuICAgICAgICAgICAgY2FzZSBcIlRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0YV8xLlRzaGFwZTtcbiAgICAgICAgICAgIGNhc2UgXCJKXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGFfMS5Kc2hhcGU7XG4gICAgICAgICAgICBjYXNlIFwiTFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRhXzEuTHNoYXBlO1xuICAgICAgICAgICAgY2FzZSBcIlNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0YV8xLlNzaGFwZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGFfMS5PU2hhcGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuaW5pdFAgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3BlaWNlTGlzdCA9IFtdO1xuICAgICAgICB0aGlzLmdlbmVyYXRlVHlwZSgpO1xuICAgICAgICB0aGlzLnBsYXllci5yb3cgPSAtMTtcbiAgICAgICAgdGhpcy5maXJzdFRpbWUgPSB0cnVlO1xuICAgICAgICAvL3RoaXMucGxheWVyLmNvbCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDApO1xuICAgICAgICB0aGlzLmNoZWNrQm9hcmRGb3JSb3dzKGJvYXJkbWFwKTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMucGxheWVyLmxlZnRQcmVzcyhib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLnJpZ2h0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIucmlnaHRQcmVzcyhib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLy8gIHRoaXMucHJpbnRCb2FyZChib2FyZG1hcCk7XG4gICAgICAgIC8vICAgY29uc29sZS5sb2coXCJBdHRlbXB0aW5nIHRyYW5zZm9ybWF0aW9uXCIpO1xuICAgICAgICB0aGlzLnBsYXllci51cFByZXNzKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgdGhpcy5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgLy8gdGhpcy5wcmludEJvYXJkKGJvYXJkbWFwKTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuZG93blByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMucGxheWVyLmRvd25QcmVzcyhib2FyZG1hcCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmdlbmVyYXRlVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAxKTtcbiAgICAgICAgdmFyIHRlbXBLaW5kID0gXCJcIjtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGVtcEtpbmQgPSBcIklcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0ZW1wS2luZCA9IFwiMFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHRlbXBLaW5kID0gXCJUXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGVtcEtpbmQgPSBcIkpcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICB0ZW1wS2luZCA9IFwiTFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHRlbXBLaW5kID0gXCJaXCI7XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgdGVtcEtpbmQgPSBcIlNcIjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29sb3Jzd2l0Y2ggPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAxKTtcbiAgICAgICAgdmFyIHRlbXBjb2xvciA9IFwiXCI7XG4gICAgICAgIHN3aXRjaCAoY29sb3Jzd2l0Y2gpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0ZW1wY29sb3IgPSBcInJnYigxMSwgOTgsIDIzNylcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0ZW1wY29sb3IgPSBcInJnYigxOSwgMjM3LCAxMSlcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0ZW1wY29sb3IgPSBcInJnYigyNDksIDcyLCA5MClcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0ZW1wY29sb3IgPSBcInJnYigyNDUsIDI1NSwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGVtcGNvbG9yID0gXCJyZ2IoNjYsIDI1NSwgMjQ4KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHRlbXBjb2xvciA9IFwicmdiKDI1NSwgNjYsIDE3NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICB0ZW1wY29sb3IgPSBcInJnYigyNTUsIDE1NCwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1hbmFnZXIuZ2V0TmV4dFNoYXBlKCkgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1hbmFnZXIuc2V0TmV4dFNoYXBlKHRlbXBLaW5kKTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1hbmFnZXIuc2V0Q29sb3IodGVtcGNvbG9yKTtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVUeXBlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5raW5kID0gdGhpcy5nYW1lTWFuYWdlci5nZXROZXh0U2hhcGUoKTtcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMuZ2FtZU1hbmFnZXIuZ2V0Q29sb3IoKTtcbiAgICAgICAgdGhpcy5nYW1lTWFuYWdlci5zZXRDb2xvcih0ZW1wY29sb3IpO1xuICAgICAgICB0aGlzLmdhbWVNYW5hZ2VyLnNldE5leHRTaGFwZSh0ZW1wS2luZCk7XG4gICAgICAgIHZhciBjdXJyZW50Q29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICBpZiAodGhpcy5raW5kID09PSBcIlpcIikge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyXzEuUGxheWVyKERhdGFfMS5ac2hhcGUsIGN1cnJlbnRDb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5raW5kID09PSBcIklcIikge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyXzEuUGxheWVyKERhdGFfMS5Jc2hhcGUsIGN1cnJlbnRDb2xvcik7IC8vbmV3IE9QaWVjZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCIwXCIpIHtcbiAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIE9waWVjZVwiKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcl8xLlBsYXllcihEYXRhXzEuT1NoYXBlLCBjdXJyZW50Q29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCJUXCIpIHtcbiAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIE9waWVjZVwiKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcl8xLlBsYXllcihEYXRhXzEuVHNoYXBlLCBjdXJyZW50Q29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCJKXCIpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcl8xLlBsYXllcihEYXRhXzEuSnNoYXBlLCBjdXJyZW50Q29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCJMXCIpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcl8xLlBsYXllcihEYXRhXzEuTHNoYXBlLCBjdXJyZW50Q29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCJTXCIpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcl8xLlBsYXllcihEYXRhXzEuU3NoYXBlLCBjdXJyZW50Q29sb3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcImNhbGxpbmcgZHJhd1wiKTtcbiAgICAgICAgdmFyIHJldHVybnZhbCA9IHRoaXMucGxheWVyLmRyYXcoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgICAgICAgICB0aGlzLm5QbGF5ZXIgPSBuZXcgTmV4dFBsYXllcl8xLk5leHRQbGF5ZXIodGhpcy5maW5kTmV4dFRpbWUoKSwgdGhpcy5nYW1lTWFuYWdlci5nZXRDb2xvcigpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0dXJudmFsO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5kcmF3bWluaSA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICB0aGlzLm5QbGF5ZXIuZHJhdyhib2FyZG1hcCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmRlbGV0ZW1pbmkgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgdGhpcy5uUGxheWVyLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuZGVjciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuZGVjcigpO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5jaGVja0JvYXJkRm9yUm93cyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gMjA7XG4gICAgICAgIHZhciB3aWR0aCA9IDEwO1xuICAgICAgICBmb3IgKHZhciBpID0gaGVpZ2h0IC0gMTsgaSA+IC0xOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBOZWVkVG9EZWxldGUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IHdpZHRoIC0gMTsgaiA+IC0xOyBqLS0pIHtcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbaV1bal0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmVlZFRvRGVsZXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE5lZWRUb0RlbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1hbmFnZXIuc2V0U2NvcmUodGhpcy5nYW1lTWFuYWdlci5nZXRTY29yZSgpICsgMTAwKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gaTsgayA+IDE7IC0taykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHdpZHRoOyArK2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW2tdW2xdLmVtcHR5ID0gYm9hcmRtYXBbayAtIDFdW2xdLmVtcHR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBba11bbF0uY29sb3IgPSBib2FyZG1hcFtrIC0gMV1bbF0uY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwWzBdW2pdLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbMF1bal0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tCb2FyZEZvclJvd3MoYm9hcmRtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVFBpZWNlO1xufSgpKTtcbmV4cG9ydHMuVFBpZWNlID0gVFBpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGllY2UoY29sb3IsIGxlZnQsIHRvcCwgSXNNYWluQm9hcmQpIHtcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy5Jc01haW5Cb2FyZCA9IElzTWFpbkJvYXJkO1xuICAgIH1cbiAgICBQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChjdHgsIG9mZnNldCkge1xuICAgICAgICB2YXIgdG9wID0gMTQwO1xuICAgICAgICBpZiAodGhpcy5Jc01haW5Cb2FyZCkge1xuICAgICAgICAgICAgdG9wID0gNjA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcy5sZWZ0ID0gb2Zmc2V0O1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcbiAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMubGVmdCArIDIgKyBvZmZzZXQsIHRoaXMudG9wICsgMiArIHRvcCwgMzgsIDM4KTtcbiAgICB9O1xuICAgIHJldHVybiBQaWVjZTtcbn0oKSk7XG5leHBvcnRzLlBpZWNlID0gUGllY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQaWVjZV8xID0gcmVxdWlyZShcIi4uL1BpZWNlL1BpZWNlXCIpO1xudmFyIFRQaWVjZV8xID0gcmVxdWlyZShcIi4uL1BpZWNlL1RQaWVjZVwiKTtcbnZhciBHYW1lU2VydmljZV8xID0gcmVxdWlyZShcIi4uL1NlcnZpY2VzL0dhbWVTZXJ2aWNlXCIpO1xuLy88cmVmZXJlbmNlIHBhdGg9Jy4uL1NlcnZpY2VzL0dhbWVTZXJ2aWNlLnRzJy8+XG52YXIgQm9hcmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm9hcmQoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15Q2FudmFzJyk7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gJ3JnYigzOCwgMzcsIDM3KSc7IC8vYmxhY2tcbiAgICAgICAgdGhpcy5ib2FyZG1hcCA9IFtdO1xuICAgICAgICB0aGlzLm1pbmlib2FyZG1hcCA9IFtdO1xuICAgICAgICB0aGlzLnplcm9Cb2FyZCgpO1xuICAgICAgICB0aGlzLmluaXRCb2FyZCgpO1xuICAgICAgICB0aGlzLmdhbWVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50ID0gbmV3IFRQaWVjZV8xLlRQaWVjZSh0aGlzLmJvYXJkbWFwKTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgICAgIHRoaXMubGVmdCA9IGNlbnRlciAtIDIwMDtcbiAgICAgICAgdGhpcy5zY29yZU1hbmFnZXIgPSBHYW1lU2VydmljZV8xLkdhbWVTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgfVxuICAgIC8vIHRvdWNoRmFsbChwb3M6bnVtYmVyKXtcbiAgICAvLyAgICAgaWYocG9zID49dGhpcy5nZXRDZW50ZXIoKSl7XG4gICAgLy8gICAgICAgICB0aGlzLnQubGVmdFByZXNzKHRoaXMuYm9hcmRtYXAsdGhpcy5sZWZ0KTtcbiAgICAvLyAgICAgfWVsc2V7XG4gICAgLy8gICAgICAgICB0aGlzLnQucmlnaHRQcmVzcyh0aGlzLmJvYXJkbWFwLHRoaXMubGVmdCk7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG4gICAgQm9hcmQucHJvdG90eXBlLmxlZnRQcmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50LmxlZnRQcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLnJpZ2h0UHJlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudC5yaWdodFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUudXBQcmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50LnVwUHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5nZXRUb3VjaFBvcyA9IGZ1bmN0aW9uIChjYW52YXNEb20sIHRvdWNoRXZlbnQpIHtcbiAgICAgICAgdmFyIHJlY3QgPSBjYW52YXNEb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB0b3VjaEV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCAtIHJlY3QubGVmdCxcbiAgICAgICAgICAgIHk6IHRvdWNoRXZlbnQudG91Y2hlc1swXS5jbGllbnRZIC0gcmVjdC50b3BcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5nZXRQaWVjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudDtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMud2lkdGggLyAyKTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5rZXlQcmVzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gJzM4Jykge1xuICAgICAgICAgICAgLy8gdXAgYXJyb3dcbiAgICAgICAgICAgIHRoaXMudC51cFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICc0MCcpIHtcbiAgICAgICAgICAgIHRoaXMudC5kb3duUHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gJzM3Jykge1xuICAgICAgICAgICAgLy8gbGVmdCBhcnJvd1xuICAgICAgICAgICAgdGhpcy50LmxlZnRQcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PSAnMzknKSB7XG4gICAgICAgICAgICAvLyByaWdodCBhcnJvd1xuICAgICAgICAgICAgdGhpcy50LnJpZ2h0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmRlY3JUaW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5nYW1lSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcIkdhbWUgaW4gcG9yZ3Jlc3NcIik7XG4gICAgICAgICAgICB0aGlzLnQuZGVjcigpO1xuICAgICAgICAgICAgdmFyIHN1Y2Nlc3MgPSB0aGlzLnQuZHJhdyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICAgICAgLy8gdGhpcy50LmRlbGV0ZW1pbmkodGhpcy5taW5pYm9hcmRtYXApO1xuICAgICAgICAgICAgdGhpcy5jbGVhbk1pbmlCb2FyZCh0aGlzLm1pbmlib2FyZG1hcCk7XG4gICAgICAgICAgICB0aGlzLnQuZHJhd21pbmkodGhpcy5taW5pYm9hcmRtYXApO1xuICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTm8gaW4gcHJvZ3Jlc3NcIik7XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuemVyb0JvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5pbml0Qm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpO1xuICAgICAgICB2YXIgbGVmdCA9IGNlbnRlciAtIDIwMDtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdmFyIHRvcCA9IDYwO1xuICAgICAgICB2YXIgbG9jYWxjb2xvciA9IFwicmdiKDY2LCA2NiwgNjYpXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICAgICAgICAgICAgLy9pID0gcm93c1xuICAgICAgICAgICAgdmFyIG1pZGRsZUxpc3QgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTA7ICsraikge1xuICAgICAgICAgICAgICAgIC8vY29sdW1uc1xuICAgICAgICAgICAgICAgIHZhciBwdXNobWVQZWFjZSA9IG5ldyBQaWVjZV8xLlBpZWNlKGxvY2FsY29sb3IsIChqICogNDApLCAoaSAqIDQwKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcHVzaG1lUGVhY2UuZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG1pZGRsZUxpc3QucHVzaChwdXNobWVQZWFjZSk7XG4gICAgICAgICAgICAgICAgLy90aGlzLmJvYXJkbWFwW2ktMV1bai0xXSA9IG5ldyBTcGVhY2UobG9jYWxjb2xvcixsZWZ0KyhqKjQwKSx0b3ArKGkqNDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYm9hcmRtYXAucHVzaChtaWRkbGVMaXN0KTtcbiAgICAgICAgICAgIG1pZGRsZUxpc3QgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIG1pZGRsZUxpc3QgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHB1c2htZVBlYWNlID0gbmV3IFBpZWNlXzEuUGllY2UodGhpcy5iYWNrZ3JvdW5kQ29sb3IsIChqICogNDApLCAoaSAqIDQwKSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHB1c2htZVBlYWNlLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBtaWRkbGVMaXN0LnB1c2gocHVzaG1lUGVhY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5taW5pYm9hcmRtYXAucHVzaChtaWRkbGVMaXN0KTtcbiAgICAgICAgICAgIG1pZGRsZUxpc3QgPSBbXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmNsZWFuTWluaUJvYXJkID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIGJvYXJkbWFwLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuZm9yRWFjaChmdW5jdGlvbiAoaikge1xuICAgICAgICAgICAgICAgIGouY29sb3IgPSBcInJnYigzOCwgMzcsIDM3KVwiO1xuICAgICAgICAgICAgICAgIGouZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmRyYXdCb2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy56ZXJvQm9hcmQoKTtcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgICAgIHZhciBsZWZ0ID0gY2VudGVyIC0gMjAwO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB2YXIgbGVmdE9mZnNldCA9IGNlbnRlciArIDI1MDtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAncmdiKDI1NSwgMjU1LCAyNTUpJztcbiAgICAgICAgdGhpcy5jdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlUmVjdChsZWZ0LCA2MCwgNDAwLCA4MDApO1xuICAgICAgICAvL3RoaXMuY3R4LnN0cm9rZVJlY3QoY2VudGVyICsyNTAsIDE0MCwxNjAsMTYwKTtcbiAgICAgICAgLy90aGlzLmRyYXdMaW5lc01pbmkobGVmdE9mZnNldCk7XG4gICAgICAgIHRoaXMuZHJhd0xpbmVzKGxlZnQpO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5ib2FyZG1hcDsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciB0b3BlbnRyeSA9IF9hW19pXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgdG9wZW50cnlfMSA9IHRvcGVudHJ5OyBfYiA8IHRvcGVudHJ5XzEubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gdG9wZW50cnlfMVtfYl07XG4gICAgICAgICAgICAgICAgZW50cnkuZHJhdyh0aGlzLmN0eCwgbGVmdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgX2MgPSAwLCBfZCA9IHRoaXMubWluaWJvYXJkbWFwOyBfYyA8IF9kLmxlbmd0aDsgX2MrKykge1xuICAgICAgICAgICAgdmFyIHRvcGVudHJ5ID0gX2RbX2NdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2UgPSAwLCB0b3BlbnRyeV8yID0gdG9wZW50cnk7IF9lIDwgdG9wZW50cnlfMi5sZW5ndGg7IF9lKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSB0b3BlbnRyeV8yW19lXTtcbiAgICAgICAgICAgICAgICBlbnRyeS5kcmF3KHRoaXMuY3R4LCBsZWZ0T2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN0eC5mb250ID0gXCIzMHB4IHNhbnMtc2VyaWZcIjtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlVGV4dChcIlNjb3JlOlwiICsgdGhpcy5zY29yZU1hbmFnZXIuZ2V0U2NvcmUoKSwgbGVmdCwgOTAwKTtcbiAgICAgICAgdGhpcy5jdHguZm9udCA9IFwiMTJweCBzYW5zLXNlcmlmXCI7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVRleHQoXCJUeXBlc2NyaXB0IFRldHJpcyBjbG9uZSBieSBDYWxlYlwiLCBsZWZ0LCA5MzApO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmRyYXdMaW5lcyA9IGZ1bmN0aW9uIChsZWZ0KSB7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ3JnYig5MSwgODksIDg5KSc7XG4gICAgICAgIHZhciBsaW5lQm90dG9tID0gNjA7XG4gICAgICAgIHZhciBsaW5lVG9wID0gNjAgKyA4MDA7XG4gICAgICAgIC8vRHJhdyBob3Jpem9udGFsIGxpbmVzXG4gICAgICAgIGZvciAodmFyIG9mZnNldCA9IDQwOyBvZmZzZXQgPCA0MDA7IG9mZnNldCA9IG9mZnNldCArIDQwKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8obGVmdCArIG9mZnNldCwgbGluZUJvdHRvbSk7XG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8obGVmdCArIG9mZnNldCwgbGluZVRvcCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSA2MDsgb2Zmc2V0IDwgODAwICsgNjA7IG9mZnNldCA9IG9mZnNldCArIDQwKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8obGVmdCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyhsZWZ0ICsgNDAwLCBvZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5kcmF3TGluZXNNaW5pID0gZnVuY3Rpb24gKGxlZnQpIHtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAncmdiKDkxLCA4OSwgODkpJztcbiAgICAgICAgdmFyIGxpbmVCb3R0b20gPSAxNDA7XG4gICAgICAgIHZhciBsaW5lVG9wID0gMTQwICsgMTYwO1xuICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSA0MDsgb2Zmc2V0IDwgMTYwOyBvZmZzZXQgPSBvZmZzZXQgKyA0MCkge1xuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKGxlZnQgKyBvZmZzZXQsIGxpbmVCb3R0b20pO1xuICAgICAgICAgICAgdGhpcy5jdHgubGluZVRvKGxlZnQgKyBvZmZzZXQsIGxpbmVUb3ApO1xuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMTQwOyBvZmZzZXQgPCAxNjAgKyAxNTA7IG9mZnNldCA9IG9mZnNldCArIDQwKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8obGVmdCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyhsZWZ0ICsgMTYwLCBvZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCb2FyZDtcbn0oKSk7XG5leHBvcnRzLkJvYXJkID0gQm9hcmQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBCb2FyZF8xID0gcmVxdWlyZShcIi4vQm9hcmQvQm9hcmRcIik7XG52YXIgR2FtZVNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL1NlcnZpY2VzL0dhbWVTZXJ2aWNlXCIpO1xudmFyIGJvYXJkID0gbmV3IEJvYXJkXzEuQm9hcmQoKTtcbnZhciBHYW1lTWFuYWdlciA9IEdhbWVTZXJ2aWNlXzEuR2FtZVNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcbmZ1bmN0aW9uIGRyYXdCb2FyZCgpIHtcbiAgICAvL2NvbnNvbGUubG9nKFwiQ2FsbGluZyBkcmF3IGJvYXJkXCIpXG4gICAgYm9hcmQuZHJhd0JvYXJkKCk7XG59XG47XG52YXIgdGltZSA9IDExMDA7XG5mdW5jdGlvbiBkZXNjVGltZSgpIHtcbiAgICBib2FyZC5kZWNyVGltZSgpO1xuICAgIHRpbWUgPSB0aW1lIC0gMTtcbiAgICAvLyBpZih0aW1lID4gMCl7XG4gICAgLy8gc2V0VGltZW91dChkZXNjVGltZSgpLHRpbWUpO1xuICAgIC8vIH1cbn1cbi8vIGJvYXJkLmRyYXdCb2FyZCgpO1xudmFyIHRpbWVyRm9yTG9hZGluZ1Jlc3VsdDEgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZHJhd0JvYXJkLCAyMCk7XG4vL3ZhciB0aW1lckZvckxvYWRpbmdSZXN1bHQyID0gd2luZG93LnNldEludGVydmFsKGRlc2NUaW1lLCAzMDApO1xuLypcblxuKi9cbnZhciBjb3VudGVyID0gNzAwO1xud2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsgY291bnRlciA9IGNvdW50ZXIgLSAxMDsgfSwgNjAwMDApO1xudmFyIG15RnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgYm9hcmQuZGVjclRpbWUoKTtcbiAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKG15RnVuY3Rpb24sIGNvdW50ZXIpO1xufTtcbnZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKG15RnVuY3Rpb24sIGNvdW50ZXIpO1xuLypcblxuKi9cbi8vd2luZG93Lm9ubG9hZChzZXRUaW1lb3V0KGFsZXJ0KFwiU2V0dGluZyB0aW1lIG91dCFcIiksMzAwMCkpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjaGVjaywgZmFsc2UpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGRvd25QcmVzcywgZmFsc2UpO1xuZnVuY3Rpb24gY2hlY2soZSkge1xuICAgIC8vY29uc29sZS5sb2coXCJHYW1lIHNjb3JlOlwiK0dhbWVNYW5hZ2VyLmdldFNjb3JlKCkpO1xuICAgIGJvYXJkLmtleVByZXNzKGUpO1xufVxuZnVuY3Rpb24gZG93blByZXNzKGUpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhcIkdhbWUgc2NvcmU6XCIrR2FtZU1hbmFnZXIuZ2V0U2NvcmUoKSk7XG4gICAgdmFyIHhQb3MgPSBlLnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgdmFyIHlQb3MgPSBlLnRvdWNoZXNbMF0ucGFnZVk7XG4gICAgdGhpcy53aW5kb3cud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB2YXIgY2VudGVyID0gTWF0aC5mbG9vcih3aW5kb3cuaW5uZXJXaWR0aCAvIDIpO1xuICAgIGlmICh4UG9zID4gY2VudGVyIC0gMjAwICYmIHhQb3MgPCBjZW50ZXIgKyAyMDApIHtcbiAgICAgICAgYm9hcmQudXBQcmVzcygpO1xuICAgIH1cbiAgICBlbHNlIGlmICh4UG9zIDwgY2VudGVyIC0gMjAwKSB7XG4gICAgICAgIGJvYXJkLmxlZnRQcmVzcygpO1xuICAgIH1cbiAgICBlbHNlIGlmICh4UG9zID4gY2VudGVyICsgMjAwKSB7XG4gICAgICAgIGJvYXJkLnJpZ2h0UHJlc3MoKTtcbiAgICB9XG59XG53aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBib2FyZC5kcmF3Qm9hcmQoKTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9