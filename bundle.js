!function(t){var e={};function r(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(){}}();e.MatrixSet=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(0);e.Ishape=new i.MatrixSet,e.Ishape.matrix1=[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],e.Ishape.matrix2=[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],e.Ishape.matrix3=[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],e.Ishape.matrix4=[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],e.OShape=new i.MatrixSet,e.OShape.matrix1=[[1,1],[1,1]],e.OShape.matrix2=[[1,1],[1,1]],e.OShape.matrix3=[[1,1],[1,1]],e.OShape.matrix4=[[1,1],[1,1]],e.Jshape=new i.MatrixSet,e.Jshape.matrix1=[[0,1,0],[0,1,0],[1,1,0]],e.Jshape.matrix2=[[1,0,0],[1,1,1],[0,0,0]],e.Jshape.matrix3=[[0,1,1],[0,1,0],[0,1,0]],e.Jshape.matrix4=[[0,0,0],[1,1,1],[0,0,1]],e.Lshape=new i.MatrixSet,e.Lshape.matrix1=[[0,1,0],[0,1,0],[0,1,1]],e.Lshape.matrix2=[[0,0,0],[1,1,1],[1,0,0]],e.Lshape.matrix3=[[1,1,0],[0,1,0],[0,1,0]],e.Lshape.matrix4=[[0,0,1],[1,1,1],[0,0,0]],e.Sshape=new i.MatrixSet,e.Sshape.matrix1=[[0,1,0],[0,1,1],[0,0,1]],e.Sshape.matrix2=[[0,0,0],[0,1,1],[1,1,0]],e.Sshape.matrix3=[[0,1,0],[0,1,1],[0,0,1]],e.Sshape.matrix4=[[0,0,0],[0,1,1],[1,1,0]],e.Tshape=new i.MatrixSet,e.Tshape.matrix1=[[0,1,0],[1,1,1],[0,0,0]],e.Tshape.matrix2=[[0,1,0],[0,1,1],[0,1,0]],e.Tshape.matrix3=[[0,0,0],[1,1,1],[0,1,0]],e.Tshape.matrix4=[[0,1,0],[1,1,0],[0,1,0]],e.Zshape=new i.MatrixSet,e.Zshape.matrix1=[[0,0,1],[0,1,1],[0,1,0]],e.Zshape.matrix2=[[0,0,0],[1,1,0],[0,1,1]],e.Zshape.matrix3=[[0,0,1],[0,1,1],[0,1,0]],e.Zshape.matrix4=[[0,0,0],[1,1,0],[0,1,1]]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){this.row=t,this.col=e}}();e.Coordinate=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),o=function(){function t(t){this.originalColor="rgb(66, 66, 66)",this.matrixes=t,this.coordinates=[],this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+2),this.state=1}return t.prototype.leftPress=function(t,e){this.checkBelowWrapper(t,this.row,this.col-1)&&this.col--},t.prototype.rightPress=function(t,e){this.checkBelowWrapper(t,this.row,this.col+1)&&this.col++},t.prototype.upPress=function(t,e){var r=this,i=this.deleteCoordinates(t),o=this.state;this.incrementState(),this.checkBelowWrapper(t,this.row,this.col)||(this.state=o,i.forEach(function(e){r.drawToPoint(t,e)}))},t.prototype.downPress=function(t){this.checkBelowWrapper(t,this.row+1,this.col)&&this.row++},t.prototype.draw=function(t,e){return this.checkBelowWrapper(t,this.row,this.col)?(this.deleteCoordinates(t),this.drawMatrixWrapper(t),!0):(this.done=!0,0!==this.row)},t.prototype.checkBelowWrapper=function(t,e,r){switch(this.state){case 1:return this.checkBelow(t,this.matrixes.matrix1,e,r);case 2:return this.checkBelow(t,this.matrixes.matrix2,e,r);case 3:return this.checkBelow(t,this.matrixes.matrix3,e,r);case 4:return this.checkBelow(t,this.matrixes.matrix4,e,r)}},t.prototype.drawMatrix=function(t,e){for(var r=0;r<e.length;++r)for(var o=0;o<e[r].length;++o)1===e[r][o]&&this.drawToPoint(t,new i.Coordinate(this.row+r,this.col+o))},t.prototype.drawMatrixWrapper=function(t){switch(this.state){case 1:this.drawMatrix(t,this.matrixes.matrix1);break;case 2:this.drawMatrix(t,this.matrixes.matrix2);break;case 3:this.drawMatrix(t,this.matrixes.matrix3);break;case 4:this.drawMatrix(t,this.matrixes.matrix4)}},t.prototype.checkBelow=function(t,e,r,i){var o=this,s=this.deleteCoordinates(t);return!!this.checkIfFits(r,i,t,e)||(s.forEach(function(e){o.drawToPoint(t,e)}),!1)},t.prototype.checkIfFits=function(t,e,r,i){for(var o=0;o<i.length;++o)for(var s=0;s<i[o].length;++s)if(1===i[o][s]){if(!r[t+o]||!r[t+o][e+s])return!1;if(!r[t+o][e+s].empty)return!1}return!0},t.prototype.decr=function(){this.row=this.row+1},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t.prototype.drawToPoint=function(t,e){t[e.row]&&t[e.row][e.col]?(t[e.row][e.col].color=this.color,t[e.row][e.col].empty=!1,this.coordinates.push(new i.Coordinate(e.row,e.col))):console.log("Trying to draw something that doesn't exists at boardmap["+e.row+"]["+e.col+"]")},t.prototype.deleteToPoint=function(t,e,r){t[e]&&t[e][r]?(t[e][r].color=this.originalColor,t[e][r].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+e+"]["+r+"]")},t.prototype.deleteCoordinates=function(t){for(var e=[];this.coordinates.length>0;){var r=this.coordinates.pop();e.push(r),this.deleteToPoint(t,r.row,r.col)}return e},t.prototype.incrementState=function(){this.state<4?++this.state:this.state=1},t}();e.Player=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),o=r(1),s=function(){function t(t){this.originalColor="rgb(66, 66, 66)",this.initP(t)}return t.prototype.printBoard=function(t){for(var e=0;e<20;++e){for(var r="",i=0;i<10;++i)t[e][i].empty?r+="x":r+="o";console.log(r)}},t.prototype.initP=function(t){this.started=!1,this.speiceList=[],this.generateType(),this.player.row=-1,this.firstTime=!0,this.checkBoardForRows(t)},t.prototype.leftPress=function(t,e){this.player.leftPress(t,e),this.draw(t,e)},t.prototype.rightPress=function(t,e){this.player.rightPress(t,e),this.draw(t,e)},t.prototype.upPress=function(t,e){this.player.upPress(t,e),this.draw(t,e)},t.prototype.downPress=function(t,e){this.player.downPress(t),this.draw(t,e)},t.prototype.generateType=function(){switch(Math.floor(6*Math.random()+1)){case 1:this.kind="I";break;case 2:this.kind="0";break;case 3:this.kind="T";break;case 4:this.kind="J";break;case 5:this.kind="L";break;case 6:this.kind="Z";case 7:this.kind="S"}"Z"===this.kind?this.player=new i.Player(o.Zshape):"I"===this.kind?this.player=new i.Player(o.Ishape):"0"===this.kind?this.player=new i.Player(o.OShape):"T"===this.kind?this.player=new i.Player(o.Tshape):"J"===this.kind?this.player=new i.Player(o.Jshape):"L"===this.kind?this.player=new i.Player(o.Lshape):"S"===this.kind&&(this.player=new i.Player(o.Sshape))},t.prototype.draw=function(t,e){this.player.done&&(this.player=new i.Player(o.Zshape));var r=this.player.draw(t,e);return this.player.done&&(this.player=new i.Player(o.Zshape),this.initP(t)),r},t.prototype.decr=function(){this.player.decr()},t.prototype.checkBoardForRows=function(t){for(var e=19;e>-1;e--){for(var r=!0,i=9;i>-1;i--)t[e][i].empty&&(r=!1);if(r){for(var o=e;o>1;--o)for(var s=0;s<10;++s)t[o][s].empty=t[o-1][s].empty,t[o][s].color=t[o-1][s].color;for(i=0;i<10;i++)t[0][i].empty=!0,t[0][i].color=this.originalColor;this.checkBoardForRows(t)}}},t}();e.TPiece=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,r){this.color=t,this.left=e,this.top=r}return t.prototype.draw=function(t,e){t.fillStyle=this.color,t.fillRect(this.left+2+e,this.top+2+60,38,38)},t}();e.Piece=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),o=r(4),s=function(){function t(){this.canvas=document.querySelector(".myCanvas"),this.backgroundColor="rgb(38, 37, 37)",this.boardmap=[],this.zeroBoard(),this.initBoard(),this.gameInProgress=!0,this.t=new o.TPiece(this.boardmap);var t=this.getCenter();this.left=t-200}return t.prototype.touchFall=function(t){t>=this.getCenter()?this.t.leftPress(this.boardmap,this.left):this.t.rightPress(this.boardmap,this.left)},t.prototype.getTouchPos=function(t,e){var r=t.getBoundingClientRect();return{x:e.touches[0].clientX-r.left,y:e.touches[0].clientY-r.top}},t.prototype.getPiece=function(){return this.t},t.prototype.getCenter=function(){return Math.floor(this.width/2)},t.prototype.keyPress=function(t){"38"==t.keyCode?this.t.upPress(this.boardmap,this.left):"40"==t.keyCode?this.t.downPress(this.boardmap,this.left):"37"==t.keyCode?this.t.leftPress(this.boardmap,this.left):"39"==t.keyCode&&this.t.rightPress(this.boardmap,this.left)},t.prototype.decrTime=function(){this.gameInProgress&&(this.t.decr(),this.t.draw(this.boardmap,this.left)||(this.gameInProgress=!1))},t.prototype.zeroBoard=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.width=window.innerWidth,this.height=window.innerHeight,this.ctx=this.canvas.getContext("2d")},t.prototype.initBoard=function(){var t=this.getCenter()-200;this.left=t;for(var e=0;e<20;e++){for(var r=[],o=0;o<10;++o){var s=new i.Piece("rgb(66, 66, 66)",40*o,40*e);s.empty=!0,r.push(s)}this.boardmap.push(r),r=[]}},t.prototype.drawBoard=function(){this.zeroBoard(),this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height);var t=this.getCenter()-200;this.left=t,this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.lineWidth=1,this.ctx.strokeRect(t,60,400,800),this.drawLines(t);for(var e=0,r=this.boardmap;e<r.length;e++)for(var i=0,o=r[e];i<o.length;i++){o[i].draw(this.ctx,t)}},t.prototype.drawLines=function(t){this.ctx.strokeStyle="rgb(91, 89, 89)";for(var e=40;e<400;e+=40)this.ctx.moveTo(t+e,60),this.ctx.lineTo(t+e,860),this.ctx.stroke();for(e=60;e<860;e+=40)this.ctx.moveTo(t,e),this.ctx.lineTo(t+400,e),this.ctx.stroke()},t}();e.Board=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=new(r(6).Board);window.setInterval(function(){i.drawBoard()},20),window.setInterval(function(){i.decrTime(),50},300);window.addEventListener("keydown",function(t){i.keyPress(t)},!1),window.addEventListener("touchstart",function(t){var e=t.originalEvent.touches[0].pageX;i.touchFall(e)},!1),window.onresize=function(t){i.drawBoard()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL01hdHJpeFNldC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvRGF0YS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGxheWVycy9Db29yZGluYXRlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QbGF5ZXJzL1BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGllY2UvVFBpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QaWVjZS9QaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvQm9hcmQvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiTWF0cml4U2V0IiwiTWF0cml4U2V0XzEiLCJJc2hhcGUiLCJtYXRyaXgxIiwibWF0cml4MiIsIm1hdHJpeDMiLCJtYXRyaXg0IiwiT1NoYXBlIiwiSnNoYXBlIiwiTHNoYXBlIiwiU3NoYXBlIiwiVHNoYXBlIiwiWnNoYXBlIiwiQ29vcmRpbmF0ZSIsInRoaXMiLCJyb3ciLCJjb2wiLCJDb29yZGluYXRlXzEiLCJQbGF5ZXIiLCJzZXQiLCJvcmlnaW5hbENvbG9yIiwibWF0cml4ZXMiLCJjb29yZGluYXRlcyIsInNldGNvbG9yIiwiZG9uZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInN0YXRlIiwibGVmdFByZXNzIiwiYm9hcmRtYXAiLCJsZWZ0IiwiY2hlY2tCZWxvd1dyYXBwZXIiLCJyaWdodFByZXNzIiwidXBQcmVzcyIsIl90aGlzIiwiZGVsZXRlZFBvaW50cyIsImRlbGV0ZUNvb3JkaW5hdGVzIiwib2xkc3RhdGUiLCJpbmNyZW1lbnRTdGF0ZSIsImZvckVhY2giLCJwb2ludCIsImRyYXdUb1BvaW50IiwiZG93blByZXNzIiwiZHJhdyIsImRyYXdNYXRyaXhXcmFwcGVyIiwiY2hlY2tCZWxvdyIsImRyYXdNYXRyaXgiLCJtYXRyaXgiLCJsZW5ndGgiLCJqIiwiY2hlY2tJZkZpdHMiLCJlbXB0eSIsImRlY3IiLCJjb2xvciIsIkNvcmQiLCJwdXNoIiwiY29uc29sZSIsImxvZyIsImRlbGV0ZVRvUG9pbnQiLCJ4IiwieSIsInRlbXAiLCJjdXJyZW50IiwicG9wIiwiUGxheWVyXzEiLCJEYXRhXzEiLCJUUGllY2UiLCJpbml0UCIsInByaW50Qm9hcmQiLCJzdHJpbmciLCJzdGFydGVkIiwic3BlaWNlTGlzdCIsImdlbmVyYXRlVHlwZSIsInBsYXllciIsImZpcnN0VGltZSIsImNoZWNrQm9hcmRGb3JSb3dzIiwia2luZCIsInJldHVybnZhbCIsImhlaWdodCIsIk5lZWRUb0RlbGV0ZSIsIndpZHRoIiwiayIsIlBpZWNlIiwidG9wIiwiY3R4Iiwib2Zmc2V0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJQaWVjZV8xIiwiVFBpZWNlXzEiLCJCb2FyZCIsImNhbnZhcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImJhY2tncm91bmRDb2xvciIsInplcm9Cb2FyZCIsImluaXRCb2FyZCIsImdhbWVJblByb2dyZXNzIiwiY2VudGVyIiwiZ2V0Q2VudGVyIiwidG91Y2hGYWxsIiwicG9zIiwiZ2V0VG91Y2hQb3MiLCJjYW52YXNEb20iLCJ0b3VjaEV2ZW50IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImdldFBpZWNlIiwia2V5UHJlc3MiLCJlIiwia2V5Q29kZSIsImRlY3JUaW1lIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZ2V0Q29udGV4dCIsIm1pZGRsZUxpc3QiLCJwdXNobWVQZWFjZSIsImRyYXdCb2FyZCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlUmVjdCIsImRyYXdMaW5lcyIsIl9pIiwiX2EiLCJfYiIsInRvcGVudHJ5XzEiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJib2FyZCIsInNldEludGVydmFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInhQb3MiLCJvcmlnaW5hbEV2ZW50IiwicGFnZVgiLCJvbnJlc2l6ZSIsImV2ZW50Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJDLEtBQUEsS0FBQUQsSUFDckksT0FBQUYsR0FJQXpCLEVBQUE2QixFQUFBLFNBQUExQixHQUNBLElBQUFTLEVBQUFULEtBQUFxQixXQUNBLFdBQTJCLE9BQUFyQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBaUIsRUFBQUMsR0FBc0QsT0FBQWpCLE9BQUFrQixVQUFBQyxlQUFBMUIsS0FBQXVCLEVBQUFDLElBR3REL0IsRUFBQWtDLEVBQUEsR0FJQWxDLElBQUFtQyxFQUFBLGtDQ2pGQXJCLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENtQixPQUFBLElBQzlDLElBQUFlLEVBQUEsV0FHQSxPQUZBLGFBREEsR0FLQWxDLEVBQUFrQywwQ0NOQXRCLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENtQixPQUFBLElBQzlDLElBQUFnQixFQUFBckMsRUFBQSxHQUNBRSxFQUFBb0MsT0FBQSxJQUFBRCxFQUFBRCxVQUNBbEMsRUFBQW9DLE9BQUFDLFVBQ0EsVUFDQSxVQUNBLFVBQ0EsVUFFQXJDLEVBQUFvQyxPQUFBRSxVQUNBLFVBQ0EsVUFDQSxVQUNBLFVBRUF0QyxFQUFBb0MsT0FBQUcsVUFDQSxVQUNBLFVBQ0EsVUFDQSxVQUVBdkMsRUFBQW9DLE9BQUFJLFVBQ0EsVUFDQSxVQUNBLFVBQ0EsVUFFQXhDLEVBQUF5QyxPQUFBLElBQUFOLEVBQUFELFVBQ0FsQyxFQUFBeUMsT0FBQUosVUFDQSxNQUNBLE1BQ0FyQyxFQUFBeUMsT0FBQUgsVUFDQSxNQUNBLE1BQ0F0QyxFQUFBeUMsT0FBQUYsVUFDQSxNQUNBLE1BQ0F2QyxFQUFBeUMsT0FBQUQsVUFDQSxNQUNBLE1BQ0F4QyxFQUFBMEMsT0FBQSxJQUFBUCxFQUFBRCxVQUNBbEMsRUFBQTBDLE9BQUFMLFVBQ0EsUUFDQSxRQUNBLFFBRUFyQyxFQUFBMEMsT0FBQUosVUFDQSxRQUNBLFFBQ0EsUUFFQXRDLEVBQUEwQyxPQUFBSCxVQUNBLFFBQ0EsUUFDQSxRQUVBdkMsRUFBQTBDLE9BQUFGLFVBQ0EsUUFDQSxRQUNBLFFBRUF4QyxFQUFBMkMsT0FBQSxJQUFBUixFQUFBRCxVQUNBbEMsRUFBQTJDLE9BQUFOLFVBQ0EsUUFDQSxRQUNBLFFBRUFyQyxFQUFBMkMsT0FBQUwsVUFDQSxRQUNBLFFBQ0EsUUFFQXRDLEVBQUEyQyxPQUFBSixVQUNBLFFBQ0EsUUFDQSxRQUVBdkMsRUFBQTJDLE9BQUFILFVBQ0EsUUFDQSxRQUNBLFFBRUF4QyxFQUFBNEMsT0FBQSxJQUFBVCxFQUFBRCxVQUNBbEMsRUFBQTRDLE9BQUFQLFVBQ0EsUUFDQSxRQUNBLFFBRUFyQyxFQUFBNEMsT0FBQU4sVUFDQSxRQUNBLFFBQ0EsUUFFQXRDLEVBQUE0QyxPQUFBTCxVQUNBLFFBQ0EsUUFDQSxRQUVBdkMsRUFBQTRDLE9BQUFKLFVBQ0EsUUFDQSxRQUNBLFFBRUF4QyxFQUFBNkMsT0FBQSxJQUFBVixFQUFBRCxVQUNBbEMsRUFBQTZDLE9BQUFSLFVBQ0EsUUFDQSxRQUNBLFFBRUFyQyxFQUFBNkMsT0FBQVAsVUFDQSxRQUNBLFFBQ0EsUUFFQXRDLEVBQUE2QyxPQUFBTixVQUNBLFFBQ0EsUUFDQSxRQUVBdkMsRUFBQTZDLE9BQUFMLFVBQ0EsUUFDQSxRQUNBLFFBRUF4QyxFQUFBOEMsT0FBQSxJQUFBWCxFQUFBRCxVQUNBbEMsRUFBQThDLE9BQUFULFVBQ0EsUUFDQSxRQUNBLFFBRUFyQyxFQUFBOEMsT0FBQVIsVUFDQSxRQUNBLFFBQ0EsUUFFQXRDLEVBQUE4QyxPQUFBUCxVQUNBLFFBQ0EsUUFDQSxRQUVBdkMsRUFBQThDLE9BQUFOLFVBQ0EsUUFDQSxRQUNBLHNDQy9JQTVCLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENtQixPQUFBLElBQzlDLElBQUE0QixFQUFBLFdBS0EsT0FKQSxTQUFBL0IsRUFBQVQsR0FDQXlDLEtBQUFDLElBQUFqQyxFQUNBZ0MsS0FBQUUsSUFBQTNDLEdBSEEsR0FPQVAsRUFBQStDLDJDQ1JBbkMsT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q21CLE9BQUEsSUFDOUMsSUFBQWdDLEVBQUFyRCxFQUFBLEdBQ0FzRCxFQUFBLFdBQ0EsU0FBQUEsRUFBQUMsR0FDQUwsS0FBQU0sY0FBQSxrQkFDQU4sS0FBQU8sU0FBQUYsRUFDQUwsS0FBQVEsZUFDQVIsS0FBQVMsV0FDQVQsS0FBQVUsTUFBQSxFQUNBVixLQUFBRSxJQUFBUyxLQUFBQyxNQUFBLEVBQUFELEtBQUFFLFNBQUEsR0FDQWIsS0FBQWMsTUFBQSxFQTJMQSxPQXhMQVYsRUFBQXRCLFVBQUFpQyxVQUFBLFNBQUFDLEVBQUFDLEdBQ0FqQixLQUFBa0Isa0JBQUFGLEVBQUFoQixLQUFBQyxJQUFBRCxLQUFBRSxJQUFBLElBQ0FGLEtBQUFFLE9BR0FFLEVBQUF0QixVQUFBcUMsV0FBQSxTQUFBSCxFQUFBQyxHQUNBakIsS0FBQWtCLGtCQUFBRixFQUFBaEIsS0FBQUMsSUFBQUQsS0FBQUUsSUFBQSxJQUNBRixLQUFBRSxPQUtBRSxFQUFBdEIsVUFBQXNDLFFBQUEsU0FBQUosRUFBQUMsR0FDQSxJQUFBSSxFQUFBckIsS0FDQXNCLEVBQUF0QixLQUFBdUIsa0JBQUFQLEdBQ0FRLEVBQUF4QixLQUFBYyxNQUNBZCxLQUFBeUIsaUJBQ0F6QixLQUFBa0Isa0JBQUFGLEVBQUFoQixLQUFBQyxJQUFBRCxLQUFBRSxPQUdBRixLQUFBYyxNQUFBVSxFQUNBRixFQUFBSSxRQUFBLFNBQUFDLEdBQ0FOLEVBQUFPLFlBQUFaLEVBQUFXLE9BSUF2QixFQUFBdEIsVUFBQStDLFVBQUEsU0FBQWIsR0FDQWhCLEtBQUFrQixrQkFBQUYsRUFBQWhCLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsTUFDQUYsS0FBQUMsT0FHQUcsRUFBQXRCLFVBQUFnRCxLQUFBLFNBQUFkLEVBQUFDLEdBS0EsT0FBQWpCLEtBQUFrQixrQkFBQUYsRUFBQWhCLEtBQUFDLElBQUFELEtBQUFFLE1BU0FGLEtBQUF1QixrQkFBQVAsR0FDQWhCLEtBQUErQixrQkFBQWYsSUFDQSxJQVZBaEIsS0FBQVUsTUFBQSxFQUNBLElBQUFWLEtBQUFDLE1BWUFHLEVBQUF0QixVQUFBb0Msa0JBQUEsU0FBQUYsRUFBQWYsRUFBQUMsR0FDQSxPQUFBRixLQUFBYyxPQUNBLE9BQ0EsT0FBQWQsS0FBQWdDLFdBQUFoQixFQUFBaEIsS0FBQU8sU0FBQWxCLFFBQUFZLEVBQUFDLEdBRUEsT0FDQSxPQUFBRixLQUFBZ0MsV0FBQWhCLEVBQUFoQixLQUFBTyxTQUFBakIsUUFBQVcsRUFBQUMsR0FFQSxPQUNBLE9BQUFGLEtBQUFnQyxXQUFBaEIsRUFBQWhCLEtBQUFPLFNBQUFoQixRQUFBVSxFQUFBQyxHQUVBLE9BQ0EsT0FBQUYsS0FBQWdDLFdBQUFoQixFQUFBaEIsS0FBQU8sU0FBQWYsUUFBQVMsRUFBQUMsS0FJQUUsRUFBQXRCLFVBQUFtRCxXQUFBLFNBQUFqQixFQUFBa0IsR0FDQSxRQUFBaEYsRUFBQSxFQUF1QkEsRUFBQWdGLEVBQUFDLFNBQW1CakYsRUFDMUMsUUFBQWtGLEVBQUEsRUFBMkJBLEVBQUFGLEVBQUFoRixHQUFBaUYsU0FBc0JDLEVBQ2pELElBQUFGLEVBQUFoRixHQUFBa0YsSUFDQXBDLEtBQUE0QixZQUFBWixFQUFBLElBQUFiLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEvQyxFQUFBOEMsS0FBQUUsSUFBQWtDLEtBS0FoQyxFQUFBdEIsVUFBQWlELGtCQUFBLFNBQUFmLEdBQ0EsT0FBQWhCLEtBQUFjLE9BQ0EsT0FDQWQsS0FBQWlDLFdBQUFqQixFQUFBaEIsS0FBQU8sU0FBQWxCLFNBQ0EsTUFDQSxPQUNBVyxLQUFBaUMsV0FBQWpCLEVBQUFoQixLQUFBTyxTQUFBakIsU0FDQSxNQUNBLE9BQ0FVLEtBQUFpQyxXQUFBakIsRUFBQWhCLEtBQUFPLFNBQUFoQixTQUNBLE1BQ0EsT0FDQVMsS0FBQWlDLFdBQUFqQixFQUFBaEIsS0FBQU8sU0FBQWYsV0FJQVksRUFBQXRCLFVBQUFrRCxXQUFBLFNBQUFoQixFQUFBa0IsRUFBQWpDLEVBQUFDLEdBQ0EsSUFBQW1CLEVBQUFyQixLQUNBc0IsRUFBQXRCLEtBQUF1QixrQkFBQVAsR0FDQSxRQUFBaEIsS0FBQXFDLFlBQUFwQyxFQUFBQyxFQUFBYyxFQUFBa0IsS0FJQVosRUFBQUksUUFBQSxTQUFBQyxHQUNBTixFQUFBTyxZQUFBWixFQUFBVyxNQUVBLElBR0F2QixFQUFBdEIsVUFBQXVELFlBQUEsU0FBQXBDLEVBQUFDLEVBQUFjLEVBQUFrQixHQUNBLFFBQUFoRixFQUFBLEVBQXVCQSxFQUFBZ0YsRUFBQUMsU0FBbUJqRixFQUMxQyxRQUFBa0YsRUFBQSxFQUEyQkEsRUFBQUYsRUFBQWhGLEdBQUFpRixTQUFzQkMsRUFDakQsT0FBQUYsRUFBQWhGLEdBQUFrRixHQUFBLENBQ0EsSUFBQXBCLEVBQUFmLEVBQUEvQyxLQUFBOEQsRUFBQWYsRUFBQS9DLEdBQUFnRCxFQUFBa0MsR0FDQSxTQUVBLElBQUFwQixFQUFBZixFQUFBL0MsR0FBQWdELEVBQUFrQyxHQUFBRSxNQUNBLFNBS0EsVUFFQWxDLEVBQUF0QixVQUFBeUQsS0FBQSxXQUNBdkMsS0FBQUMsSUFBQUQsS0FBQUMsSUFBQSxHQUVBRyxFQUFBdEIsVUFBQTJCLFNBQUEsV0FFQSxPQURBRSxLQUFBQyxNQUFBLEVBQUFELEtBQUFFLFNBQUEsSUFFQSxPQUNBYixLQUFBd0MsTUFBQSxtQkFDQSxNQUNBLE9BQ0F4QyxLQUFBd0MsTUFBQSxtQkFDQSxNQUNBLE9BQ0F4QyxLQUFBd0MsTUFBQSxtQkFDQSxNQUNBLE9BQ0F4QyxLQUFBd0MsTUFBQSxvQkFDQSxNQUNBLE9BQ0F4QyxLQUFBd0MsTUFBQSxvQkFDQSxNQUNBLE9BQ0F4QyxLQUFBd0MsTUFBQSxvQkFDQSxNQUNBLE9BQ0F4QyxLQUFBd0MsTUFBQSxzQkFJQXBDLEVBQUF0QixVQUFBOEMsWUFBQSxTQUFBWixFQUFBeUIsR0FDQXpCLEVBQUF5QixFQUFBeEMsTUFBQWUsRUFBQXlCLEVBQUF4QyxLQUFBd0MsRUFBQXZDLE1BQ0FjLEVBQUF5QixFQUFBeEMsS0FBQXdDLEVBQUF2QyxLQUFBc0MsTUFBQXhDLEtBQUF3QyxNQUNBeEIsRUFBQXlCLEVBQUF4QyxLQUFBd0MsRUFBQXZDLEtBQUFvQyxPQUFBLEVBQ0F0QyxLQUFBUSxZQUFBa0MsS0FBQSxJQUFBdkMsRUFBQUosV0FBQTBDLEVBQUF4QyxJQUFBd0MsRUFBQXZDLE9BR0F5QyxRQUFBQyxJQUFBLDREQUFBSCxFQUFBeEMsSUFBQSxLQUFBd0MsRUFBQXZDLElBQUEsTUFHQUUsRUFBQXRCLFVBQUErRCxjQUFBLFNBQUE3QixFQUFBOEIsRUFBQUMsR0FDQS9CLEVBQUE4QixJQUFBOUIsRUFBQThCLEdBQUFDLElBQ0EvQixFQUFBOEIsR0FBQUMsR0FBQVAsTUFBQXhDLEtBQUFNLGNBQ0FVLEVBQUE4QixHQUFBQyxHQUFBVCxPQUFBLEdBR0FLLFFBQUFDLElBQUEsOERBQUFFLEVBQUEsS0FBQUMsRUFBQSxNQUdBM0MsRUFBQXRCLFVBQUF5QyxrQkFBQSxTQUFBUCxHQUVBLElBREEsSUFBQWdDLEtBQ0FoRCxLQUFBUSxZQUFBMkIsT0FBQSxJQUNBLElBQUFjLEVBQUFqRCxLQUFBUSxZQUFBMEMsTUFDQUYsRUFBQU4sS0FBQU8sR0FDQWpELEtBQUE2QyxjQUFBN0IsRUFBQWlDLEVBQUFoRCxJQUFBZ0QsRUFBQS9DLEtBRUEsT0FBQThDLEdBRUE1QyxFQUFBdEIsVUFBQTJDLGVBQUEsV0FDQXpCLEtBQUFjLE1BQUEsSUFDQWQsS0FBQWMsTUFHQWQsS0FBQWMsTUFBQSxHQUdBVixFQW5NQSxHQXFNQXBELEVBQUFvRCx1Q0N2TUF4QyxPQUFBQyxlQUFBYixFQUFBLGNBQThDbUIsT0FBQSxJQUM5QyxJQUFBZ0YsRUFBQXJHLEVBQUEsR0FDQXNHLEVBQUF0RyxFQUFBLEdBQ0F1RyxFQUFBLFdBQ0EsU0FBQUEsRUFBQXJDLEdBQ0FoQixLQUFBTSxjQUFBLGtCQUVBTixLQUFBc0QsTUFBQXRDLEdBbUlBLE9BaklBcUMsRUFBQXZFLFVBQUF5RSxXQUFBLFNBQUF2QyxHQUNBLFFBQUE5RCxFQUFBLEVBQXVCQSxFQUFBLEtBQVFBLEVBQUEsQ0FFL0IsSUFEQSxJQUFBc0csRUFBQSxHQUNBcEIsRUFBQSxFQUEyQkEsRUFBQSxLQUFRQSxFQUNuQ3BCLEVBQUE5RCxHQUFBa0YsR0FBQUUsTUFDQWtCLEdBQUEsSUFHQUEsR0FBQSxJQUdBYixRQUFBQyxJQUFBWSxLQUdBSCxFQUFBdkUsVUFBQXdFLE1BQUEsU0FBQXRDLEdBQ0FoQixLQUFBeUQsU0FBQSxFQUNBekQsS0FBQTBELGNBQ0ExRCxLQUFBMkQsZUFDQTNELEtBQUE0RCxPQUFBM0QsS0FBQSxFQUNBRCxLQUFBNkQsV0FBQSxFQUVBN0QsS0FBQThELGtCQUFBOUMsSUFFQXFDLEVBQUF2RSxVQUFBaUMsVUFBQSxTQUFBQyxFQUFBQyxHQUNBakIsS0FBQTRELE9BQUE3QyxVQUFBQyxFQUFBQyxHQUNBakIsS0FBQThCLEtBQUFkLEVBQUFDLElBRUFvQyxFQUFBdkUsVUFBQXFDLFdBQUEsU0FBQUgsRUFBQUMsR0FDQWpCLEtBQUE0RCxPQUFBekMsV0FBQUgsRUFBQUMsR0FDQWpCLEtBQUE4QixLQUFBZCxFQUFBQyxJQUVBb0MsRUFBQXZFLFVBQUFzQyxRQUFBLFNBQUFKLEVBQUFDLEdBR0FqQixLQUFBNEQsT0FBQXhDLFFBQUFKLEVBQUFDLEdBQ0FqQixLQUFBOEIsS0FBQWQsRUFBQUMsSUFHQW9DLEVBQUF2RSxVQUFBK0MsVUFBQSxTQUFBYixFQUFBQyxHQUNBakIsS0FBQTRELE9BQUEvQixVQUFBYixHQUNBaEIsS0FBQThCLEtBQUFkLEVBQUFDLElBRUFvQyxFQUFBdkUsVUFBQTZFLGFBQUEsV0FFQSxPQURBaEQsS0FBQUMsTUFBQSxFQUFBRCxLQUFBRSxTQUFBLElBRUEsT0FDQWIsS0FBQStELEtBQUEsSUFDQSxNQUNBLE9BQ0EvRCxLQUFBK0QsS0FBQSxJQUNBLE1BQ0EsT0FDQS9ELEtBQUErRCxLQUFBLElBQ0EsTUFDQSxPQUNBL0QsS0FBQStELEtBQUEsSUFDQSxNQUNBLE9BQ0EvRCxLQUFBK0QsS0FBQSxJQUNBLE1BQ0EsT0FDQS9ELEtBQUErRCxLQUFBLElBQ0EsT0FDQS9ELEtBQUErRCxLQUFBLElBRUEsTUFBQS9ELEtBQUErRCxLQUNBL0QsS0FBQTRELE9BQUEsSUFBQVQsRUFBQS9DLE9BQUFnRCxFQUFBdEQsUUFFQSxNQUFBRSxLQUFBK0QsS0FDQS9ELEtBQUE0RCxPQUFBLElBQUFULEVBQUEvQyxPQUFBZ0QsRUFBQWhFLFFBRUEsTUFBQVksS0FBQStELEtBRUEvRCxLQUFBNEQsT0FBQSxJQUFBVCxFQUFBL0MsT0FBQWdELEVBQUEzRCxRQUVBLE1BQUFPLEtBQUErRCxLQUVBL0QsS0FBQTRELE9BQUEsSUFBQVQsRUFBQS9DLE9BQUFnRCxFQUFBdkQsUUFFQSxNQUFBRyxLQUFBK0QsS0FDQS9ELEtBQUE0RCxPQUFBLElBQUFULEVBQUEvQyxPQUFBZ0QsRUFBQTFELFFBRUEsTUFBQU0sS0FBQStELEtBQ0EvRCxLQUFBNEQsT0FBQSxJQUFBVCxFQUFBL0MsT0FBQWdELEVBQUF6RCxRQUVBLE1BQUFLLEtBQUErRCxPQUNBL0QsS0FBQTRELE9BQUEsSUFBQVQsRUFBQS9DLE9BQUFnRCxFQUFBeEQsVUFHQXlELEVBQUF2RSxVQUFBZ0QsS0FBQSxTQUFBZCxFQUFBQyxHQUVBakIsS0FBQTRELE9BQUFsRCxPQUNBVixLQUFBNEQsT0FBQSxJQUFBVCxFQUFBL0MsT0FBQWdELEVBQUF0RCxTQUVBLElBQUFrRSxFQUFBaEUsS0FBQTRELE9BQUE5QixLQUFBZCxFQUFBQyxHQUtBLE9BSkFqQixLQUFBNEQsT0FBQWxELE9BQ0FWLEtBQUE0RCxPQUFBLElBQUFULEVBQUEvQyxPQUFBZ0QsRUFBQXRELFFBQ0FFLEtBQUFzRCxNQUFBdEMsSUFFQWdELEdBRUFYLEVBQUF2RSxVQUFBeUQsS0FBQSxXQUNBdkMsS0FBQTRELE9BQUFyQixRQUVBYyxFQUFBdkUsVUFBQWdGLGtCQUFBLFNBQUE5QyxHQUdBLElBRkEsSUFFQTlELEVBQUErRyxHQUFnQy9HLEdBQUEsRUFBUUEsSUFBQSxDQUV4QyxJQURBLElBQUFnSCxHQUFBLEVBQ0E5QixFQUFBK0IsRUFBbUMvQixHQUFBLEVBQVFBLElBQzNDcEIsRUFBQTlELEdBQUFrRixHQUFBRSxRQUNBNEIsR0FBQSxHQUdBLEdBQUFBLEVBQUEsQ0FDQSxRQUFBRSxFQUFBbEgsRUFBK0JrSCxFQUFBLElBQU9BLEVBQ3RDLFFBQUFqSCxFQUFBLEVBQW1DQSxFQVZuQyxLQVU4Q0EsRUFDOUM2RCxFQUFBb0QsR0FBQWpILEdBQUFtRixNQUFBdEIsRUFBQW9ELEVBQUEsR0FBQWpILEdBQUFtRixNQUNBdEIsRUFBQW9ELEdBQUFqSCxHQUFBcUYsTUFBQXhCLEVBQUFvRCxFQUFBLEdBQUFqSCxHQUFBcUYsTUFHQSxJQUFBSixFQUFBLEVBQStCQSxFQWYvQixHQWUwQ0EsSUFDMUNwQixFQUFBLEdBQUFvQixHQUFBRSxPQUFBLEVBQ0F0QixFQUFBLEdBQUFvQixHQUFBSSxNQUFBeEMsS0FBQU0sY0FFQU4sS0FBQThELGtCQUFBOUMsTUFJQXFDLEVBdklBLEdBeUlBckcsRUFBQXFHLHVDQzVJQXpGLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENtQixPQUFBLElBQzlDLElBQUFrRyxFQUFBLFdBQ0EsU0FBQUEsRUFBQTdCLEVBQUF2QixFQUFBcUQsR0FDQXRFLEtBQUF3QyxRQUNBeEMsS0FBQWlCLE9BQ0FqQixLQUFBc0UsTUFPQSxPQUxBRCxFQUFBdkYsVUFBQWdELEtBQUEsU0FBQXlDLEVBQUFDLEdBRUFELEVBQUFFLFVBQUF6RSxLQUFBd0MsTUFDQStCLEVBQUFHLFNBQUExRSxLQUFBaUIsS0FBQSxFQUFBdUQsRUFBQXhFLEtBQUFzRSxJQUFBLGFBRUFELEVBWEEsR0FhQXJILEVBQUFxSCxzQ0NkQXpHLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENtQixPQUFBLElBQzlDLElBQUF3RyxFQUFBN0gsRUFBQSxHQUNBOEgsRUFBQTlILEVBQUEsR0FDQStILEVBQUEsV0FDQSxTQUFBQSxJQUNBN0UsS0FBQThFLE9BQUFDLFNBQUFDLGNBQUEsYUFDQWhGLEtBQUFpRixnQkFBQSxrQkFDQWpGLEtBQUFnQixZQUNBaEIsS0FBQWtGLFlBQ0FsRixLQUFBbUYsWUFDQW5GLEtBQUFvRixnQkFBQSxFQUNBcEYsS0FBQTVCLEVBQUEsSUFBQXdHLEVBQUF2QixPQUFBckQsS0FBQWdCLFVBQ0EsSUFBQXFFLEVBQUFyRixLQUFBc0YsWUFDQXRGLEtBQUFpQixLQUFBb0UsRUFBQSxJQWlIQSxPQS9HQVIsRUFBQS9GLFVBQUF5RyxVQUFBLFNBQUFDLEdBQ0FBLEdBQUF4RixLQUFBc0YsWUFDQXRGLEtBQUE1QixFQUFBMkMsVUFBQWYsS0FBQWdCLFNBQUFoQixLQUFBaUIsTUFHQWpCLEtBQUE1QixFQUFBK0MsV0FBQW5CLEtBQUFnQixTQUFBaEIsS0FBQWlCLE9BR0E0RCxFQUFBL0YsVUFBQTJHLFlBQUEsU0FBQUMsRUFBQUMsR0FDQSxJQUFBQyxFQUFBRixFQUFBRyx3QkFDQSxPQUNBL0MsRUFBQTZDLEVBQUFHLFFBQUEsR0FBQUMsUUFBQUgsRUFBQTNFLEtBQ0E4QixFQUFBNEMsRUFBQUcsUUFBQSxHQUFBRSxRQUFBSixFQUFBdEIsTUFHQU8sRUFBQS9GLFVBQUFtSCxTQUFBLFdBQ0EsT0FBQWpHLEtBQUE1QixHQUVBeUcsRUFBQS9GLFVBQUF3RyxVQUFBLFdBQ0EsT0FBQTNFLEtBQUFDLE1BQUFaLEtBQUFtRSxNQUFBLElBRUFVLEVBQUEvRixVQUFBb0gsU0FBQSxTQUFBQyxHQUNBLE1BQUFBLEVBQUFDLFFBRUFwRyxLQUFBNUIsRUFBQWdELFFBQUFwQixLQUFBZ0IsU0FBQWhCLEtBQUFpQixNQUVBLE1BQUFrRixFQUFBQyxRQUNBcEcsS0FBQTVCLEVBQUF5RCxVQUFBN0IsS0FBQWdCLFNBQUFoQixLQUFBaUIsTUFFQSxNQUFBa0YsRUFBQUMsUUFFQXBHLEtBQUE1QixFQUFBMkMsVUFBQWYsS0FBQWdCLFNBQUFoQixLQUFBaUIsTUFFQSxNQUFBa0YsRUFBQUMsU0FFQXBHLEtBQUE1QixFQUFBK0MsV0FBQW5CLEtBQUFnQixTQUFBaEIsS0FBQWlCLE9BR0E0RCxFQUFBL0YsVUFBQXVILFNBQUEsV0FDQXJHLEtBQUFvRixpQkFFQXBGLEtBQUE1QixFQUFBbUUsT0FDQXZDLEtBQUE1QixFQUFBMEQsS0FBQTlCLEtBQUFnQixTQUFBaEIsS0FBQWlCLFFBRUFqQixLQUFBb0YsZ0JBQUEsS0FLQVAsRUFBQS9GLFVBQUFvRyxVQUFBLFdBQ0FsRixLQUFBOEUsT0FBQVgsTUFBQW1DLE9BQUFDLFdBQ0F2RyxLQUFBOEUsT0FBQWIsT0FBQXFDLE9BQUFFLFlBQ0F4RyxLQUFBbUUsTUFBQW1DLE9BQUFDLFdBQ0F2RyxLQUFBaUUsT0FBQXFDLE9BQUFFLFlBQ0F4RyxLQUFBdUUsSUFBQXZFLEtBQUE4RSxPQUFBMkIsV0FBQSxPQUVBNUIsRUFBQS9GLFVBQUFxRyxVQUFBLFdBQ0EsSUFDQWxFLEVBREFqQixLQUFBc0YsWUFDQSxJQUNBdEYsS0FBQWlCLE9BR0EsSUFGQSxJQUVBL0QsRUFBQSxFQUF1QkEsRUFBQSxHQUFRQSxJQUFBLENBRy9CLElBREEsSUFBQXdKLEtBQ0F0RSxFQUFBLEVBQTJCQSxFQUFBLEtBQVFBLEVBQUEsQ0FFbkMsSUFBQXVFLEVBQUEsSUFBQWhDLEVBQUFOLE1BTkEsa0JBTUEsR0FBQWpDLEVBQUEsR0FBQWxGLEdBQ0F5SixFQUFBckUsT0FBQSxFQUNBb0UsRUFBQWhFLEtBQUFpRSxHQUdBM0csS0FBQWdCLFNBQUEwQixLQUFBZ0UsR0FDQUEsT0FHQTdCLEVBQUEvRixVQUFBOEgsVUFBQSxXQUNBNUcsS0FBQWtGLFlBQ0FsRixLQUFBdUUsSUFBQUUsVUFBQXpFLEtBQUFpRixnQkFDQWpGLEtBQUF1RSxJQUFBRyxTQUFBLElBQUExRSxLQUFBbUUsTUFBQW5FLEtBQUFpRSxRQUNBLElBQ0FoRCxFQURBakIsS0FBQXNGLFlBQ0EsSUFDQXRGLEtBQUFpQixPQUNBakIsS0FBQXVFLElBQUFzQyxZQUFBLHFCQUNBN0csS0FBQXVFLElBQUF1QyxVQUFBLEVBQ0E5RyxLQUFBdUUsSUFBQXdDLFdBQUE5RixFQUFBLFlBQ0FqQixLQUFBZ0gsVUFBQS9GLEdBQ0EsUUFBQWdHLEVBQUEsRUFBQUMsRUFBQWxILEtBQUFnQixTQUE0Q2lHLEVBQUFDLEVBQUEvRSxPQUFnQjhFLElBRTVELElBREEsSUFDQUUsRUFBQSxFQUFBQyxFQURBRixFQUFBRCxHQUNtREUsRUFBQUMsRUFBQWpGLE9BQXdCZ0YsSUFBQSxDQUMzRUMsRUFBQUQsR0FDQXJGLEtBQUE5QixLQUFBdUUsSUFBQXRELEtBSUE0RCxFQUFBL0YsVUFBQWtJLFVBQUEsU0FBQS9GLEdBQ0FqQixLQUFBdUUsSUFBQXNDLFlBQUEsa0JBSUEsSUFIQSxJQUdBckMsRUFBQSxHQUE2QkEsRUFBQSxJQUFjQSxHQUFBLEdBQzNDeEUsS0FBQXVFLElBQUE4QyxPQUFBcEcsRUFBQXVELEVBSkEsSUFLQXhFLEtBQUF1RSxJQUFBK0MsT0FBQXJHLEVBQUF1RCxFQUpBLEtBS0F4RSxLQUFBdUUsSUFBQWdELFNBRUEsSUFBQS9DLEVBQUEsR0FBNkJBLEVBQUEsSUFBbUJBLEdBQUEsR0FDaER4RSxLQUFBdUUsSUFBQThDLE9BQUFwRyxFQUFBdUQsR0FDQXhFLEtBQUF1RSxJQUFBK0MsT0FBQXJHLEVBQUEsSUFBQXVELEdBQ0F4RSxLQUFBdUUsSUFBQWdELFVBR0ExQyxFQTNIQSxHQTZIQTdILEVBQUE2SCxzQ0NoSUFqSCxPQUFBQyxlQUFBYixFQUFBLGNBQThDbUIsT0FBQSxJQUM5QyxJQUNBcUosRUFBQSxJQURBMUssRUFBQSxHQUNBK0gsT0FZQXlCLE9BQUFtQixZQVhBLFdBRUFELEVBQUFaLGFBU0EsSUFDQU4sT0FBQW1CLFlBTkEsV0FDQUQsRUFBQW5CLFdBQ0EsSUFJQSxLQUNBQyxPQUFBb0IsaUJBQUEsVUFFQSxTQUFBdkIsR0FDQXFCLEVBQUF0QixTQUFBQyxLQUhBLEdBQ0FHLE9BQUFvQixpQkFBQSxhQUlBLFNBQUF2QixHQUNBLElBQUF3QixFQUFBeEIsRUFBQXlCLGNBQUE5QixRQUFBLEdBQUErQixNQUNBTCxFQUFBakMsVUFBQW9DLEtBTkEsR0FRQXJCLE9BQUF3QixTQUFBLFNBQUFDLEdBQ0FQLEVBQUFaIiwiZmlsZSI6Ii4vYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTWF0cml4U2V0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hdHJpeFNldCgpIHtcbiAgICB9XG4gICAgcmV0dXJuIE1hdHJpeFNldDtcbn0oKSk7XG5leHBvcnRzLk1hdHJpeFNldCA9IE1hdHJpeFNldDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE1hdHJpeFNldF8xID0gcmVxdWlyZShcIi4vTWF0cml4U2V0XCIpO1xuZXhwb3J0cy5Jc2hhcGUgPSBuZXcgTWF0cml4U2V0XzEuTWF0cml4U2V0KCk7XG5leHBvcnRzLklzaGFwZS5tYXRyaXgxID0gW1xuICAgIFswLCAxLCAwLCAwXSxcbiAgICBbMCwgMSwgMCwgMF0sXG4gICAgWzAsIDEsIDAsIDBdLFxuICAgIFswLCAxLCAwLCAwXVxuXTtcbmV4cG9ydHMuSXNoYXBlLm1hdHJpeDIgPSBbXG4gICAgWzAsIDAsIDAsIDBdLFxuICAgIFsxLCAxLCAxLCAxXSxcbiAgICBbMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDBdXG5dO1xuZXhwb3J0cy5Jc2hhcGUubWF0cml4MyA9IFtcbiAgICBbMCwgMSwgMCwgMF0sXG4gICAgWzAsIDEsIDAsIDBdLFxuICAgIFswLCAxLCAwLCAwXSxcbiAgICBbMCwgMSwgMCwgMF1cbl07XG5leHBvcnRzLklzaGFwZS5tYXRyaXg0ID0gW1xuICAgIFswLCAwLCAwLCAwXSxcbiAgICBbMSwgMSwgMSwgMV0sXG4gICAgWzAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwXVxuXTtcbmV4cG9ydHMuT1NoYXBlID0gbmV3IE1hdHJpeFNldF8xLk1hdHJpeFNldCgpO1xuZXhwb3J0cy5PU2hhcGUubWF0cml4MSA9XG4gICAgW1sxLCAxXSxcbiAgICAgICAgWzEsIDFdXTtcbmV4cG9ydHMuT1NoYXBlLm1hdHJpeDIgPVxuICAgIFtbMSwgMV0sXG4gICAgICAgIFsxLCAxXV07XG5leHBvcnRzLk9TaGFwZS5tYXRyaXgzID1cbiAgICBbWzEsIDFdLFxuICAgICAgICBbMSwgMV1dO1xuZXhwb3J0cy5PU2hhcGUubWF0cml4NCA9XG4gICAgW1sxLCAxXSxcbiAgICAgICAgWzEsIDFdXTtcbmV4cG9ydHMuSnNoYXBlID0gbmV3IE1hdHJpeFNldF8xLk1hdHJpeFNldCgpO1xuZXhwb3J0cy5Kc2hhcGUubWF0cml4MSA9IFtcbiAgICBbMCwgMSwgMF0sXG4gICAgWzAsIDEsIDBdLFxuICAgIFsxLCAxLCAwXVxuXTtcbmV4cG9ydHMuSnNoYXBlLm1hdHJpeDIgPSBbXG4gICAgWzEsIDAsIDBdLFxuICAgIFsxLCAxLCAxXSxcbiAgICBbMCwgMCwgMF1cbl07XG5leHBvcnRzLkpzaGFwZS5tYXRyaXgzID0gW1xuICAgIFswLCAxLCAxXSxcbiAgICBbMCwgMSwgMF0sXG4gICAgWzAsIDEsIDBdXG5dO1xuZXhwb3J0cy5Kc2hhcGUubWF0cml4NCA9IFtcbiAgICBbMCwgMCwgMF0sXG4gICAgWzEsIDEsIDFdLFxuICAgIFswLCAwLCAxXVxuXTtcbmV4cG9ydHMuTHNoYXBlID0gbmV3IE1hdHJpeFNldF8xLk1hdHJpeFNldCgpO1xuZXhwb3J0cy5Mc2hhcGUubWF0cml4MSA9IFtcbiAgICBbMCwgMSwgMF0sXG4gICAgWzAsIDEsIDBdLFxuICAgIFswLCAxLCAxXVxuXTtcbmV4cG9ydHMuTHNoYXBlLm1hdHJpeDIgPSBbXG4gICAgWzAsIDAsIDBdLFxuICAgIFsxLCAxLCAxXSxcbiAgICBbMSwgMCwgMF1cbl07XG5leHBvcnRzLkxzaGFwZS5tYXRyaXgzID0gW1xuICAgIFsxLCAxLCAwXSxcbiAgICBbMCwgMSwgMF0sXG4gICAgWzAsIDEsIDBdXG5dO1xuZXhwb3J0cy5Mc2hhcGUubWF0cml4NCA9IFtcbiAgICBbMCwgMCwgMV0sXG4gICAgWzEsIDEsIDFdLFxuICAgIFswLCAwLCAwXVxuXTtcbmV4cG9ydHMuU3NoYXBlID0gbmV3IE1hdHJpeFNldF8xLk1hdHJpeFNldCgpO1xuZXhwb3J0cy5Tc2hhcGUubWF0cml4MSA9IFtcbiAgICBbMCwgMSwgMF0sXG4gICAgWzAsIDEsIDFdLFxuICAgIFswLCAwLCAxXVxuXTtcbmV4cG9ydHMuU3NoYXBlLm1hdHJpeDIgPSBbXG4gICAgWzAsIDAsIDBdLFxuICAgIFswLCAxLCAxXSxcbiAgICBbMSwgMSwgMF1cbl07XG5leHBvcnRzLlNzaGFwZS5tYXRyaXgzID0gW1xuICAgIFswLCAxLCAwXSxcbiAgICBbMCwgMSwgMV0sXG4gICAgWzAsIDAsIDFdXG5dO1xuZXhwb3J0cy5Tc2hhcGUubWF0cml4NCA9IFtcbiAgICBbMCwgMCwgMF0sXG4gICAgWzAsIDEsIDFdLFxuICAgIFsxLCAxLCAwXVxuXTtcbmV4cG9ydHMuVHNoYXBlID0gbmV3IE1hdHJpeFNldF8xLk1hdHJpeFNldCgpO1xuZXhwb3J0cy5Uc2hhcGUubWF0cml4MSA9IFtcbiAgICBbMCwgMSwgMF0sXG4gICAgWzEsIDEsIDFdLFxuICAgIFswLCAwLCAwXVxuXTtcbmV4cG9ydHMuVHNoYXBlLm1hdHJpeDIgPSBbXG4gICAgWzAsIDEsIDBdLFxuICAgIFswLCAxLCAxXSxcbiAgICBbMCwgMSwgMF1cbl07XG5leHBvcnRzLlRzaGFwZS5tYXRyaXgzID0gW1xuICAgIFswLCAwLCAwXSxcbiAgICBbMSwgMSwgMV0sXG4gICAgWzAsIDEsIDBdXG5dO1xuZXhwb3J0cy5Uc2hhcGUubWF0cml4NCA9IFtcbiAgICBbMCwgMSwgMF0sXG4gICAgWzEsIDEsIDBdLFxuICAgIFswLCAxLCAwXVxuXTtcbmV4cG9ydHMuWnNoYXBlID0gbmV3IE1hdHJpeFNldF8xLk1hdHJpeFNldCgpO1xuZXhwb3J0cy5ac2hhcGUubWF0cml4MSA9IFtcbiAgICBbMCwgMCwgMV0sXG4gICAgWzAsIDEsIDFdLFxuICAgIFswLCAxLCAwXVxuXTtcbmV4cG9ydHMuWnNoYXBlLm1hdHJpeDIgPSBbXG4gICAgWzAsIDAsIDBdLFxuICAgIFsxLCAxLCAwXSxcbiAgICBbMCwgMSwgMV1cbl07XG5leHBvcnRzLlpzaGFwZS5tYXRyaXgzID0gW1xuICAgIFswLCAwLCAxXSxcbiAgICBbMCwgMSwgMV0sXG4gICAgWzAsIDEsIDBdXG5dO1xuZXhwb3J0cy5ac2hhcGUubWF0cml4NCA9IFtcbiAgICBbMCwgMCwgMF0sXG4gICAgWzEsIDEsIDBdLFxuICAgIFswLCAxLCAxXVxuXTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvb3JkaW5hdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29vcmRpbmF0ZShyLCBjKSB7XG4gICAgICAgIHRoaXMucm93ID0gcjtcbiAgICAgICAgdGhpcy5jb2wgPSBjO1xuICAgIH1cbiAgICByZXR1cm4gQ29vcmRpbmF0ZTtcbn0oKSk7XG5leHBvcnRzLkNvb3JkaW5hdGUgPSBDb29yZGluYXRlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29vcmRpbmF0ZV8xID0gcmVxdWlyZShcIi4vQ29vcmRpbmF0ZVwiKTtcbnZhciBQbGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGxheWVyKHNldCkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xuICAgICAgICB0aGlzLm1hdHJpeGVzID0gc2V0O1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHRoaXMuc2V0Y29sb3IoKTtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMik7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAxOyAvL01hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkqNCkgKzEpO1xuICAgIH1cbiAgICA7XG4gICAgUGxheWVyLnByb3RvdHlwZS5sZWZ0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd1dyYXBwZXIoYm9hcmRtYXAsIHRoaXMucm93LCB0aGlzLmNvbCAtIDEpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbC0tO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLnJpZ2h0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd1dyYXBwZXIoYm9hcmRtYXAsIHRoaXMucm93LCB0aGlzLmNvbCArIDEpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGRlbGV0ZWRQb2ludHMgPSB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgdmFyIG9sZHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdGhpcy5pbmNyZW1lbnRTdGF0ZSgpO1xuICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93V3JhcHBlcihib2FyZG1hcCwgdGhpcy5yb3csIHRoaXMuY29sKSkge1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IG9sZHN0YXRlO1xuICAgICAgICAgICAgZGVsZXRlZFBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBwb2ludCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5kb3duUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd1dyYXBwZXIoYm9hcmRtYXAsIHRoaXMucm93ICsgMSwgdGhpcy5jb2wpKSB7XG4gICAgICAgICAgICB0aGlzLnJvdysrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLy8gaWYodGhpcy5yb3cgPjE3KXtcbiAgICAgICAgLy8gICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgIC8vICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gfVxuICAgICAgICBpZiAoIXRoaXMuY2hlY2tCZWxvd1dyYXBwZXIoYm9hcmRtYXAsIHRoaXMucm93LCB0aGlzLmNvbCkpIHtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5yb3cgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd01hdHJpeFdyYXBwZXIoYm9hcmRtYXApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBsYXllci5wcm90b3R5cGUuY2hlY2tCZWxvd1dyYXBwZXIgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIHJvdywgY29sKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoZWNrQmVsb3coYm9hcmRtYXAsIHRoaXMubWF0cml4ZXMubWF0cml4MSwgcm93LCBjb2wpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoZWNrQmVsb3coYm9hcmRtYXAsIHRoaXMubWF0cml4ZXMubWF0cml4Miwgcm93LCBjb2wpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoZWNrQmVsb3coYm9hcmRtYXAsIHRoaXMubWF0cml4ZXMubWF0cml4Mywgcm93LCBjb2wpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoZWNrQmVsb3coYm9hcmRtYXAsIHRoaXMubWF0cml4ZXMubWF0cml4NCwgcm93LCBjb2wpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLmRyYXdNYXRyaXggPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1hdHJpeCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdHJpeC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXRyaXhbaV0ubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0cml4W2ldW2pdID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIGksIHRoaXMuY29sICsgaikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5kcmF3TWF0cml4V3JhcHBlciA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdNYXRyaXgoYm9hcmRtYXAsIHRoaXMubWF0cml4ZXMubWF0cml4MSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TWF0cml4KGJvYXJkbWFwLCB0aGlzLm1hdHJpeGVzLm1hdHJpeDIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd01hdHJpeChib2FyZG1hcCwgdGhpcy5tYXRyaXhlcy5tYXRyaXgzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdNYXRyaXgoYm9hcmRtYXAsIHRoaXMubWF0cml4ZXMubWF0cml4NCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBsYXllci5wcm90b3R5cGUuY2hlY2tCZWxvdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbWF0cml4LCByb3csIGNvbCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZGVsZXRlZFBvaW50cyA9IHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICBpZiAodGhpcy5jaGVja0lmRml0cyhyb3csIGNvbCwgYm9hcmRtYXAsIG1hdHJpeCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlZFBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBwb2ludCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5jaGVja0lmRml0cyA9IGZ1bmN0aW9uIChyb3csIGNvbCwgYm9hcmRtYXAsIG1hdHJpeCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdHJpeC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXRyaXhbaV0ubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0cml4W2ldW2pdID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYm9hcmRtYXBbcm93ICsgaV0gfHwgIWJvYXJkbWFwW3JvdyArIGldW2NvbCArIGpdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFib2FyZG1hcFtyb3cgKyBpXVtjb2wgKyBqXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5kZWNyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJvdyA9IHRoaXMucm93ICsgMTtcbiAgICB9O1xuICAgIFBsYXllci5wcm90b3R5cGUuc2V0Y29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb2xvciA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDEpO1xuICAgICAgICBzd2l0Y2ggKGNvbG9yKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDExLCA5OCwgMjM3KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxOSwgMjM3LCAxMSlcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ5LCA3MiwgOTApXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0NSwgMjU1LCA2NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoNjYsIDI1NSwgMjQ4KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDY2LCAxNzYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgMTU0LCA2NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWVyLnByb3RvdHlwZS5kcmF3VG9Qb2ludCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgQ29yZCkge1xuICAgICAgICBpZiAoYm9hcmRtYXBbQ29yZC5yb3ddICYmIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0pIHtcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICAgICAgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlcy5wdXNoKG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZShDb3JkLnJvdywgQ29yZC5jb2wpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRyYXcgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdHMgYXQgYm9hcmRtYXBbXCIgKyBDb3JkLnJvdyArIFwiXVtcIiArIENvcmQuY29sICsgXCJdXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLmRlbGV0ZVRvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIHgsIHkpIHtcbiAgICAgICAgaWYgKGJvYXJkbWFwW3hdICYmIGJvYXJkbWFwW3hdW3ldKSB7XG4gICAgICAgICAgICBib2FyZG1hcFt4XVt5XS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgIGJvYXJkbWFwW3hdW3ldLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRlbGV0ZSBzb21ldGhpbmcgdGhhdCBkb2Vzbid0IGV4aXN0cyBhdCBib2FyZG1hcFtcIiArIHggKyBcIl1bXCIgKyB5ICsgXCJdXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5ZXIucHJvdG90eXBlLmRlbGV0ZUNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIHZhciB0ZW1wID0gW107XG4gICAgICAgIHdoaWxlICh0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5jb29yZGluYXRlcy5wb3AoKTtcbiAgICAgICAgICAgIHRlbXAucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlVG9Qb2ludChib2FyZG1hcCwgY3VycmVudC5yb3csIGN1cnJlbnQuY29sKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGVtcDtcbiAgICB9O1xuICAgIFBsYXllci5wcm90b3R5cGUuaW5jcmVtZW50U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlIDwgNCkge1xuICAgICAgICAgICAgKyt0aGlzLnN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQbGF5ZXI7XG59KCkpO1xuZXhwb3J0cy5QbGF5ZXIgPSBQbGF5ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQbGF5ZXJfMSA9IHJlcXVpcmUoXCIuLi9QbGF5ZXJzL1BsYXllclwiKTtcbnZhciBEYXRhXzEgPSByZXF1aXJlKFwiLi4vRGF0YVwiKTtcbnZhciBUUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVFBpZWNlKGJvYXJkbWFwKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb2xvciA9IFwicmdiKDY2LCA2NiwgNjYpXCI7XG4gICAgICAgIC8vdGhpcy5raW5kID0ga2luZDtcbiAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgfVxuICAgIFRQaWVjZS5wcm90b3R5cGUucHJpbnRCb2FyZCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxMDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW2ldW2pdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZyArIFwieFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgXCJvXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coc3RyaW5nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5pbml0UCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zcGVpY2VMaXN0ID0gW107XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVUeXBlKCk7XG4gICAgICAgIHRoaXMucGxheWVyLnJvdyA9IC0xO1xuICAgICAgICB0aGlzLmZpcnN0VGltZSA9IHRydWU7XG4gICAgICAgIC8vdGhpcy5wbGF5ZXIuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMCk7XG4gICAgICAgIHRoaXMuY2hlY2tCb2FyZEZvclJvd3MoYm9hcmRtYXApO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5sZWZ0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIubGVmdFByZXNzKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgdGhpcy5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUucmlnaHRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICB0aGlzLnBsYXllci5yaWdodFByZXNzKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgdGhpcy5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUudXBQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvLyAgdGhpcy5wcmludEJvYXJkKGJvYXJkbWFwKTtcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcIkF0dGVtcHRpbmcgdHJhbnNmb3JtYXRpb25cIik7XG4gICAgICAgIHRoaXMucGxheWVyLnVwUHJlc3MoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICB0aGlzLmRyYXcoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICAvLyB0aGlzLnByaW50Qm9hcmQoYm9hcmRtYXApO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5kb3duUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuZG93blByZXNzKGJvYXJkbWFwKTtcbiAgICAgICAgdGhpcy5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuZ2VuZXJhdGVUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdHlwZSA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDEpO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBcIklcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBcIlRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBcIkpcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBcIkxcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBcIlpcIjtcbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBcIlNcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5raW5kID09PSBcIlpcIikge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyXzEuUGxheWVyKERhdGFfMS5ac2hhcGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCJJXCIpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcl8xLlBsYXllcihEYXRhXzEuSXNoYXBlKTsgLy9uZXcgT1BpZWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5raW5kID09PSBcIjBcIikge1xuICAgICAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgT3BpZWNlXCIpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyXzEuUGxheWVyKERhdGFfMS5PU2hhcGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCJUXCIpIHtcbiAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIE9waWVjZVwiKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcl8xLlBsYXllcihEYXRhXzEuVHNoYXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmtpbmQgPT09IFwiSlwiKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXJfMS5QbGF5ZXIoRGF0YV8xLkpzaGFwZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5raW5kID09PSBcIkxcIikge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyXzEuUGxheWVyKERhdGFfMS5Mc2hhcGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCJTXCIpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcl8xLlBsYXllcihEYXRhXzEuU3NoYXBlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8vICAgY29uc29sZS5sb2coXCJjYWxsaW5nIGRyYXdcIik7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5kb25lKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXJfMS5QbGF5ZXIoRGF0YV8xLlpzaGFwZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJldHVybnZhbCA9IHRoaXMucGxheWVyLmRyYXcoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyXzEuUGxheWVyKERhdGFfMS5ac2hhcGUpO1xuICAgICAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldHVybnZhbDtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuZGVjciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuZGVjcigpO1xuICAgIH07XG4gICAgVFBpZWNlLnByb3RvdHlwZS5jaGVja0JvYXJkRm9yUm93cyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gMjA7XG4gICAgICAgIHZhciB3aWR0aCA9IDEwO1xuICAgICAgICBmb3IgKHZhciBpID0gaGVpZ2h0IC0gMTsgaSA+IC0xOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBOZWVkVG9EZWxldGUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IHdpZHRoIC0gMTsgaiA+IC0xOyBqLS0pIHtcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbaV1bal0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmVlZFRvRGVsZXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE5lZWRUb0RlbGV0ZSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSBpOyBrID4gMTsgLS1rKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgd2lkdGg7ICsrbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBba11bbF0uZW1wdHkgPSBib2FyZG1hcFtrIC0gMV1bbF0uZW1wdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFtrXVtsXS5jb2xvciA9IGJvYXJkbWFwW2sgLSAxXVtsXS5jb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHdpZHRoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRtYXBbMF1bal0uZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFswXVtqXS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0JvYXJkRm9yUm93cyhib2FyZG1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUUGllY2U7XG59KCkpO1xuZXhwb3J0cy5UUGllY2UgPSBUUGllY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQaWVjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQaWVjZShjb2xvciwgbGVmdCwgdG9wKSB7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XG4gICAgfVxuICAgIFBpZWNlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGN0eCwgb2Zmc2V0KSB7XG4gICAgICAgIC8vIHRoaXMubGVmdCA9IG9mZnNldDtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLmxlZnQgKyAyICsgb2Zmc2V0LCB0aGlzLnRvcCArIDIgKyA2MCwgMzgsIDM4KTtcbiAgICB9O1xuICAgIHJldHVybiBQaWVjZTtcbn0oKSk7XG5leHBvcnRzLlBpZWNlID0gUGllY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQaWVjZV8xID0gcmVxdWlyZShcIi4uL1BpZWNlL1BpZWNlXCIpO1xudmFyIFRQaWVjZV8xID0gcmVxdWlyZShcIi4uL1BpZWNlL1RQaWVjZVwiKTtcbnZhciBCb2FyZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCb2FyZCgpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXlDYW52YXMnKTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDM4LCAzNywgMzcpJzsgLy9ibGFja1xuICAgICAgICB0aGlzLmJvYXJkbWFwID0gW107XG4gICAgICAgIHRoaXMuemVyb0JvYXJkKCk7XG4gICAgICAgIHRoaXMuaW5pdEJvYXJkKCk7XG4gICAgICAgIHRoaXMuZ2FtZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICB0aGlzLnQgPSBuZXcgVFBpZWNlXzEuVFBpZWNlKHRoaXMuYm9hcmRtYXApO1xuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gY2VudGVyIC0gMjAwO1xuICAgIH1cbiAgICBCb2FyZC5wcm90b3R5cGUudG91Y2hGYWxsID0gZnVuY3Rpb24gKHBvcykge1xuICAgICAgICBpZiAocG9zID49IHRoaXMuZ2V0Q2VudGVyKCkpIHtcbiAgICAgICAgICAgIHRoaXMudC5sZWZ0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudC5yaWdodFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5nZXRUb3VjaFBvcyA9IGZ1bmN0aW9uIChjYW52YXNEb20sIHRvdWNoRXZlbnQpIHtcbiAgICAgICAgdmFyIHJlY3QgPSBjYW52YXNEb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB0b3VjaEV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCAtIHJlY3QubGVmdCxcbiAgICAgICAgICAgIHk6IHRvdWNoRXZlbnQudG91Y2hlc1swXS5jbGllbnRZIC0gcmVjdC50b3BcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5nZXRQaWVjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudDtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMud2lkdGggLyAyKTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5rZXlQcmVzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gJzM4Jykge1xuICAgICAgICAgICAgLy8gdXAgYXJyb3dcbiAgICAgICAgICAgIHRoaXMudC51cFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICc0MCcpIHtcbiAgICAgICAgICAgIHRoaXMudC5kb3duUHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gJzM3Jykge1xuICAgICAgICAgICAgLy8gbGVmdCBhcnJvd1xuICAgICAgICAgICAgdGhpcy50LmxlZnRQcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PSAnMzknKSB7XG4gICAgICAgICAgICAvLyByaWdodCBhcnJvd1xuICAgICAgICAgICAgdGhpcy50LnJpZ2h0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmRlY3JUaW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5nYW1lSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcIkdhbWUgaW4gcG9yZ3Jlc3NcIik7XG4gICAgICAgICAgICB0aGlzLnQuZGVjcigpO1xuICAgICAgICAgICAgdmFyIHN1Y2Nlc3MgPSB0aGlzLnQuZHJhdyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTm8gaW4gcHJvZ3Jlc3NcIik7XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuemVyb0JvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5pbml0Qm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpO1xuICAgICAgICB2YXIgbGVmdCA9IGNlbnRlciAtIDIwMDtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdmFyIHRvcCA9IDYwO1xuICAgICAgICB2YXIgbG9jYWxjb2xvciA9IFwicmdiKDY2LCA2NiwgNjYpXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICAgICAgICAgICAgLy9pID0gcm93c1xuICAgICAgICAgICAgdmFyIG1pZGRsZUxpc3QgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTA7ICsraikge1xuICAgICAgICAgICAgICAgIC8vY29sdW1uc1xuICAgICAgICAgICAgICAgIHZhciBwdXNobWVQZWFjZSA9IG5ldyBQaWVjZV8xLlBpZWNlKGxvY2FsY29sb3IsIChqICogNDApLCAoaSAqIDQwKSk7XG4gICAgICAgICAgICAgICAgcHVzaG1lUGVhY2UuZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG1pZGRsZUxpc3QucHVzaChwdXNobWVQZWFjZSk7XG4gICAgICAgICAgICAgICAgLy90aGlzLmJvYXJkbWFwW2ktMV1bai0xXSA9IG5ldyBTcGVhY2UobG9jYWxjb2xvcixsZWZ0KyhqKjQwKSx0b3ArKGkqNDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYm9hcmRtYXAucHVzaChtaWRkbGVMaXN0KTtcbiAgICAgICAgICAgIG1pZGRsZUxpc3QgPSBbXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmRyYXdCb2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy56ZXJvQm9hcmQoKTtcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgICAgIHZhciBsZWZ0ID0gY2VudGVyIC0gMjAwO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICdyZ2IoMjU1LCAyNTUsIDI1NSknO1xuICAgICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAxO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VSZWN0KGxlZnQsIDYwLCA0MDAsIDgwMCk7XG4gICAgICAgIHRoaXMuZHJhd0xpbmVzKGxlZnQpO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5ib2FyZG1hcDsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciB0b3BlbnRyeSA9IF9hW19pXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgdG9wZW50cnlfMSA9IHRvcGVudHJ5OyBfYiA8IHRvcGVudHJ5XzEubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gdG9wZW50cnlfMVtfYl07XG4gICAgICAgICAgICAgICAgZW50cnkuZHJhdyh0aGlzLmN0eCwgbGVmdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5kcmF3TGluZXMgPSBmdW5jdGlvbiAobGVmdCkge1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICdyZ2IoOTEsIDg5LCA4OSknO1xuICAgICAgICB2YXIgbGluZUJvdHRvbSA9IDYwO1xuICAgICAgICB2YXIgbGluZVRvcCA9IDYwICsgODAwO1xuICAgICAgICAvL0RyYXcgaG9yaXpvbnRhbCBsaW5lc1xuICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSA0MDsgb2Zmc2V0IDwgNDAwOyBvZmZzZXQgPSBvZmZzZXQgKyA0MCkge1xuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKGxlZnQgKyBvZmZzZXQsIGxpbmVCb3R0b20pO1xuICAgICAgICAgICAgdGhpcy5jdHgubGluZVRvKGxlZnQgKyBvZmZzZXQsIGxpbmVUb3ApO1xuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gNjA7IG9mZnNldCA8IDgwMCArIDYwOyBvZmZzZXQgPSBvZmZzZXQgKyA0MCkge1xuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKGxlZnQsIG9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8obGVmdCArIDQwMCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQm9hcmQ7XG59KCkpO1xuZXhwb3J0cy5Cb2FyZCA9IEJvYXJkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQm9hcmRfMSA9IHJlcXVpcmUoXCIuL0JvYXJkL0JvYXJkXCIpO1xudmFyIGJvYXJkID0gbmV3IEJvYXJkXzEuQm9hcmQoKTtcbmZ1bmN0aW9uIGRyYXdCb2FyZCgpIHtcbiAgICAvL2NvbnNvbGUubG9nKFwiQ2FsbGluZyBkcmF3IGJvYXJkXCIpXG4gICAgYm9hcmQuZHJhd0JvYXJkKCk7XG59XG47XG52YXIgdGltZSA9IDQwMDtcbmZ1bmN0aW9uIGRlc2NUaW1lKCkge1xuICAgIGJvYXJkLmRlY3JUaW1lKCk7XG4gICAgdGltZSA9IHRpbWUgLSA1MDtcbn1cbi8vIGJvYXJkLmRyYXdCb2FyZCgpO1xudmFyIHRpbWVyRm9yTG9hZGluZ1Jlc3VsdCA9IHdpbmRvdy5zZXRJbnRlcnZhbChkcmF3Qm9hcmQsIDIwKTtcbnZhciB0aW1lckZvckxvYWRpbmdSZXN1bHQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZGVzY1RpbWUsIDMwMCk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNoZWNrLCBmYWxzZSk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgZG93blByZXNzLCBmYWxzZSk7XG5mdW5jdGlvbiBjaGVjayhlKSB7XG4gICAgYm9hcmQua2V5UHJlc3MoZSk7XG59XG5mdW5jdGlvbiBkb3duUHJlc3MoZSkge1xuICAgIHZhciB4UG9zID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgYm9hcmQudG91Y2hGYWxsKHhQb3MpO1xufVxud2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgYm9hcmQuZHJhd0JvYXJkKCk7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==