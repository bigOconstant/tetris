!function(t){var o={};function e(i){if(o[i])return o[i].exports;var r=o[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=o,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var r in t)e.d(i,r,function(o){return t[o]}.bind(null,r));return i},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=8)}([function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){return function(t,o){this.row=t,this.col=o}}();o.Coordinate=i},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.coordinates=[],this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+2),this.state=3,this.matrixOne=[[0,1,0],[0,1,0],[1,1,0],[0,0,0]],this.matrixTwo=[[0,0,0],[1,0,0],[1,1,1],[0,0,0]],this.matrixThree=[[0,1,1],[0,1,0],[0,1,0],[0,0,0]],this.matrixFour=[[0,0,0],[1,1,1],[0,0,1],[0,0,0]]}return t.prototype.checkIfFits=function(t,o){var e=[];switch(this.state){case 1:e=this.matrixOne;break;case 2:e=this.matrixTwo;break;case 3:e=this.matrixThree;break;case 4:e=this.matrixFour}for(var i=0;i<4;++i)for(var r=0;r<3;++r)if(1===e[i][r]){if(!o[t+i]||!o[this.row+i][this.col+r])return!1;if(!o[t+i][this.col+r].empty)return!1}return!0},t.prototype.draw=function(t,o){switch(this.state){case 1:case 2:case 3:case 4:return this.row>18?(this.done=!0,!0):this.checkBelow(t,0)?(this.done=!0,0!==this.row):(this.row>0&&this.deleteCoordinates(t),this.drawCurrent(t,o),!0)}},t.prototype.drawCurrent=function(t,o){switch(this.state){case 1:this.drawOne(t,o);break;case 2:this.drawTwo(t,o);break;case 3:this.drawThree(t,o);break;case 4:this.drawFour(t,o)}},t.prototype.drawFour=function(t,o){this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+2))},t.prototype.drawThree=function(t,o){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1))},t.prototype.drawTwo=function(t,o){this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+2))},t.prototype.drawOne=function(t,o){this.drawToPoint(t,new i.Coordinate(this.row+2,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row,this.col+1))},t.prototype.checkRight=function(t,o){var e=!1;switch(this.state){case 1:e=this.checkRightOne(t,o);break;case 2:e=this.checkRightTwo(t,o);break;case 3:e=this.checkRightThree(t,o);break;case 4:e=this.checkRightFour(t,o)}return e},t.prototype.checkRightFour=function(t,o){var e=!1;return!t[this.row+1]||!t[this.row+1][this.col+3]||(!t[this.row+2]||!t[this.row+2][this.col+3]||(t[this.row+1][this.col+3].empty||(e=!0),t[this.row+2][this.col+3].empty||(e=!0),e))},t.prototype.checkRightThree=function(t,o){var e=!1;return!t[this.row][this.col+3]||(!t[this.row+1]||!t[this.row+1][this.col+2]||(!t[this.row+2]||!t[this.row+2][this.col+2]||(t[this.row][this.col+3].empty||(e=!0),t[this.row+1][this.col+2].empty||(e=!0),t[this.row+2][this.col+2].empty||(e=!0),e)))},t.prototype.checkRightTwo=function(t,o){if(!(t[this.row+1]&&t[this.row+1][this.col+1]&&t[this.row+2]&&t[this.row+2][this.col+3]))return!0;var e=!1;return t[this.row+1][this.col+1].empty||(e=!0),t[this.row+2][this.col+3].empty||(e=!0),e},t.prototype.checkRightOne=function(t,o){if(!(t[this.row]&&t[this.row][this.col+2]&&t[this.row+1]&&t[this.row+1][this.col+2]&&t[this.row+2]&&t[this.row+2][this.col+2]))return!0;var e=!1;return t[this.row][this.col+2].empty||(e=!0),t[this.row+1][this.col+2].empty||(e=!0),t[this.row+2][this.col+2].empty||(e=!0),e},t.prototype.checkLeft=function(t,o){var e=!1;switch(this.state){case 1:e=this.checkLeftOne(t,o);break;case 2:e=this.checkLeftTwo(t,o);break;case 3:e=this.checkLeftThree(t,o);break;case 4:e=this.checkLeftFour(t,o)}return e},t.prototype.checkLeftFour=function(t,o){if(!(t[this.row+1]&&t[this.row+1][this.col-1]&&t[this.row+2]&&t[this.row+2][this.col+1]))return!0;var e=!1;return!t[this.row+1][this.col-1].empty||(t[this.row+2][this.col+1].empty?e:(e=!0,!0))},t.prototype.checkLeftThree=function(t,o){if(!(t[this.row+1]&&t[this.row+1][this.col]&&t[this.row+2]&&t[this.row+2][this.col]))return!0;var e=!1;return t[this.row][this.col].empty||(e=!0),t[this.row+1][this.col].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkLeftTwo=function(t,o){if(!(t[this.row+1]&&t[this.row+1][this.col-1]&&t[this.row+2]&&t[this.row+2][this.col-1]))return!0;var e=!1;return t[this.row+1][this.col-1].empty||(e=!0),t[this.row+2][this.col-1].empty||(e=!0),e},t.prototype.checkLeftOne=function(t,o){var e=!1;return!(t[this.row+1]&&t[this.row+1][this.col]&&t[this.row+2]&&t[this.row+2][this.col-1])||(t[this.row][this.col].empty||(e=!0),t[this.row+1][this.col].empty||(e=!0),t[this.row+2][this.col-1].empty||(e=!0),e)},t.prototype.checkBelow=function(t,o){var e=!1;switch(this.state){case 1:e=this.checkBelowOne(t,o);break;case 2:e=this.checkBelowTwo(t,o);break;case 3:e=this.checkBelowThree(t,o);break;case 4:e=this.checkBelowFour(t,o)}return e},t.prototype.checkBelowFour=function(t,o){var e=!1;return!(t[this.row+1+o]&&t[this.row+1+o][this.col]&&t[this.row+1+o][this.col+1]&&t[this.row+2]&&t[this.row+2+o][this.col+2])||(t[this.row+1+o][this.col].empty||(e=!0),t[this.row+1+o][this.col+1].empty||(e=!0),t[this.row+2+o][this.col+2].empty||(e=!0),e)},t.prototype.checkBelowThree=function(t,o){if(!(t[this.row+2+o]&&t[this.row+2+o][this.col+1]&&t[this.row+o]&&t[this.row+o][this.col+2]))return!0;var e=!1;return t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+o][this.col+2].empty||(e=!0),e},t.prototype.checkBelowOne=function(t,o){var e=!1;return!(t[this.row+2+o]&&t[this.row+2+o][this.col]&&t[this.row+2+o]&&t[this.row+2+o][this.col+1])||(t[this.row+2+o][this.col].empty||(e=!0),t[this.row+2+o][this.col+1].empty||(e=!0),e)},t.prototype.checkBelowTwo=function(t,o){var e=!1;return!(t[this.row+2+o]&&t[this.row+2+o][this.col]&&t[this.row+2+o][this.col+1]&&t[this.row+2+o][this.col+2])||(t[this.row+2+o][this.col].empty||(e=!0),t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+2+o][this.col+2].empty||(e=!0),e)},t.prototype.decr=function(){this.row=this.row+1},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t.prototype.incrementState=function(){this.state<4?++this.state:this.state=1},t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(;this.coordinates.length>0;){var o=this.coordinates.pop();this.deleteToPoint(t,o.row,o.col)}},t.prototype.leftPress=function(t,o){this.checkLeft(t,0)?this.deleteCoordinates(t):(this.deleteCoordinates(t),this.col--)},t.prototype.rightPress=function(t,o){this.checkRight(t,0)?this.deleteCoordinates(t):(this.deleteCoordinates(t),this.col++)},t.prototype.upPress=function(t,o){this.deleteCoordinates(t);var e=this.state;this.incrementState(),this.checkIfFits(this.row,t)||(this.state=e)},t.prototype.downPress=function(t){this.deleteCoordinates(t),this.checkIfFits(this.row+1,t)&&this.row++},t}();o.JPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.coordinates=[],this.flipped=Math.random()<.5,this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+2),this.state=1}return t.prototype.incrementState=function(){this.state<4?++this.state:this.state=1},t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(;this.coordinates.length>0;){var o=this.coordinates.pop();this.deleteToPoint(t,o.row,o.col)}},t.prototype.drawSelf=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2))},t.prototype.drawSelfFlipped=function(t){this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1))},t.prototype.drawSelfRight=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1))},t.prototype.drawSelfLeft=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1))},t.prototype.leftPress=function(t,o){switch(this.state){case 1:if(!(this.col>0)){this.deleteCoordinates(t);break}if(!this.checkLeftUp(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break;case 2:if(this.col>-1&&!this.checkLeftRight(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break;case 3:if(this.col>0){if(!this.checkLeftDown(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break}this.deleteCoordinates(t);break;case 4:if(this.col>0){if(!this.checkLeftLeft(t,0)){this.deleteCoordinates(t),this.col=--this.col;break}this.deleteCoordinates(t);break}this.deleteCoordinates(t)}},t.prototype.rightPress=function(t,o){switch(this.state){case 1:if(this.col<7&&!this.checkRightUp(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t);break;case 2:if(this.col<7&&!this.checkRightRight(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t);break;case 3:if(this.col<7&&!this.checkRightDown(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t);break;case 4:if(this.col<8&&!this.checkRightLeft(t,0)){this.deleteCoordinates(t),this.col=++this.col;break}this.deleteCoordinates(t)}},t.prototype.upPress=function(t,o){switch(this.state){case 1:this.deleteCoordinates(t),this.col<8&&(this.state=2);break;case 2:this.deleteCoordinates(t),this.col>-1&&(this.state=3);break;case 3:this.deleteCoordinates(t),this.state=4;break;case 4:this.deleteCoordinates(t),this.col<8&&(this.state=1)}},t.prototype.downPress=function(t){switch(this.state){case 1:this.row<18&&(this.checkBelowup(t,1)||(this.deleteCoordinates(t),++this.row));break;case 2:if(this.row<17){this.checkBelowRight(t,1)||(this.deleteCoordinates(t),++this.row);break}break;case 3:this.row<17&&(this.checkBelowDown(t,1)||(this.deleteCoordinates(t),++this.row));break;case 4:if(this.row<17){this.checkBelowLeft(t,1)||(this.deleteCoordinates(t),++this.row);break}}},t.prototype.checkLeftUp=function(t,o){var e=!1;return t[this.row+1][this.col-1].empty||(e=!0),t[this.row][this.col].empty||(e=!0),e},t.prototype.checkRightUp=function(t,o){var e=!1;return t[this.row+1][this.col+3].empty||(e=!0),t[this.row][this.col+2].empty||(e=!0),e},t.prototype.checkRightRight=function(t,o){var e=!1;return t[this.row][this.col+2].empty||(e=!0),t[this.row+1][this.col+3].empty||(e=!0),t[this.row+2][this.col+2].empty||(e=!0),e},t.prototype.checkLeftRight=function(t,o){var e=!1;return t[this.row][this.col].empty||(e=!0),t[this.row+1][this.col].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkRightLeft=function(t,o){var e=!1;return t[this.row][this.col+2].empty||(e=!0),t[this.row+1][this.col+2]||(e=!0),t[this.row+2][this.col+2]||(e=!0),e},t.prototype.checkLeftLeft=function(t,o){var e=!1;return t[this.row][this.col].empty||(e=!0),t[this.row+1][this.col-1].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkLeftDown=function(t,o){var e=!1;return t[this.row+1][this.col-1].empty||(e=!0),t[this.row+2][this.col].empty||(e=!0),e},t.prototype.checkRightDown=function(t,o){var e=!1;return t[this.row+1][this.col+3].empty||(e=!0),t[this.row+2][this.col+2].empty||(e=!0),e},t.prototype.checkBelowup=function(t,o){var e=!1;return t[this.row+1+o][this.col].empty||(e=!0),t[this.row+1+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col+2].empty||(e=!0),e},t.prototype.checkBelowDown=function(t,o){var e=!1;return t[this.row+1+o][this.col].empty||(e=!0),t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col+2].empty||(e=!0),e},t.prototype.checkBelowLeft=function(t,o){var e=!1;return t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col].empty||(e=!0),e},t.prototype.checkBelowRight=function(t,o){var e=!1;return t[this.row+2+o][this.col+1].empty||(e=!0),t[this.row+1+o][this.col+2].empty||(e=!0),e},t.prototype.draw=function(t,o){switch(this.state){case 1:if(this.row>18)return this.done=!0,!0;if(this.checkBelowup(t,0))return this.done=!0,0!==this.row;this.row>0&&this.deleteCoordinates(t),this.drawSelf(t);break;case 2:if(this.row>17)return this.done=!0,!0;if(this.row<17&&this.checkBelowRight(t,0))return this.done=!0,!0;if(this.checkBelowRight(t,0))return this.done=!0,!0;this.row>0&&this.deleteCoordinates(t),this.drawSelfRight(t);break;case 4:if(this.row>17)return this.done=!0,!0;if(this.row<17&&this.checkBelowLeft(t,0))return this.done=!0,!0;if(this.checkBelowLeft(t,0))return this.done=!0,!0;this.row>0&&this.deleteCoordinates(t),this.drawSelfLeft(t);break;case 3:if(this.row>17)return this.done=!0,!0;if(this.checkBelowDown(t,0))return this.done=!0,!0;this.row>0&&this.deleteCoordinates(t),this.drawSelfFlipped(t)}return!0},t.prototype.decr=function(){this.row=this.row+1},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t}();o.XPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.flipped=Math.random()<.5,this.setcolor(),this.done=!1,this.coordinates=[],this.col=Math.floor(3*Math.random()+2)}return t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(;this.coordinates.length>0;){var o=this.coordinates.pop();this.deleteToPoint(t,o.row,o.col)}},t.prototype.draw=function(t,o){return 19==this.row?(this.done=!0,!0):-1!==this.row?0===this.row?(this.drawSelf(t),!0):1===this.row?(this.deleteCoordinates(t),this.drawSelf(t),!0):this.checkBelow(t,-1)?(this.done=!0,!0):(this.deleteCoordinates(t),this.drawSelf(t),!0):void this.drawFirstSelf(t)},t.prototype.drawFlipped=function(t,o){console.log("Don't need this method :")},t.prototype.drawNotFlipped=function(t,o){console.log("Also don't need this method ;")},t.prototype.decr=function(){this.row=this.row+1},t.prototype.drawSelf=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1))},t.prototype.checkBelow=function(t,o){return!t[this.row+2+o][this.col].empty||!t[this.row+2+o][this.col+1].empty},t.prototype.drawFirstSelf=function(t){this.drawToPoint(t,new i.Coordinate(this.row,this.col)),this.drawToPoint(t,new i.Coordinate(this.row,this.col+1))},t.prototype.downPress=function(t){this.row<18&&(t[this.row+2][this.col].empty&&(t[this.row+2][this.col+1].empty&&(this.deleteCoordinates(t),++this.row),this.deleteCoordinates(t)),this.deleteCoordinates(t)),this.deleteCoordinates(t)},t.prototype.leftPress=function(t,o){0!==this.col?(this.col>0&&t[this.row][this.col-1].empty&&this.row<19&&(t[this.row+1][this.col-1].empty?(this.deleteCoordinates(t),--this.col):this.deleteCoordinates(t)),this.deleteCoordinates(t)):this.deleteCoordinates(t)},t.prototype.rightPress=function(t,o){9!==this.col&&(this.col<9&&t[this.row][this.col+2].empty&&(this.row<19?t[this.row+1][this.col+2].empty&&(this.deleteCoordinates(t),++this.col):this.deleteCoordinates(t)),this.deleteCoordinates(t))},t.prototype.upPress=function(t,o){this.deleteCoordinates(t)},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t}();o.OPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(0),r=function(){function t(){this.originalColor="rgb(66, 66, 66)",this.flipped=!0,this.coordinates=[],this.setcolor(),this.done=!1,this.col=Math.floor(6*Math.random()+0)}return t.prototype.decr=function(){this.row=this.row+1},t.prototype.drawToPoint=function(t,o){t[o.row]&&t[o.row][o.col]?(t[o.row][o.col].color=this.color,t[o.row][o.col].empty=!1,this.coordinates.push(new i.Coordinate(o.row,o.col))):console.log("Trying to draw something that doesn't exists at boardmap["+o.row+"]["+o.col+"]")},t.prototype.deleteToPoint=function(t,o,e){t[o]&&t[o][e]?(t[o][e].color=this.originalColor,t[o][e].empty=!0):console.log("Trying to delete something that doesn't exists at boardmap["+o+"]["+e+"]")},t.prototype.deleteCoordinates=function(t){for(;this.coordinates.length>0;){var o=this.coordinates.pop();this.deleteToPoint(t,o.row,o.col)}},t.prototype.setcolor=function(){switch(Math.floor(6*Math.random()+1)){case 0:this.color="rgb(11, 98, 237)";break;case 1:this.color="rgb(19, 237, 11)";break;case 2:this.color="rgb(249, 72, 90)";break;case 3:this.color="rgb(245, 255, 66)";break;case 4:this.color="rgb(66, 255, 248)";break;case 5:this.color="rgb(255, 66, 176)";break;case 6:this.color="rgb(255, 154, 66)"}},t.prototype.leftPress=function(t,o){this.flipped?(this.col>=-1&&(this.checkLeftVertical(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),--this.col)),this.deleteCoordinates(t)):(this.col>=0&&(this.checkLeftHorizontal(t)||(this.deleteCoordinates(t),--this.col)),this.deleteCoordinates(t))},t.prototype.rightPress=function(t,o){this.flipped?this.col<11?this.checkRightVertical(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),++this.col):this.deleteCoordinates(t):this.col<6?this.checkRightHorizontal(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),++this.col):this.deleteCoordinates(t)},t.prototype.upPress=function(t,o){this.flipped?this.checkVerticalToHorizontal(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),this.flipped=!this.flipped):this.checkHorizontalToVertical(t)?this.deleteCoordinates(t):(this.deleteCoordinates(t),this.flipped=!this.flipped)},t.prototype.checkVerticalToHorizontal=function(t){return this.col>6||(-1===this.col||(!t[this.row+1][this.col].empty||(!t[this.row+1][this.col+2].empty||!t[this.row+1][this.col+3].empty)))},t.prototype.checkHorizontalToVertical=function(t){return this.row>17||(!t[this.row][this.col+1].empty||(!t[this.row+2][this.col+1].empty||!t[this.row+3][this.col+1].empty))},t.prototype.downPress=function(t){this.flipped?this.row<16&&(this.checkBelowVertical(t,1)||(this.deleteCoordinates(t),this.row++)):this.row<18&&(this.checkBelowHorizontal(t,0)||(this.deleteCoordinates(t),this.row++))},t.prototype.draw=function(t,o){return this.flipped?this.drawFlipped(t,o):this.drawNotFlipped(t,o)},t.prototype.drawVertical=function(t,o){this.drawToPoint(t,new i.Coordinate(this.row,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+2,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+3,this.col+1))},t.prototype.drawHorizontal=function(t,o){this.drawToPoint(t,new i.Coordinate(this.row+1,this.col)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+1)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+2)),this.drawToPoint(t,new i.Coordinate(this.row+1,this.col+3))},t.prototype.checkLeftVertical=function(t){var o=!1;if(this.col<0)return!0;for(var e=this.row;e<this.row+4;++e)t[e][this.col].empty||(o=!0);return o},t.prototype.checkRightVertical=function(t){var o=!1;if(this.col>7)return!0;for(var e=this.row;e<this.row+4;++e)t[e][this.col+2].empty||(o=!0);return o},t.prototype.checkRightHorizontal=function(t){return!t[this.row+1][this.col+4].empty},t.prototype.checkLeftHorizontal=function(t){return 0===this.col||!t[this.row+1][this.col-1].empty},t.prototype.checkBelowHorizontal=function(t,o){var e=!1;if(this.row+2+o===20)e=!0;else for(var i=this.col;i<this.col+4;++i)t[this.row+2+o][i].empty||(e=!0);return e},t.prototype.checkBelowVertical=function(t,o){return this.row+3===20||!t[this.row+3+o][this.col+1].empty},t.prototype.drawFlipped=function(t,o){return 0===this.row?this.checkBelowVertical(t,1)?(this.done=!0,!1):(this.drawVertical(t,o),!0):this.row<17?this.checkBelowVertical(t,0)?(this.done=!0,!0):(this.deleteCoordinates(t),this.drawVertical(t,o),!0):(this.done=!0,!0)},t.prototype.drawNotFlipped=function(t,o){return 0===this.row?this.checkBelowHorizontal(t,-1)?(this.done=!0,!1):(this.deleteCoordinates(t),this.drawHorizontal(t,o),!0):this.row<21?this.checkBelowHorizontal(t,-1)?(this.done=!0,!0):(this.deleteCoordinates(t),this.drawHorizontal(t,o),!0):(this.done=!0,!0)},t}();o.IPiece=r},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(4),r=e(3),s=e(2),h=e(1),n=function(){function t(t){this.originalColor="rgb(66, 66, 66)",this.initP(t)}return t.prototype.printBoard=function(t){for(var o=0;o<20;++o){for(var e="",i=0;i<10;++i)t[o][i].empty?e+="x":e+="o";console.log(e)}},t.prototype.initP=function(t){this.started=!1,this.speiceList=[],this.generateType(),this.player.row=-1,this.firstTime=!0,this.checkBoardForRows(t)},t.prototype.leftPress=function(t,o){this.player.leftPress(t,o),this.draw(t,o)},t.prototype.rightPress=function(t,o){this.player.rightPress(t,o),this.draw(t,o)},t.prototype.upPress=function(t,o){this.player.upPress(t,o),this.draw(t,o)},t.prototype.downPress=function(t,o){this.player.downPress(t),this.draw(t,o)},t.prototype.generateType=function(){switch(Math.floor(4*Math.random()+1)){case 1:this.kind="I";break;case 2:this.kind="0";break;case 3:this.kind="X";break;case 4:this.kind="J"}"I"===this.kind?this.player=new i.IPiece:"0"===this.kind?this.player=new r.OPiece:"X"===this.kind?this.player=new s.XPiece:"J"===this.kind&&(this.player=new h.JPiece)},t.prototype.draw=function(t,o){this.player.done&&(this.player=new i.IPiece);var e=this.player.draw(t,o);return this.player.done&&(this.player=new i.IPiece,this.initP(t)),e},t.prototype.decr=function(){this.player.decr()},t.prototype.checkBoardForRows=function(t){for(var o=19;o>-1;o--){for(var e=!0,i=9;i>-1;i--)t[o][i].empty&&(e=!1);if(e){for(var r=o;r>1;--r)for(var s=0;s<10;++s)t[r][s].empty=t[r-1][s].empty,t[r][s].color=t[r-1][s].color;for(i=0;i<10;i++)t[0][i].empty=!0,t[0][i].color=this.originalColor;this.checkBoardForRows(t)}}},t}();o.TPiece=n},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t,o,e){this.color=t,this.left=o,this.top=e}return t.prototype.draw=function(t,o){t.fillStyle=this.color,t.fillRect(this.left+2+o,this.top+2+60,38,38)},t}();o.Piece=i},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(6),r=e(5),s=function(){function t(){this.canvas=document.querySelector(".myCanvas"),this.backgroundColor="rgb(38, 37, 37)",this.boardmap=[],this.zeroBoard(),this.initBoard(),this.gameInProgress=!0,this.t=new r.TPiece(this.boardmap);var t=this.getCenter();this.left=t-200,this.canvas.addEventListener("touchstart",function(o){var e=this.getTouchPos(this.canvas,o);console.log("Touching"),e.x>t?this.t.rightPress(this.boardmap,this.left):e.x<t&&this.t.leftPress(this.boardmap,this.left)},!1)}return t.prototype.getTouchPos=function(t,o){var e=t.getBoundingClientRect();return{x:o.touches[0].clientX-e.left,y:o.touches[0].clientY-e.top}},t.prototype.getPiece=function(){return this.t},t.prototype.getCenter=function(){return Math.floor(this.width/2)},t.prototype.keyPress=function(t){"38"==t.keyCode?this.t.upPress(this.boardmap,this.left):"40"==t.keyCode?this.t.downPress(this.boardmap,this.left):"37"==t.keyCode?this.t.leftPress(this.boardmap,this.left):"39"==t.keyCode&&this.t.rightPress(this.boardmap,this.left)},t.prototype.decrTime=function(){this.gameInProgress&&(this.t.decr(),this.t.draw(this.boardmap,this.left)||(this.gameInProgress=!1))},t.prototype.zeroBoard=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.width=window.innerWidth,this.height=window.innerHeight,this.ctx=this.canvas.getContext("2d")},t.prototype.initBoard=function(){var t=this.getCenter()-200;this.left=t;for(var o=0;o<20;o++){for(var e=[],r=0;r<10;++r){var s=new i.Piece("rgb(66, 66, 66)",40*r,40*o);s.empty=!0,e.push(s)}this.boardmap.push(e),e=[]}},t.prototype.drawBoard=function(){this.zeroBoard(),this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height);var t=this.getCenter()-200;this.left=t,this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.lineWidth=1,this.ctx.strokeRect(t,60,400,800),this.drawLines(t);for(var o=0,e=this.boardmap;o<e.length;o++)for(var i=0,r=e[o];i<r.length;i++){r[i].draw(this.ctx,t)}},t.prototype.drawLines=function(t){this.ctx.strokeStyle="rgb(91, 89, 89)";for(var o=40;o<400;o+=40)this.ctx.moveTo(t+o,60),this.ctx.lineTo(t+o,860),this.ctx.stroke();for(o=60;o<860;o+=40)this.ctx.moveTo(t,o),this.ctx.lineTo(t+400,o),this.ctx.stroke()},t}();o.Board=s},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=new(e(7).Board);window.setInterval(function(){i.drawBoard()},20),window.setInterval(function(){i.decrTime()},400);window.addEventListener("keydown",function(t){i.keyPress(t)},!1),window.addEventListener("gamepadconnected",function(t){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",t.gamepad.index,t.gamepad.id,t.gamepad.buttons.length,t.gamepad.axes.length)}),window.onresize=function(t){i.drawBoard()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BsYXllcnMvQ29vcmRpbmF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGxheWVycy9KUGllY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BsYXllcnMvWFBpZWNlLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9QbGF5ZXJzL09QaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGxheWVycy9JUGllY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL1BpZWNlL1RQaWVjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUGllY2UvUGllY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL0JvYXJkL0JvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkNvb3JkaW5hdGUiLCJ0aGlzIiwicm93IiwiY29sIiwiQ29vcmRpbmF0ZV8xIiwiSlBpZWNlIiwib3JpZ2luYWxDb2xvciIsImNvb3JkaW5hdGVzIiwic2V0Y29sb3IiLCJkb25lIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic3RhdGUiLCJtYXRyaXhPbmUiLCJtYXRyaXhUd28iLCJtYXRyaXhUaHJlZSIsIm1hdHJpeEZvdXIiLCJjaGVja0lmRml0cyIsImJvYXJkbWFwIiwiaW5wdXRNYXRyaXgiLCJqIiwiZW1wdHkiLCJkcmF3IiwibGVmdCIsImNoZWNrQmVsb3ciLCJkZWxldGVDb29yZGluYXRlcyIsImRyYXdDdXJyZW50IiwiZHJhd09uZSIsImRyYXdUd28iLCJkcmF3VGhyZWUiLCJkcmF3Rm91ciIsImRyYXdUb1BvaW50IiwiY2hlY2tSaWdodCIsIm1vZGlmaWVyIiwicmV0dXJuVmFsIiwiY2hlY2tSaWdodE9uZSIsImNoZWNrUmlnaHRUd28iLCJjaGVja1JpZ2h0VGhyZWUiLCJjaGVja1JpZ2h0Rm91ciIsImJsb2NrZWQiLCJjaGVja0xlZnQiLCJjaGVja0xlZnRPbmUiLCJjaGVja0xlZnRUd28iLCJjaGVja0xlZnRUaHJlZSIsImNoZWNrTGVmdEZvdXIiLCJjaGVja0JlbG93T25lIiwiY2hlY2tCZWxvd1R3byIsImNoZWNrQmVsb3dUaHJlZSIsImNoZWNrQmVsb3dGb3VyIiwiZGVjciIsImNvbG9yIiwiaW5jcmVtZW50U3RhdGUiLCJDb3JkIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJkZWxldGVUb1BvaW50IiwieCIsInkiLCJsZW5ndGgiLCJjdXJyZW50IiwicG9wIiwibGVmdFByZXNzIiwicmlnaHRQcmVzcyIsInVwUHJlc3MiLCJwcmV2U3RhdGUiLCJkb3duUHJlc3MiLCJYUGllY2UiLCJmbGlwcGVkIiwiZHJhd1NlbGYiLCJkcmF3U2VsZkZsaXBwZWQiLCJkcmF3U2VsZlJpZ2h0IiwiZHJhd1NlbGZMZWZ0IiwiY2hlY2tMZWZ0VXAiLCJjaGVja0xlZnRSaWdodCIsImNoZWNrTGVmdERvd24iLCJjaGVja0xlZnRMZWZ0IiwiY2hlY2tSaWdodFVwIiwiY2hlY2tSaWdodFJpZ2h0IiwiY2hlY2tSaWdodERvd24iLCJjaGVja1JpZ2h0TGVmdCIsImNoZWNrQmVsb3d1cCIsImNoZWNrQmVsb3dSaWdodCIsImNoZWNrQmVsb3dEb3duIiwiY2hlY2tCZWxvd0xlZnQiLCJUb0xlZnQiLCJ0b1JpZ2h0IiwidG9MZWZ0IiwiYmVsb3ciLCJPUGllY2UiLCJkcmF3Rmlyc3RTZWxmIiwiZHJhd0ZsaXBwZWQiLCJkcmF3Tm90RmxpcHBlZCIsIklQaWVjZSIsImNoZWNrTGVmdFZlcnRpY2FsIiwiY2hlY2tMZWZ0SG9yaXpvbnRhbCIsImNoZWNrUmlnaHRWZXJ0aWNhbCIsImNoZWNrUmlnaHRIb3Jpem9udGFsIiwiY2hlY2tWZXJ0aWNhbFRvSG9yaXpvbnRhbCIsImNoZWNrSG9yaXpvbnRhbFRvVmVydGljYWwiLCJjaGVja0JlbG93VmVydGljYWwiLCJjaGVja0JlbG93SG9yaXpvbnRhbCIsImRyYXdWZXJ0aWNhbCIsImRyYXdIb3Jpem9udGFsIiwiSVBpZWNlXzEiLCJPUGllY2VfMSIsIlhQaWVjZV8xIiwiSlBpZWNlXzEiLCJUUGllY2UiLCJpbml0UCIsInByaW50Qm9hcmQiLCJzdHJpbmciLCJzdGFydGVkIiwic3BlaWNlTGlzdCIsImdlbmVyYXRlVHlwZSIsInBsYXllciIsImZpcnN0VGltZSIsImNoZWNrQm9hcmRGb3JSb3dzIiwia2luZCIsInJldHVybnZhbCIsImhlaWdodCIsIk5lZWRUb0RlbGV0ZSIsIndpZHRoIiwiayIsIlBpZWNlIiwidG9wIiwiY3R4Iiwib2Zmc2V0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJQaWVjZV8xIiwiVFBpZWNlXzEiLCJCb2FyZCIsImNhbnZhcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImJhY2tncm91bmRDb2xvciIsInplcm9Cb2FyZCIsImluaXRCb2FyZCIsImdhbWVJblByb2dyZXNzIiwiY2VudGVyIiwiZ2V0Q2VudGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJtb3VzZVBvcyIsImdldFRvdWNoUG9zIiwiY2FudmFzRG9tIiwidG91Y2hFdmVudCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJnZXRQaWVjZSIsImtleVByZXNzIiwia2V5Q29kZSIsImRlY3JUaW1lIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZ2V0Q29udGV4dCIsIm1pZGRsZUxpc3QiLCJwdXNobWVQZWFjZSIsImRyYXdCb2FyZCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlUmVjdCIsImRyYXdMaW5lcyIsIl9pIiwiX2EiLCJfYiIsInRvcGVudHJ5XzEiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJib2FyZCIsInNldEludGVydmFsIiwiZ2FtZXBhZCIsImluZGV4IiwiaWQiLCJidXR0b25zIiwiYXhlcyIsIm9ucmVzaXplIiwiZXZlbnQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVB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QW5CLEVBQUFULFVBQUFtQyxTQUFBLFNBQUFaLEVBQUFLLEdBUUF2QixLQUFBK0IsWUFBQWIsRUFBQSxJQUFBZixFQUFBSixXQUFBQyxLQUFBQyxJQUFBLEVBQUFELEtBQUFFLE1BQ0FGLEtBQUErQixZQUFBYixFQUFBLElBQUFmLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsSUFBQSxJQUNBRixLQUFBK0IsWUFBQWIsRUFBQSxJQUFBZixFQUFBSixXQUFBQyxLQUFBQyxJQUFBLEVBQUFELEtBQUFFLElBQUEsSUFDQUYsS0FBQStCLFlBQUFiLEVBQUEsSUFBQWYsRUFBQUosV0FBQUMsS0FBQUMsSUFBQSxFQUFBRCxLQUFBRSxJQUFBLEtBRUFFLEVBQUFULFVBQUFrQyxVQUFBLFNBQUFYLEVBQUFLLEdBUUF2QixLQUFBK0IsWUFBQWIsRUFBQSxJQUFBZixFQUFBSixXQUFBQyxLQUFBQyxJQUFBRCxLQUFBRSxJQUFBLElBQ0FGLEtBQUErQixZQUFBYixFQUFBLElBQUFmLEVBQUFKLFdBQUFDLEtBQUFDLElBQUFELEtBQUFFLElBQUEsSUFDQUYsS0FBQStCLFlBQUFiLEVBQUEsSUFBQWYsRUFBQUosV0FBQUMsS0FBQUMsSUFBQSxFQUFBRCxLQUFBRSxJQUFBLElBQ0FGLEtBQUErQixZQUFBYixFQUFBLElBQUFmLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsSUFBQSxLQUVBRSxFQUFBVCxVQUFBaUMsUUFBQSxTQUFBVixFQUFBSyxHQVFBdkIsS0FBQStCLFlBQUFiLEVBQUEsSUFBQWYsRUFBQUosV0FBQUMsS0FBQUMsSUFBQSxFQUFBRCxLQUFBRSxNQUNBRixLQUFBK0IsWUFBQWIsRUFBQSxJQUFBZixFQUFBSixXQUFBQyxLQUFBQyxJQUFBLEVBQUFELEtBQUFFLE1BQ0FGLEtBQUErQixZQUFBYixFQUFBLElBQUFmLEVBQUFKLFdBQUFDLEtBQUFDLElBQUEsRUFBQUQsS0FBQUUsSUFBQSxJQUNBRixLQUFBK0IsWUFBQWIsRUFBQSxJQUFBZixFQUFBSixXQUFBQyxLQUFB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LEtBQUE4SCxJQUFBOEMsT0FBQXJKLEVBQUF3RyxFQUpBLElBS0EvSCxLQUFBOEgsSUFBQStDLE9BQUF0SixFQUFBd0csRUFKQSxLQUtBL0gsS0FBQThILElBQUFnRCxTQUVBLElBQUEvQyxFQUFBLEdBQTZCQSxFQUFBLElBQW1CQSxHQUFBLEdBQ2hEL0gsS0FBQThILElBQUE4QyxPQUFBckosRUFBQXdHLEdBQ0EvSCxLQUFBOEgsSUFBQStDLE9BQUF0SixFQUFBLElBQUF3RyxHQUNBL0gsS0FBQThILElBQUFnRCxVQUdBMUMsRUE3SEEsR0ErSEF2SyxFQUFBdUssc0NDbElBM0osT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q21CLE9BQUEsSUFDOUMsSUFDQStMLEVBQUEsSUFEQXBOLEVBQUEsR0FDQXlLLE9BVUF5QixPQUFBbUIsWUFUQSxXQUVBRCxFQUFBWixhQU9BLElBQ0FOLE9BQUFtQixZQUxBLFdBQ0FELEVBQUFuQixZQUlBLEtBQ0FDLE9BQUFmLGlCQUFBLFVBSUEsU0FBQUMsR0FDQWdDLEVBQUFyQixTQUFBWCxLQUxBLEdBQ0FjLE9BQUFmLGlCQUFBLDRCQUFBQyxHQUNBekYsUUFBQUMsSUFBQSwwREFBQXdGLEVBQUFrQyxRQUFBQyxNQUFBbkMsRUFBQWtDLFFBQUFFLEdBQUFwQyxFQUFBa0MsUUFBQUcsUUFBQXpILE9BQUFvRixFQUFBa0MsUUFBQUksS0FBQTFILFVBS0FrRyxPQUFBeUIsU0FBQSxTQUFBQyxHQUNBUixFQUFBWiIsImZpbGUiOiIuL2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA4KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvb3JkaW5hdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29vcmRpbmF0ZShyLCBjKSB7XG4gICAgICAgIHRoaXMucm93ID0gcjtcbiAgICAgICAgdGhpcy5jb2wgPSBjO1xuICAgIH1cbiAgICByZXR1cm4gQ29vcmRpbmF0ZTtcbn0oKSk7XG5leHBvcnRzLkNvb3JkaW5hdGUgPSBDb29yZGluYXRlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29vcmRpbmF0ZV8xID0gcmVxdWlyZShcIi4vQ29vcmRpbmF0ZVwiKTtcbnZhciBKUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSlBpZWNlKCkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHRoaXMuc2V0Y29sb3IoKTtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMik7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAzOyAvL01hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkqNCkgKzEpO1xuICAgICAgICB0aGlzLm1hdHJpeE9uZSA9XG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDEsIDBdLFxuICAgICAgICAgICAgICAgIFswLCAxLCAwXSxcbiAgICAgICAgICAgICAgICBbMSwgMSwgMF0sXG4gICAgICAgICAgICAgICAgWzAsIDAsIDBdXG4gICAgICAgICAgICBdO1xuICAgICAgICB0aGlzLm1hdHJpeFR3byA9XG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDAsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAwLCAwXSxcbiAgICAgICAgICAgICAgICBbMSwgMSwgMV0sXG4gICAgICAgICAgICAgICAgWzAsIDAsIDBdXG4gICAgICAgICAgICBdO1xuICAgICAgICB0aGlzLm1hdHJpeFRocmVlID1cbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMCwgMSwgMV0sXG4gICAgICAgICAgICAgICAgWzAsIDEsIDBdLFxuICAgICAgICAgICAgICAgIFswLCAxLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMCwgMF1cbiAgICAgICAgICAgIF07XG4gICAgICAgIHRoaXMubWF0cml4Rm91ciA9XG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDAsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMCwgMV0sXG4gICAgICAgICAgICAgICAgWzAsIDAsIDBdXG4gICAgICAgICAgICBdO1xuICAgIH1cbiAgICA7XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja0lmRml0cyA9IGZ1bmN0aW9uIChyb3csIGJvYXJkbWFwKSB7XG4gICAgICAgIHZhciBpbnB1dE1hdHJpeCA9IFtdO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpbnB1dE1hdHJpeCA9IHRoaXMubWF0cml4T25lO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlucHV0TWF0cml4ID0gdGhpcy5tYXRyaXhUd287XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaW5wdXRNYXRyaXggPSB0aGlzLm1hdHJpeFRocmVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGlucHV0TWF0cml4ID0gdGhpcy5tYXRyaXhGb3VyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDM7ICsraikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dE1hdHJpeFtpXVtqXSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWJvYXJkbWFwW3JvdyArIGldIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIGldW3RoaXMuY29sICsgal0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWJvYXJkbWFwW3JvdyArIGldW3RoaXMuY29sICsgal0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvKiAgIDIgICAgICAgICAgMyAgICAgICAgICAgNCAgICAgICAgICAgMVxuICAgICAgICAgWyBdWyBdWyBdID0gWyBdWypdWypdID0gWyBdWyBdWyBdID0gWyBdWypdWyBdXG4gICAgICAgICBbKl1bIF1bIF0gPSBbIF1bKl1bIF0gPSBbKl1bKl1bKl0gPSBbIF1bKl1bIF1cbiAgICAgICAgIFsqXVsqXVsqXSA9IFsgXVsqXVsgXSA9IFsgXVsgXVsqXSA9IFsqXVsqXVsgXVxuICAgICAgICAgWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdXG4gICAgICBcbiAgICAgICAgICovXG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93KGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3Q3VycmVudChib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3coYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdDdXJyZW50KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAxOCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvdyhib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0N1cnJlbnQoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93KGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3Q3VycmVudChib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuZHJhd0N1cnJlbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3T25lKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdUd28oYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1RocmVlKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdGb3VyKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5kcmF3Rm91ciA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvKiAgIDIgICAgICAgICAgMyAgICAgICAgICAgNCAgICAgICAgICAgMVxuICAgICAgICAgWyBdWyBdWyBdID0gWyBdWypdWypdID0gWyBdWyBdWyBdID0gWyBdWypdWyBdXG4gICAgICAgICBbKl1bIF1bIF0gPSBbIF1bKl1bIF0gPSBbKl1bKl1bKl0gPSBbIF1bKl1bIF1cbiAgICAgICAgIFsqXVsqXVsqXSA9IFsgXVsqXVsgXSA9IFsgXVsgXVsqXSA9IFsqXVsqXVsgXVxuICAgICAgICAgWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdXG4gICAgICBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDIpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMiwgdGhpcy5jb2wgKyAyKSk7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmRyYXdUaHJlZSA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvKiAgIDIgICAgICAgICAgMyAgICAgICAgICAgNCAgICAgICAgICAgMVxuICAgICAgICAgWyBdWyBdWyBdID0gWyBdWypdWypdID0gWyBdWyBdWyBdID0gWyBdWypdWyBdXG4gICAgICAgICBbKl1bIF1bIF0gPSBbIF1bKl1bIF0gPSBbKl1bKl1bKl0gPSBbIF1bKl1bIF1cbiAgICAgICAgIFsqXVsqXVsqXSA9IFsgXVsqXVsgXSA9IFsgXVsgXVsqXSA9IFsqXVsqXVsgXVxuICAgICAgICAgWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdXG4gICAgICBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdywgdGhpcy5jb2wgKyAxKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdywgdGhpcy5jb2wgKyAyKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAyLCB0aGlzLmNvbCArIDEpKTtcbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuZHJhd1R3byA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvKiAgIDIgICAgICAgICAgMyAgICAgICAgICAgNCAgICAgICAgICAgMVxuICAgICAgIFsgXVsgXVsgXSA9IFsgXVsqXVsqXSA9IFsgXVsgXVsgXSA9IFsgXVsqXVsgXVxuICAgICAgIFsqXVsgXVsgXSA9IFsgXVsqXVsgXSA9IFsqXVsqXVsqXSA9IFsgXVsqXVsgXVxuICAgICAgIFsqXVsqXVsqXSA9IFsgXVsqXVsgXSA9IFsgXVsgXVsqXSA9IFsqXVsqXVsgXVxuICAgICAgIFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXVxuICAgIFxuICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDIsIHRoaXMuY29sKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDIsIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAyLCB0aGlzLmNvbCArIDIpKTtcbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuZHJhd09uZSA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvKiAgIDIgICAgICAgICAgMyAgICAgICAgICAgNCAgICAgICAgICAgMVxuICAgWyBdWyBdWyBdID0gWyBdWypdWypdID0gWyBdWyBdWyBdID0gWyBdWypdWyBdXG4gICBbKl1bIF1bIF0gPSBbIF1bKl1bIF0gPSBbKl1bKl1bKl0gPSBbIF1bKl1bIF1cbiAgIFsqXVsqXVsqXSA9IFsgXVsqXVsgXSA9IFsgXVsgXVsqXSA9IFsqXVsqXVsgXVxuICAgWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdXG5cbiAgICovXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDIsIHRoaXMuY29sKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDIsIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93LCB0aGlzLmNvbCArIDEpKTtcbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuY2hlY2tSaWdodCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgLyogICAyICAgICAgICAgIDMgICAgICAgICAgIDQgICAgICAgICAgIDFcbiAgICAgICAgWyBdWyBdWyBdID0gWyBdWypdWypdID0gWyBdWyBdWyBdID0gWyBdWypdWyBdXG4gICAgICAgIFsqXVsgXVsgXSA9IFsgXVsqXVsgXSA9IFsqXVsqXVsqXSA9IFsgXVsqXVsgXVxuICAgICAgICBbKl1bKl1bKl0gPSBbIF1bKl1bIF0gPSBbIF1bIF1bKl0gPSBbKl1bKl1bIF1cbiAgICAgICAgWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdID0gWyBdWyBdWyBdXG5cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIHJldHVyblZhbCA9IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSB0aGlzLmNoZWNrUmlnaHRPbmUoYm9hcmRtYXAsIG1vZGlmaWVyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSB0aGlzLmNoZWNrUmlnaHRUd28oYm9hcmRtYXAsIG1vZGlmaWVyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSB0aGlzLmNoZWNrUmlnaHRUaHJlZShib2FyZG1hcCwgbW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHRoaXMuY2hlY2tSaWdodEZvdXIoYm9hcmRtYXAsIG1vZGlmaWVyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja1JpZ2h0Rm91ciA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgdmFyIGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgM10pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCArIDNdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAzXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgM10uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja1JpZ2h0VGhyZWUgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIHZhciBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIC8qRXhpc3QgY2hlY2tzKi9cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAzXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgMl0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCArIDJdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvKioqKioqKioqKioqKi9cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAzXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxvY2tlZDtcbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuY2hlY2tSaWdodFR3byA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgLypFeGlzdCBjaGVja3MqL1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAxXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCArIDNdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvKioqKioqKioqKioqKiAqL1xuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgM10uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja1JpZ2h0T25lID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKiAgIDIgICAgICAgICAgMyAgICAgICAgICAgNCAgICAgICAgICAgMVxuICBbIF1bIF1bIF0gPSBbIF1bKl1bKl0gPSBbIF1bIF1bIF0gPSBbIF1bKl1bIF1cbiAgWypdWyBdWyBdID0gWyBdWypdWyBdID0gWypdWypdWypdID0gWyBdWypdWyBdXG4gIFsqXVsqXVsqXSA9IFsgXVsqXVsgXSA9IFsgXVsgXVsqXSA9IFsqXVsqXVsgXVxuICBbIF1bIF1bIF0gPSBbIF1bIF1bIF0gPSBbIF1bIF1bIF0gPSBbIF1bIF1bIF1cblxuICAqL1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XSB8fCAhYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMl0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMV0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAyXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCArIDJdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qICAgMiAgICAgICAgICAzICAgICAgICAgICA0ICAgICAgICAgICAxXG4gICAgICAgIFsgXVsgXVsgXSA9IFsgXVsqXVsqXSA9IFsgXVsgXVsgXSA9IFsgXVsqXVsgXVxuICAgICAgICBbKl1bIF1bIF0gPSBbIF1bKl1bIF0gPSBbKl1bKl1bKl0gPSBbIF1bKl1bIF1cbiAgICAgICAgWypdWypdWypdID0gWyBdWypdWyBdID0gWyBdWyBdWypdID0gWypdWypdWyBdXG4gICAgICAgIFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXVxuXG4gICAgICAgICovXG4gICAgICAgIHZhciByZXR1cm5WYWwgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gdGhpcy5jaGVja0xlZnRPbmUoYm9hcmRtYXAsIG1vZGlmaWVyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSB0aGlzLmNoZWNrTGVmdFR3byhib2FyZG1hcCwgbW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHRoaXMuY2hlY2tMZWZ0VGhyZWUoYm9hcmRtYXAsIG1vZGlmaWVyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSB0aGlzLmNoZWNrTGVmdEZvdXIoYm9hcmRtYXAsIG1vZGlmaWVyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnRGb3VyID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKiAgIDIgICAgICAgICAgMyAgICAgICAgICAgNCAgICAgICAgICAgMVxuICAgICAgIFsgXVsgXVsgXSA9IFsgXVsqXVsqXSA9IFsgXVsgXVsgXSA9IFsgXVsqXVsgXVxuICAgICAgIFsqXVsgXVsgXSA9IFsgXVsqXVsgXSA9IFsqXVsqXVsqXSA9IFsgXVsqXVsgXVxuICAgICAgIFsqXVsqXVsqXSA9IFsgXVsqXVsgXSA9IFsgXVsgXVsqXSA9IFsqXVsqXVsgXVxuICAgICAgIFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXVxuXG4gICAgICAgKi9cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sIC0gMV0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMl0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgKyAxXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJlbXB0eTpcIitib2FyZG1hcFt0aGlzLnJvdysxXVt0aGlzLmNvbC0xXS5lbXB0eSk7XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCAtIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnRUaHJlZSA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbF0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJsb2NrZWQ7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmNoZWNrTGVmdFR3byA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sIC0gMV0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMl0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMl1bdGhpcy5jb2wgLSAxXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCAtIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxvY2tlZDtcbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuY2hlY2tMZWZ0T25lID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2xdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDJdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sIC0gMV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKiAgIDIgICAgICAgICAgMyAgICAgICAgICAgNCAgICAgICAgICAgMVxuICAgICAgICBbIF1bIF1bIF0gPSBbIF1bKl1bKl0gPSBbIF1bIF1bIF0gPSBbIF1bKl1bIF1cbiAgICAgICAgWypdWyBdWyBdID0gWyBdWypdWyBdID0gWypdWypdWypdID0gWyBdWypdWyBdXG4gICAgICAgIFsqXVsqXVsqXSA9IFsgXVsqXVsgXSA9IFsgXVsgXVsqXSA9IFsgXVsqXVsgXVxuICAgICAgICBbIF1bIF1bIF0gPSBbIF1bIF1bIF0gPSBbIF1bIF1bIF0gPSBbKl1bKl1bIF1cblxuICAgICAgICAqL1xuICAgICAgICB2YXIgcmV0dXJuVmFsID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHRoaXMuY2hlY2tCZWxvd09uZShib2FyZG1hcCwgbW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHRoaXMuY2hlY2tCZWxvd1R3byhib2FyZG1hcCwgbW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHRoaXMuY2hlY2tCZWxvd1RocmVlKGJvYXJkbWFwLCBtb2RpZmllcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gdGhpcy5jaGVja0JlbG93Rm91cihib2FyZG1hcCwgbW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5WYWw7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3dGb3VyID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKiAgIDIgICAgICAgICAgMyAgICAgICAgICAgNCAgICAgICAgICAgMVxuICAgIFsgXVsgXVsgXSA9IFsgXVsqXVsqXSA9IFsgXVsgXVsgXSA9IFsgXVsqXVsgXVxuICAgIFsqXVsgXVsgXSA9IFsgXVsqXVsgXSA9IFsqXVsqXVsqXSA9IFsgXVsqXVsgXVxuICAgIFsqXVsqXVsqXSA9IFsgXVsqXVsgXSA9IFsgXVsgXVsqXSA9IFsqXVsqXVsgXVxuICAgIFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXSA9IFsgXVsgXVsgXVxuXG4gICAgKi9cbiAgICAgICAgdmFyIGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMSArIG1vZGlmaWVyXVt0aGlzLmNvbF0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMSArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDJdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAyXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMSArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxvY2tlZDtcbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuY2hlY2tCZWxvd1RocmVlID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKiAgIDIgICAgICAgICAgMyAgICAgICAgICAgNCAgICAgICAgICAgMVxuICAgICAgICBbIF1bIF1bIF0gPSBbIF1bKl1bKl0gPSBbIF1bIF1bIF0gPSBbIF1bKl1bIF1cbiAgICAgICAgWypdWyBdWyBdID0gWyBdWypdWyBdID0gWypdWypdWypdID0gWyBdWypdWyBdXG4gICAgICAgIFsqXVsqXVsqXSA9IFsgXVsqXVsgXSA9IFsgXVsgXVsqXSA9IFsqXVsqXVsgXVxuICAgICAgICBbIF1bIF1bIF0gPSBbIF1bIF1bIF0gPSBbIF1bIF1bIF0gPSBbIF1bIF1bIF1cblxuICAgICAgICAqL1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMV0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgbW9kaWZpZXJdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDJdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93T25lID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKiAgIDIgICAgICAgICAgMyAgICAgICAgICAgNCAgICAgICAgICAgMVxuICAgICAgICAgICBbIF1bIF1bIF0gPSBbIF1bKl1bKl0gPSBbIF1bIF1bIF0gPSBbIF1bKl1bIF1cbiAgICAgICAgICAgWypdWyBdWyBdID0gWyBdWypdWyBdID0gWypdWypdWypdID0gWyBdWypdWyBdXG4gICAgICAgICAgIFsqXVsqXVsqXSA9IFsgXVsqXVsgXSA9IFsgXVsgXVsqXSA9IFsgXVsqXVsgXVxuICAgICAgICAgICBbIF1bIF1bIF0gPSBbIF1bIF1bIF0gPSBbIF1bIF1bIF0gPSBbKl1bKl1bIF1cbiAgIFxuICAgICAgICAgICAqL1xuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sXSB8fCAhYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAxXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxvY2tlZDtcbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuY2hlY2tCZWxvd1R3byA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgdmFyIGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbF0gfHwgIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdIHx8ICFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAyXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxvY2tlZDtcbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuZGVjciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yb3cgPSB0aGlzLnJvdyArIDE7XG4gICAgfTtcbiAgICBKUGllY2UucHJvdG90eXBlLnNldGNvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29sb3IgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAxKTtcbiAgICAgICAgc3dpdGNoIChjb2xvcikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxMSwgOTgsIDIzNylcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTksIDIzNywgMTEpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0OSwgNzIsIDkwKVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDUsIDI1NSwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDY2LCAyNTUsIDI0OClcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCA2NiwgMTc2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDE1NCwgNjYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuaW5jcmVtZW50U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlIDwgNCkge1xuICAgICAgICAgICAgKyt0aGlzLnN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuZHJhd1RvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIENvcmQpIHtcbiAgICAgICAgaWYgKGJvYXJkbWFwW0NvcmQucm93XSAmJiBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdKSB7XG4gICAgICAgICAgICBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXMucHVzaChuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUoQ29yZC5yb3csIENvcmQuY29sKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyeWluZyB0byBkcmF3IHNvbWV0aGluZyB0aGF0IGRvZXNuJ3QgZXhpc3RzIGF0IGJvYXJkbWFwW1wiICsgQ29yZC5yb3cgKyBcIl1bXCIgKyBDb3JkLmNvbCArIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5kZWxldGVUb1BvaW50ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCB4LCB5KSB7XG4gICAgICAgIGlmIChib2FyZG1hcFt4XSAmJiBib2FyZG1hcFt4XVt5XSkge1xuICAgICAgICAgICAgYm9hcmRtYXBbeF1beV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgICAgICBib2FyZG1hcFt4XVt5XS5lbXB0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyeWluZyB0byBkZWxldGUgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdHMgYXQgYm9hcmRtYXBbXCIgKyB4ICsgXCJdW1wiICsgeSArIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5kZWxldGVDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICB3aGlsZSAodGhpcy5jb29yZGluYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuY29vcmRpbmF0ZXMucG9wKCk7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVRvUG9pbnQoYm9hcmRtYXAsIGN1cnJlbnQucm93LCBjdXJyZW50LmNvbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8qICAgMiAgICAgICAgICAzICAgICAgICAgICA0ICAgICAgICAgICAxXG4gICAgICAgICBbIF1bIF1bIF0gPSBbIF1bKl1bKl0gPSBbIF1bIF1bIF0gPSBbIF1bKl1bIF1cbiAgICAgICAgIFsqXVsgXVsgXSA9IFsgXVsqXVsgXSA9IFsqXVsqXVsqXSA9IFsgXVsqXVsgXVxuICAgICAgICAgWypdWypdWypdID0gWyBdWypdWyBdID0gWyBdWyBdWypdID0gWypdWypdWyBdXG4gICAgICAgICBbIF1bIF1bIF0gPSBbIF1bIF1bIF0gPSBbIF1bIF1bIF0gPSBbIF1bIF1bIF1cbiBcbiAgICAgICAgICovXG4gICAgICAgIGlmICghdGhpcy5jaGVja0xlZnQoYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHRoaXMuY29sLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgfVxuICAgICAgICAvL3RoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgIH07XG4gICAgSlBpZWNlLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja1JpZ2h0KGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICB0aGlzLmNvbCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUudXBQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgdmFyIHByZXZTdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHRoaXMuaW5jcmVtZW50U3RhdGUoKTtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrSWZGaXRzKHRoaXMucm93LCBib2FyZG1hcCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBwcmV2U3RhdGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpQaWVjZS5wcm90b3R5cGUuZG93blByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICBpZiAodGhpcy5jaGVja0lmRml0cyh0aGlzLnJvdyArIDEsIGJvYXJkbWFwKSkge1xuICAgICAgICAgICAgdGhpcy5yb3crKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEpQaWVjZTtcbn0oKSk7XG5leHBvcnRzLkpQaWVjZSA9IEpQaWVjZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvb3JkaW5hdGVfMSA9IHJlcXVpcmUoXCIuL0Nvb3JkaW5hdGVcIik7XG4vLyBleHBvcnQgY2xhc3MgY29vcmRpbmF0ZXtcbi8vICAgICByb3c6bnVtYmVyO1xuLy8gICAgIGNvbDpudW1iZXI7XG4vLyAgICAgY29uc3RydWN0b3IocjpudW1iZXIsYzpudW1iZXIpe1xuLy8gICAgICAgICB0aGlzLnJvdyA9IHI7XG4vLyAgICAgICAgIHRoaXMuY29sID0gYztcbi8vICAgICB9XG4vLyB9XG52YXIgWFBpZWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhQaWVjZSgpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IFtdO1xuICAgICAgICB0aGlzLmZsaXBwZWQgPSBNYXRoLnJhbmRvbSgpIDwgMC41O1xuICAgICAgICB0aGlzLnNldGNvbG9yKCk7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDIpO1xuICAgICAgICB0aGlzLnN0YXRlID0gMTsgLy9NYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpKjQpICsxKTtcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgb2JqZWN0OiBjb2w6XCIrdGhpcy5jb2wpO1xuICAgIH1cbiAgICBYUGllY2UucHJvdG90eXBlLmluY3JlbWVudFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA8IDQpIHtcbiAgICAgICAgICAgICsrdGhpcy5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAxO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmRyYXdUb1BvaW50ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBDb3JkKSB7XG4gICAgICAgIGlmIChib2FyZG1hcFtDb3JkLnJvd10gJiYgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXSkge1xuICAgICAgICAgICAgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgICAgICBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVzLnB1c2gobmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKENvcmQucm93LCBDb3JkLmNvbCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcnlpbmcgdG8gZHJhdyBzb21ldGhpbmcgdGhhdCBkb2Vzbid0IGV4aXN0cyBhdCBib2FyZG1hcFtcIiArIENvcmQucm93ICsgXCJdW1wiICsgQ29yZC5jb2wgKyBcIl1cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuZGVsZXRlVG9Qb2ludCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgeCwgeSkge1xuICAgICAgICBpZiAoYm9hcmRtYXBbeF0gJiYgYm9hcmRtYXBbeF1beV0pIHtcbiAgICAgICAgICAgIGJvYXJkbWFwW3hdW3ldLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yO1xuICAgICAgICAgICAgYm9hcmRtYXBbeF1beV0uZW1wdHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcnlpbmcgdG8gZGVsZXRlIHNvbWV0aGluZyB0aGF0IGRvZXNuJ3QgZXhpc3RzIGF0IGJvYXJkbWFwW1wiICsgeCArIFwiXVtcIiArIHkgKyBcIl1cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuZGVsZXRlQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmNvb3JkaW5hdGVzLnBvcCgpO1xuICAgICAgICAgICAgdGhpcy5kZWxldGVUb1BvaW50KGJvYXJkbWFwLCBjdXJyZW50LnJvdywgY3VycmVudC5jb2wpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmRyYXdTZWxmID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIC8qXG4gICAgICAgIFteXVxuICAgICBbIF1bIF1bIF1cbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93LCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAxKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMikpO1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5kcmF3U2VsZkZsaXBwZWQgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLypcblxuICAgICAgIFs8XVteXVs+XVxuICAgICAgICAgIFt2XVxuXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDIpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMiwgdGhpcy5jb2wgKyAxKSk7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmRyYXdTZWxmUmlnaHQgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLypcbiAgICAgICAgW15dXG4gICAgICAgIFs8XVs+XVxuICAgICAgICBbdl1cbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93LCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAxKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMikpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAyLCB0aGlzLmNvbCArIDEpKTtcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuZHJhd1NlbGZMZWZ0ID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIC8qXG4gICAgICAgIFteXVxuICAgICBbPF1bPl1cbiAgICAgICAgW3ZdXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdywgdGhpcy5jb2wgKyAxKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAyLCB0aGlzLmNvbCArIDEpKTtcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrTGVmdFVwKGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbCA9IC0tdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tMZWZ0UmlnaHQoYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sID0gLS10aGlzLmNvbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrTGVmdERvd24oYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sID0gLS10aGlzLmNvbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tMZWZ0TGVmdChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2wgPSAtLXRoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5yaWdodFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrUmlnaHRVcChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2wgPSArK3RoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgNykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tSaWdodFJpZ2h0KGJvYXJkbWFwLCAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbCA9ICsrdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2wgPCA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1JpZ2h0RG93bihib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2wgPSArK3RoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgOCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tSaWdodExlZnQoYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sID0gKyt0aGlzLmNvbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDE6IC8vdXBcbiAgICAgICAgICAgICAgICAvL3RyYW5zZm9ybSB0byByaWdodFxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOiAvL3JpZ2h0XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOiAvL2Rvd25cbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDogLy9sZWZ0XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sIDwgOCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuZG93blByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0JlbG93dXAoYm9hcmRtYXAsIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrdGhpcy5yb3c7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQmVsb3dSaWdodChib2FyZG1hcCwgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnJvdztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQmVsb3dEb3duKGJvYXJkbWFwLCAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3RoaXMucm93O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0JlbG93TGVmdChib2FyZG1hcCwgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnJvdztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuY2hlY2tMZWZ0VXAgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIHZhciBUb0xlZnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIFRvTGVmdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICBUb0xlZnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUb0xlZnQ7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHRVcCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgdmFyIHRvUmlnaHQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgM10uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b1JpZ2h0O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja1JpZ2h0UmlnaHQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8vIDMgcG9zc2libGUgcG9pbnRzIG9mIGNvbnRhY3RcbiAgICAgICAgLypcbiAgICAgICBbXl0gPC0gIHRoaXMucm93LCB0aGlzLmNvbCArIDJcbiAgICAgICBbPF1bPl0gPC0gIHRoaXMucm93KzEgLCB0aGlzLmNvbCArM1xuICAgICAgIFt2XSA8LSAgdGhpcy5yb3crMiwgdGhpcy5jb2wgKzJcbiAgICAgICAqL1xuICAgICAgICB2YXIgdG9SaWdodCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAzXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b1JpZ2h0O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnRSaWdodCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgdmFyIHRvUmlnaHQgPSBmYWxzZTtcbiAgICAgICAgLy8gMyBwb3NzaWJsZSBwb2ludHMgb2YgY29udGFjdFxuICAgICAgICAvKlxuICAgICAgdGhpcy5yb3csIHRoaXMuY29sIC0+IFteXVxuICAgICAgdGhpcy5yb3crMSx0aGlzLmNvbC0+IFs8XVs+XVxuICAgICAgdGhpcy5yb3crMix0aGlzLmNvbC0+IFt2XVxuICAgICAgICovXG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvUmlnaHQ7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmNoZWNrUmlnaHRMZWZ0ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKlxuICAgICAgIFteXSAtPiB0aGlzLnJvdywgdGhpcy5jb2wrMlxuICAgIFs8XVs+XSAtPiB0aGlzLnJvdysxLCB0aGlzLmNvbCsyXG4gICAgICAgW3ZdIC0+IHRoaXMucm93KzIsIHRoaXMuY29sKzJcbiAgICAgICAqL1xuICAgICAgICB2YXIgdG9SaWdodCA9IGZhbHNlO1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgKyAyXSkge1xuICAgICAgICAgICAgdG9SaWdodCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgMl0pIHtcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b1JpZ2h0O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnRMZWZ0ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKlxuICAgICB0aGlzLnJvdyx0aGlzLmNvbC0+ICAgICBbXl1cbiAgICB0aGlzLnJvdysxLHRoaXMuY29sIC0xWzxdWz5dXG4gICAgIHRoaXMucm93KzIsdGhpcy5jb2wgICAgIFt2XVxuICAgICAgICovXG4gICAgICAgIHZhciB0b0xlZnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b0xlZnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCAtIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b0xlZnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvTGVmdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvTGVmdDtcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuY2hlY2tMZWZ0RG93biA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgLypcbiAgICAgICAgICAgIFR3byBQb2ludHMgb2YgRW50cnlcbiAgICAgICAgICAgdGhpcy5yb3crMSx0aGlzLmNvbC0xIFs8XVteXVs+XVxuICAgICAgICAgICB0aGlzLnJvdysyLHRoaXMuY29sICAgICAgW3ZdXG4gICAgICAgICovXG4gICAgICAgIHZhciB0b0xlZnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sIC0gMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvTGVmdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgdG9MZWZ0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9MZWZ0O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja1JpZ2h0RG93biA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgLypcbiAgICAgICAgIFR3byBQb2ludHMgb2YgRW50cnlcbiAgICAgICAgICBbPF1bXl1bPl0gLT4gdGhpcy5yb3crMSwgdGhpcy5jb2wrM1xuICAgICAgICAgICAgIFt2XSAgLT4gdGhpcy5yb3crMiwgdGhpcy5jb2wrMlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRvUmlnaHQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgM10uZW1wdHkpIHtcbiAgICAgICAgICAgIHRvUmlnaHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyXVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICB0b1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9SaWdodDtcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuY2hlY2tCZWxvd3VwID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgYmVsb3cgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl1bdGhpcy5jb2xdLmVtcHR5KSB7XG4gICAgICAgICAgICBiZWxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDEgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJlbG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiYmVsb3cgPVwiK2JlbG93KTtcbiAgICAgICAgcmV0dXJuIGJlbG93O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93RG93biA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgdmFyIGJlbG93ID0gZmFsc2U7XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxICsgbW9kaWZpZXJdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJlbG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMSArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDJdLmVtcHR5KSB7XG4gICAgICAgICAgICBiZWxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJlbG93O1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93TGVmdCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbW9kaWZpZXIpIHtcbiAgICAgICAgdmFyIGJlbG93ID0gZmFsc2U7XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJlbG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMSArIG1vZGlmaWVyXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJlbG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZighYm9hcmRtYXBbdGhpcy5yb3crMyttb2RpZmllcl1bdGhpcy5jb2wrMV0uZW1wdHkpe1xuICAgICAgICAvLyAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICAvLyB9XG4gICAgICAgIHJldHVybiBiZWxvdztcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuY2hlY2tCZWxvd1JpZ2h0ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgYmVsb3cgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xuICAgICAgICAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIGJlbG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZighYm9hcmRtYXBbdGhpcy5yb3crMyttb2RpZmllcl1bdGhpcy5jb2wrMV0uZW1wdHkpe1xuICAgICAgICAvLyAgICAgYmVsb3cgPSB0cnVlO1xuICAgICAgICAvLyB9XG4gICAgICAgIHJldHVybiBiZWxvdztcbiAgICB9O1xuICAgIFhQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmRlbGV0ZVNlbGYoYm9hcmRtYXAsMCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3d1cChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDE3KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPCAxNyAmJiB0aGlzLmNoZWNrQmVsb3dSaWdodChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3dSaWdodChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NlbGZSaWdodChib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93ID4gMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE3ICYmIHRoaXMuY2hlY2tCZWxvd0xlZnQoYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0JlbG93TGVmdChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NlbGZMZWZ0KGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAxNykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvd0Rvd24oYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZGVsZXRlU2VsZkZsaXBwZWQoYm9hcmRtYXAsMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3cgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTZWxmRmxpcHBlZChib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBYUGllY2UucHJvdG90eXBlLmRlY3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucm93ID0gdGhpcy5yb3cgKyAxO1xuICAgIH07XG4gICAgWFBpZWNlLnByb3RvdHlwZS5zZXRjb2xvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMSk7XG4gICAgICAgIHN3aXRjaCAoY29sb3IpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTEsIDk4LCAyMzcpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDE5LCAyMzcsIDExKVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDksIDcyLCA5MClcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ1LCAyNTUsIDY2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYig2NiwgMjU1LCAyNDgpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgNjYsIDE3NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCAxNTQsIDY2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gWFBpZWNlO1xufSgpKTtcbmV4cG9ydHMuWFBpZWNlID0gWFBpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29vcmRpbmF0ZV8xID0gcmVxdWlyZShcIi4vQ29vcmRpbmF0ZVwiKTtcbnZhciBPUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT1BpZWNlKCkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xuICAgICAgICB0aGlzLmZsaXBwZWQgPSBNYXRoLnJhbmRvbSgpIDwgMC41O1xuICAgICAgICB0aGlzLnNldGNvbG9yKCk7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHRoaXMuY29sID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDMpICsgMik7XG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIG9iamVjdDogY29sOlwiK3RoaXMuY29sKTtcbiAgICB9XG4gICAgT1BpZWNlLnByb3RvdHlwZS5kcmF3VG9Qb2ludCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgQ29yZCkge1xuICAgICAgICBpZiAoYm9hcmRtYXBbQ29yZC5yb3ddICYmIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0pIHtcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICAgICAgYm9hcmRtYXBbQ29yZC5yb3ddW0NvcmQuY29sXS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlcy5wdXNoKG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZShDb3JkLnJvdywgQ29yZC5jb2wpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRyYXcgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdHMgYXQgYm9hcmRtYXBbXCIgKyBDb3JkLnJvdyArIFwiXVtcIiArIENvcmQuY29sICsgXCJdXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRlbGV0ZVRvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIHgsIHkpIHtcbiAgICAgICAgaWYgKGJvYXJkbWFwW3hdICYmIGJvYXJkbWFwW3hdW3ldKSB7XG4gICAgICAgICAgICBib2FyZG1hcFt4XVt5XS5jb2xvciA9IHRoaXMub3JpZ2luYWxDb2xvcjtcbiAgICAgICAgICAgIGJvYXJkbWFwW3hdW3ldLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGRlbGV0ZSBzb21ldGhpbmcgdGhhdCBkb2Vzbid0IGV4aXN0cyBhdCBib2FyZG1hcFtcIiArIHggKyBcIl1bXCIgKyB5ICsgXCJdXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRlbGV0ZUNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5jb29yZGluYXRlcy5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlVG9Qb2ludChib2FyZG1hcCwgY3VycmVudC5yb3csIGN1cnJlbnQuY29sKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8vaGFuZGxlIGlmIHJvdyB6ZXJvIGFuZCBpZiBwZWljZSBpcyBhbHJlYWR5IHRoZXJlIHJldHVybiBmYWxzZSB5b3UgbG9zZVxuICAgICAgICBpZiAodGhpcy5yb3cgPT0gMTkpIHtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnJvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0ZpcnN0U2VsZihib2FyZG1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5yb3cgPT09IDApIHtcbiAgICAgICAgICAgIC8vdGhpcy5kcmF3Rmlyc3RTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIC8vIHRoaXMuZGVsZXRlRmlyc3RTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1NlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5yb3cgPT09IDEpIHtcbiAgICAgICAgICAgIC8vY29uc29sZSBjb25zb2xlLmxvZyhcIkRlbGV0aW5nIGZpcnN0IHNlbGZcIik7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIC8vIHRoaXMuZGVsZXRlUHJldlNlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgLy90aGlzLmRlbGV0ZVByZXZTZWxmKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1NlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpZighYm9hcmRtYXBbdGhpcy5yb3crMV1bdGhpcy5jb2xdLmVtcHR5IHx8IWJvYXJkbWFwW3RoaXMucm93KzFdWyt0aGlzLmNvbF0uZW1wdHkgKXtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tCZWxvdyhib2FyZG1hcCwgLTEpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NlbGYoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBEcmF3XCIpXG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRyYXdGbGlwcGVkID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRG9uJ3QgbmVlZCB0aGlzIG1ldGhvZCA6XCIpO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5kcmF3Tm90RmxpcHBlZCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkFsc28gZG9uJ3QgbmVlZCB0aGlzIG1ldGhvZCA7XCIpO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5kZWNyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlRoaXMucm93ID0gXCIrdGhpcy5yb3cpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbGxpbmcgZGVzY3JcIik7XG4gICAgICAgIHRoaXMucm93ID0gdGhpcy5yb3cgKyAxO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5kcmF3U2VsZiA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3csIHRoaXMuY29sKSk7XG4gICAgICAgIC8vYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sKSk7XG4gICAgICAgIC8vYm9hcmRtYXBbdGhpcy5yb3crMV1bdGhpcy5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93LCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgLy8gYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sKzFdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgLy9ib2FyZG1hcFt0aGlzLnJvdysxXVt0aGlzLmNvbCsxXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMSkpO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKlsqXVsqXVxuICAgICAgICAgIFsqXVsqXVxuICAgICAgICAqL1xuICAgICAgICBpZiAoIWJvYXJkbWFwW3RoaXMucm93ICsgMiArIG1vZGlmaWVyXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAyICsgbW9kaWZpZXJdW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUuZHJhd0ZpcnN0U2VsZiA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3csIHRoaXMuY29sKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdywgdGhpcy5jb2wgKyAxKSk7XG4gICAgICAgIC8vYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIC8vYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sXS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAvLyAgYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sKzFdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgLy8gYm9hcmRtYXBbdGhpcy5yb3ddW3RoaXMuY29sKzFdLmVtcHR5ID0gZmFsc2U7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmRvd25QcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbGxpbmcgZG93biBwcmVzc0BcIilcbiAgICAgICAgaWYgKHRoaXMucm93IDwgMTgpIHtcbiAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICsrdGhpcy5yb3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgfTtcbiAgICBPUGllY2UucHJvdG90eXBlLmxlZnRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBpZiAodGhpcy5jb2wgPT09IDApIHtcbiAgICAgICAgICAgIC8vZG8gbm90aGluZ1xuICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29sID4gMCkge1xuICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93XVt0aGlzLmNvbCAtIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkbWFwW3RoaXMucm93ICsgMV1bdGhpcy5jb2wgLSAxXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAtLXRoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUucmlnaHRQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICBpZiAodGhpcy5jb2wgPT09IDkpIHtcbiAgICAgICAgICAgIC8vZG8gbm90aGluZ1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbCA8IDkpIHtcbiAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAyXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgKyt0aGlzLmNvbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIE9QaWVjZS5wcm90b3R5cGUudXBQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgLy8gdGhpcy5kcmF3KGJvYXJkbWFwLGxlZnQpO1xuICAgIH07XG4gICAgT1BpZWNlLnByb3RvdHlwZS5zZXRjb2xvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDYpICsgMSk7XG4gICAgICAgIHN3aXRjaCAoY29sb3IpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMTEsIDk4LCAyMzcpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDE5LCAyMzcsIDExKVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNDksIDcyLCA5MClcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ1LCAyNTUsIDY2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYig2NiwgMjU1LCAyNDgpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgNjYsIDE3NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjU1LCAxNTQsIDY2KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gT1BpZWNlO1xufSgpKTtcbmV4cG9ydHMuT1BpZWNlID0gT1BpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29vcmRpbmF0ZV8xID0gcmVxdWlyZShcIi4vQ29vcmRpbmF0ZVwiKTtcbnZhciBJUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSVBpZWNlKCkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSBcInJnYig2NiwgNjYsIDY2KVwiO1xuICAgICAgICB0aGlzLmZsaXBwZWQgPSB0cnVlOyAvL01hdGgucmFuZG9tKCkgPCAwLjU7XG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zZXRjb2xvcigpO1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb2wgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNikgKyAwKTtcbiAgICB9XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kZWNyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJvdyA9IHRoaXMucm93ICsgMTtcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuZHJhd1RvUG9pbnQgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIENvcmQpIHtcbiAgICAgICAgaWYgKGJvYXJkbWFwW0NvcmQucm93XSAmJiBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdKSB7XG4gICAgICAgICAgICBib2FyZG1hcFtDb3JkLnJvd11bQ29yZC5jb2xdLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgICAgIGJvYXJkbWFwW0NvcmQucm93XVtDb3JkLmNvbF0uZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXMucHVzaChuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUoQ29yZC5yb3csIENvcmQuY29sKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyeWluZyB0byBkcmF3IHNvbWV0aGluZyB0aGF0IGRvZXNuJ3QgZXhpc3RzIGF0IGJvYXJkbWFwW1wiICsgQ29yZC5yb3cgKyBcIl1bXCIgKyBDb3JkLmNvbCArIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kZWxldGVUb1BvaW50ID0gZnVuY3Rpb24gKGJvYXJkbWFwLCB4LCB5KSB7XG4gICAgICAgIGlmIChib2FyZG1hcFt4XSAmJiBib2FyZG1hcFt4XVt5XSkge1xuICAgICAgICAgICAgYm9hcmRtYXBbeF1beV0uY29sb3IgPSB0aGlzLm9yaWdpbmFsQ29sb3I7XG4gICAgICAgICAgICBib2FyZG1hcFt4XVt5XS5lbXB0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyeWluZyB0byBkZWxldGUgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdHMgYXQgYm9hcmRtYXBbXCIgKyB4ICsgXCJdW1wiICsgeSArIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kZWxldGVDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICB3aGlsZSAodGhpcy5jb29yZGluYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuY29vcmRpbmF0ZXMucG9wKCk7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVRvUG9pbnQoYm9hcmRtYXAsIGN1cnJlbnQucm93LCBjdXJyZW50LmNvbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuc2V0Y29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb2xvciA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDEpO1xuICAgICAgICBzd2l0Y2ggKGNvbG9yKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDExLCA5OCwgMjM3KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigxOSwgMjM3LCAxMSlcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoMjQ5LCA3MiwgOTApXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI0NSwgMjU1LCA2NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gXCJyZ2IoNjYsIDI1NSwgMjQ4KVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSBcInJnYigyNTUsIDY2LCAxNzYpXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9IFwicmdiKDI1NSwgMTU0LCA2NilcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5sZWZ0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZmxpcHBlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29sID49IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrTGVmdFZlcnRpY2FsKGJvYXJkbWFwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICAgICAgLS10aGlzLmNvbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgLy90aGlzLmRyYXdWZXJ0aWNhbChib2FyZG1hcCxsZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrTGVmdEhvcml6b250YWwoYm9hcmRtYXApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAtLXRoaXMuY29sO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgLy90aGlzLmRyYXdIb3Jpem9udGFsKGJvYXJkbWFwLGxlZnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLnJpZ2h0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLypcblsgXVsqXVsgXVsgXSAgICAgWyBdWyBdWyBdWyBdXG5bIF1bKl1bIF1bIF0gICAgIFsqXVsqXVsqXVsqXVxuWyBdWypdWyBdWyBdICAgICBbIF1bIF1bIF1bIF1cblsgXVsqXVsgXVsgXSAgICAgWyBdWyBdWyBdWyBdXG5cbiovXG4gICAgICAgIGlmICh0aGlzLmZsaXBwZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDExKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrUmlnaHRWZXJ0aWNhbChib2FyZG1hcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICsrdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbCA8IDYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tSaWdodEhvcml6b250YWwoYm9hcmRtYXApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICArK3RoaXMuY29sO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUudXBQcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvKlxuICAgICAgIFsgXVsqXVsgXVsgXSAgICAgWyBdWyBdWyBdWyBdXG4gICAgICAgWyBdWypdWyBdWyBdIC0+ICBbKl1bKl1bKl1bKl1cbiAgICAgICBbIF1bKl1bIF1bIF0gICAgIFsgXVsgXVsgXVsgXVxuICAgICAgIFsgXVsqXVsgXVsgXSAgICAgWyBdWyBdWyBdWyBdXG5cbiAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiTm90IGltcGxlbWVudGVkXCIpXG4gICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tWZXJ0aWNhbFRvSG9yaXpvbnRhbChib2FyZG1hcCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZsaXBwZWQgPSAhdGhpcy5mbGlwcGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgIFsgXVsgXVsgXVsgXSAgICBbIF1bKl1bIF1bIF1cbiAgICAgIFsqXVsqXVsqXVsqXSAtPiBbIF1bKl1bIF1bIF1cbiAgICAgIFsgXVsgXVsgXVsgXSAgICBbIF1bKl1bIF1bIF1cbiAgICAgIFsgXVsgXVsgXVsgXSAgICBbIF1bKl1bIF1bIF1cbiAgICAgICovXG4gICAgICAgIGVsc2UgeyAvL2hvcml6b250YWxcbiAgICAgICAgICAgIGlmICghdGhpcy5jaGVja0hvcml6b250YWxUb1ZlcnRpY2FsKGJvYXJkbWFwKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIHRoaXMuZmxpcHBlZCA9ICF0aGlzLmZsaXBwZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvb3JkaW5hdGVzKGJvYXJkbWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJldHVybiB0aGlzLmZsaXBwZWQ7XG4gICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiQ2hhbmdlIEFnYWluXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmNoZWNrVmVydGljYWxUb0hvcml6b250YWwgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLypcbiAgICAgWyBdWypdWyBdWyBdICAgICBbIF1bIF1bIF1bIF1cbiAgICAgWyBdWypdWyBdWyBdIC0+ICBbKl1bKl1bKl1bKl1cbiAgICAgWyBdWypdWyBdWyBdICAgICBbIF1bIF1bIF1bIF1cbiAgICAgWyBdWypdWyBdWyBdICAgICBbIF1bIF1bIF1bIF1cblxuICAgICAqL1xuICAgICAgICB2YXIgbm90ZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuY29sID4gNikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29sID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sXS5lbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDNdLmVtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm90ZW1wdHk7XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmNoZWNrSG9yaXpvbnRhbFRvVmVydGljYWwgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLypcbiAgICAgIFsgXVsgXVsgXVsgXSAgICBbIF1bKl1bIF1bIF1cbiAgICAgIFsqXVsqXVsqXVsqXSAtPiBbIF1bKl1bIF1bIF1cbiAgICAgIFsgXVsgXVsgXVsgXSAgICBbIF1bKl1bIF1bIF1cbiAgICAgIFsgXVsgXVsgXVsgXSAgICBbIF1bKl1bIF1bIF1cbiAgICAgICovXG4gICAgICAgIHZhciBub3RlbXB0eSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5yb3cgPiAxNykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvd11bdGhpcy5jb2wgKyAxXS5lbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDJdW3RoaXMuY29sICsgMV0uZW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYm9hcmRtYXBbdGhpcy5yb3cgKyAzXVt0aGlzLmNvbCArIDFdLmVtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm90ZW1wdHk7XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmRvd25QcmVzcyA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvL3ZlcnRpY2FsXG4gICAgICAgIC8qXG4gICAgICAgIFsgXVsgXVsgXVsgXSAgWyBdWypdWyBdWyBdXG4gICAgICAgIFsqXVsqXVsqXVsqXSAgWyBdWypdWyBdWyBdXG4gICAgICAgIFsgXVsgXVsgXVsgXSAgWyBdWypdWyBdWyBdXG4gICAgICAgIFsgXVsgXVsgXVsgXSAgWyBdWypdWyBdWyBdXG4gICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLmZsaXBwZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE2KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQmVsb3dWZXJ0aWNhbChib2FyZG1hcCwgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93Kys7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZHJhd1ZlcnRpY2FsKGJvYXJkbWFwLDApO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmRyYXcoYm9hcmRtYXAsMClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vaG9yaXpvbnRhbFxuICAgICAgICAgICAgaWYgKHRoaXMucm93IDwgMTgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tCZWxvd0hvcml6b250YWwoYm9hcmRtYXAsIDApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdysrO1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuZHJhd0hvcml6b250YWwoYm9hcmRtYXAsMCk7XG4gICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIHRoaXMuZHJhdyhib2FyZG1hcCwwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmRyYXcoYm9hcmRtYXAsMClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL3RoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZmxpcHBlZCkge1xuICAgICAgICAgICAgdmFyIHJldHVybnZhbCA9IHRoaXMuZHJhd0ZsaXBwZWQoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICAgICAgcmV0dXJuIHJldHVybnZhbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRyYXdOb3RGbGlwcGVkKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kcmF3VmVydGljYWwgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLypcbiAgICAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgICAgWyBdWypdWyBdWyBdXG4gICAgICAgICBbIF1bKl1bIF1bIF1cbiAgICAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgICAgdGhpcy5yb3csIHRoaXMuY29sKzFcbiAgICAgICAgIHRoaXMucm93KzEsIHRoaXMuY29sKzFcbiAgICAgICAgIHRoaXMucm93KzIsIHRoaXMuY29sKzFcbiAgICAgICAgIHRoaXMucm93KzMsIHRoaXMuY29sKzFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdywgdGhpcy5jb2wgKyAxKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMSkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAyLCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMywgdGhpcy5jb2wgKyAxKSk7XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmRyYXdIb3Jpem9udGFsID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8qXG4gICAgICAgWyBdWyBdWyBdWyBdXG4gICAgICAgWypdWypdWypdWypdXG4gICAgICAgWyBdWyBdWyBdWyBdXG4gICAgICAgWyBdWyBdWyBdWyBdXG4gICAgICAgdGhpcy5yb3crMSwgdGhpcy5jb2xcbiAgICAgICB0aGlzLnJvdysxLCB0aGlzLmNvbCsxXG4gICAgICAgdGhpcy5yb3crMSwgdGhpcy5jb2wrMlxuICAgICAgIHRoaXMucm93KzEsIHRoaXMuY29sKzNcbiAgICAgICAqL1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCkpO1xuICAgICAgICB0aGlzLmRyYXdUb1BvaW50KGJvYXJkbWFwLCBuZXcgQ29vcmRpbmF0ZV8xLkNvb3JkaW5hdGUodGhpcy5yb3cgKyAxLCB0aGlzLmNvbCArIDEpKTtcbiAgICAgICAgdGhpcy5kcmF3VG9Qb2ludChib2FyZG1hcCwgbmV3IENvb3JkaW5hdGVfMS5Db29yZGluYXRlKHRoaXMucm93ICsgMSwgdGhpcy5jb2wgKyAyKSk7XG4gICAgICAgIHRoaXMuZHJhd1RvUG9pbnQoYm9hcmRtYXAsIG5ldyBDb29yZGluYXRlXzEuQ29vcmRpbmF0ZSh0aGlzLnJvdyArIDEsIHRoaXMuY29sICsgMykpO1xuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnRWZXJ0aWNhbCA9IGZ1bmN0aW9uIChib2FyZG1hcCkge1xuICAgICAgICAvKlxuICAgICAgWyBdWypdWyBdWyBdXG4gICAgICBbIF1bKl1bIF1bIF1cbiAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgWyBdWypdWyBdWyBdXG4gICAgICAqL1xuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jb2wgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5yb3c7IGkgPCB0aGlzLnJvdyArIDQ7ICsraSkge1xuICAgICAgICAgICAgaWYgKCFib2FyZG1hcFtpXVt0aGlzLmNvbF0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxvY2tlZDtcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuY2hlY2tSaWdodFZlcnRpY2FsID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIC8qXG4gICAgICBbIF1bKl1bIF1bIF1cbiAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgWyBdWypdWyBdWyBdXG4gICAgICBbIF1bKl1bIF1bIF1cbiAgICAgICovXG4gICAgICAgIHZhciBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmNvbCA+IDcpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnJvdzsgaSA8IHRoaXMucm93ICsgNDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoIWJvYXJkbWFwW2ldW3RoaXMuY29sICsgMl0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxvY2tlZDtcbiAgICB9O1xuICAgIElQaWVjZS5wcm90b3R5cGUuY2hlY2tSaWdodEhvcml6b250YWwgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLypcbiAgICAgICAgICAgICAgWyBdWyBdWyBdWyBdXG4gICAgICAgICAgICAgIFsqXVsqXVsqXVsqXVxuICAgICAgICAgICAgICBbIF1bIF1bIF1bIF1cbiAgICAgICAgICAgICAgWyBdWyBdWyBdWyBdXG4gICAgICAgICAgICAgICovXG4gICAgICAgIHJldHVybiAhYm9hcmRtYXBbdGhpcy5yb3cgKyAxXVt0aGlzLmNvbCArIDRdLmVtcHR5O1xuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5jaGVja0xlZnRIb3Jpem9udGFsID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIC8qXG4gICAgICBbIF1bIF1bIF1bIF1cbiAgICAgIFsqXVsqXVsqXVsqXVxuICAgICAgWyBdWyBdWyBdWyBdXG4gICAgICBbIF1bIF1bIF1bIF1cbiAgICAgICovXG4gICAgICAgIGlmICh0aGlzLmNvbCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFib2FyZG1hcFt0aGlzLnJvdyArIDFdW3RoaXMuY29sIC0gMV0uZW1wdHk7XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmNoZWNrQmVsb3dIb3Jpem9udGFsID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBtb2RpZmllcikge1xuICAgICAgICAvKlxuWyBdWyBdWyBdWyBdXG5bKl1bKl1bKl1bKl1cblsgXVsgXVsgXVsgXVxuWyBdWyBdWyBdWyBdXG4qL1xuICAgICAgICB2YXIgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5yb3cgKyAyICsgbW9kaWZpZXIgPT09IDIwKSB7XG4gICAgICAgICAgICAvL2RvZXNuJ3QgZXhpc3QgcmV0dXJuXG4gICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmNvbDsgaSA8IHRoaXMuY29sICsgNDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFib2FyZG1hcFt0aGlzLnJvdyArIDIgKyBtb2RpZmllcl1baV0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5jaGVja0JlbG93VmVydGljYWwgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIG1vZGlmaWVyKSB7XG4gICAgICAgIC8qXG5bIF1bKl1bIF1bIF1cblsgXVsqXVsgXVsgXVxuWyBdWypdWyBdWyBdXG5bIF1bKl1bIF1bIF1cbiovXG4gICAgICAgIGlmICh0aGlzLnJvdyArIDMgPT09IDIwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIWJvYXJkbWFwW3RoaXMucm93ICsgMyArIG1vZGlmaWVyXVt0aGlzLmNvbCArIDFdLmVtcHR5O1xuICAgIH07XG4gICAgSVBpZWNlLnByb3RvdHlwZS5kcmF3RmxpcHBlZCA9IGZ1bmN0aW9uIChib2FyZG1hcCwgbGVmdCkge1xuICAgICAgICAvKlxuICAgICAgICBbIF1bKl1bIF1bIF1cbiAgICAgICAgWyBdWypdWyBdWyBdXG4gICAgICAgIFsgXVsqXVsgXVsgXVxuICAgICAgICBbIF1bKl1bIF1bIF1cbiAgICAqL1xuICAgICAgICBpZiAodGhpcy5yb3cgPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3dWZXJ0aWNhbChib2FyZG1hcCwgMSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy9nYW1lIGlzIGRvbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdWZXJ0aWNhbChib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vbm90IDBcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdyA8IDE3KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQmVsb3dWZXJ0aWNhbChib2FyZG1hcCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb29yZGluYXRlcyhib2FyZG1hcCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd1ZlcnRpY2FsKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBJUGllY2UucHJvdG90eXBlLmRyYXdOb3RGbGlwcGVkID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIC8qXG4gICAgICAgICAgIFsgXVsgXVsgXVsgXVxuICAgICAgICAgICBbKl1bKl1bKl1bKl1cbiAgICAgICAgICAgWyBdWyBdWyBdWyBdXG4gICAgICAgICAgIFsgXVsgXVsgXVsgXVxuICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnJvdyA9PT0gMCkgeyAvLyBSZWFsbHkgc2hvdWxkbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgdGhpcyBjYXNlLCBJIHRoaW5rIGl0IHNob3VsZCBzcGFuIHZlcnRpY2FsIGV2ZXJ5dGltZS5cbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQmVsb3dIb3Jpem9udGFsKGJvYXJkbWFwLCAtMSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0hvcml6b250YWwoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJvdyA8IDIxKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tCZWxvd0hvcml6b250YWwoYm9hcmRtYXAsIC0xKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29vcmRpbmF0ZXMoYm9hcmRtYXApO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0hvcml6b250YWwoYm9hcmRtYXAsIGxlZnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIElQaWVjZTtcbn0oKSk7XG5leHBvcnRzLklQaWVjZSA9IElQaWVjZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIElQaWVjZV8xID0gcmVxdWlyZShcIi4uL1BsYXllcnMvSVBpZWNlXCIpO1xudmFyIE9QaWVjZV8xID0gcmVxdWlyZShcIi4uL1BsYXllcnMvT1BpZWNlXCIpO1xudmFyIFhQaWVjZV8xID0gcmVxdWlyZShcIi4uL1BsYXllcnMvWFBpZWNlXCIpO1xudmFyIEpQaWVjZV8xID0gcmVxdWlyZShcIi4uL1BsYXllcnMvSlBpZWNlXCIpO1xudmFyIFRQaWVjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUUGllY2UoYm9hcmRtYXApIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcbiAgICAgICAgLy90aGlzLmtpbmQgPSBraW5kO1xuICAgICAgICB0aGlzLmluaXRQKGJvYXJkbWFwKTtcbiAgICB9XG4gICAgVFBpZWNlLnByb3RvdHlwZS5wcmludEJvYXJkID0gZnVuY3Rpb24gKGJvYXJkbWFwKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjA7ICsraSkge1xuICAgICAgICAgICAgdmFyIHN0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDEwOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmRtYXBbaV1bal0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgXCJ4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyBcIm9cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdHJpbmcpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIl9cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuaW5pdFAgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3BlaWNlTGlzdCA9IFtdO1xuICAgICAgICB0aGlzLmdlbmVyYXRlVHlwZSgpO1xuICAgICAgICB0aGlzLnBsYXllci5yb3cgPSAtMTtcbiAgICAgICAgdGhpcy5maXJzdFRpbWUgPSB0cnVlO1xuICAgICAgICAvL3RoaXMucGxheWVyLmNvbCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA2KSArIDApO1xuICAgICAgICB0aGlzLmNoZWNrQm9hcmRGb3JSb3dzKGJvYXJkbWFwKTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUubGVmdFByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMucGxheWVyLmxlZnRQcmVzcyhib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLnJpZ2h0UHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIucmlnaHRQcmVzcyhib2FyZG1hcCwgbGVmdCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLnVwUHJlc3MgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLy8gIHRoaXMucHJpbnRCb2FyZChib2FyZG1hcCk7XG4gICAgICAgIC8vICAgY29uc29sZS5sb2coXCJBdHRlbXB0aW5nIHRyYW5zZm9ybWF0aW9uXCIpO1xuICAgICAgICB0aGlzLnBsYXllci51cFByZXNzKGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgdGhpcy5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgLy8gdGhpcy5wcmludEJvYXJkKGJvYXJkbWFwKTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuZG93blByZXNzID0gZnVuY3Rpb24gKGJvYXJkbWFwLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMucGxheWVyLmRvd25QcmVzcyhib2FyZG1hcCk7XG4gICAgICAgIHRoaXMuZHJhdyhib2FyZG1hcCwgbGVmdCk7XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmdlbmVyYXRlVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNCkgKyAxKTtcbiAgICAgICAgLy8gIHN3aXRjaCh0eXBlKXtcbiAgICAgICAgLy8gICAgICBjYXNlIDA6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiMFwiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgICBjYXNlIDE6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiVFwiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgICBjYXNlIDI6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiSVwiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgICBjYXNlIDM6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiU1wiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgICBjYXNlIDQ6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiWlwiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgICBjYXNlIDU6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiSlwiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgICBjYXNlIDY6XG4gICAgICAgIC8vICAgICAgICAgIHRoaXMua2luZCA9IFwiTFwiO1xuICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gIH1cbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwidHlwZSBoZXJlID0gXCIrdHlwZSk7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRoaXMua2luZCA9IFwiSVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHRoaXMua2luZCA9IFwiMFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHRoaXMua2luZCA9IFwiWFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHRoaXMua2luZCA9IFwiSlwiO1xuICAgICAgICB9XG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkFib3V0IHRvIGRvIG5leHQga2luZDpcIit0aGlzLmtpbmQpO1xuICAgICAgICBpZiAodGhpcy5raW5kID09PSBcIklcIikge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgSVBpZWNlXzEuSVBpZWNlKCk7IC8vbmV3IE9QaWVjZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCIwXCIpIHtcbiAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIE9waWVjZVwiKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IE9QaWVjZV8xLk9QaWVjZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCJYXCIpIHtcbiAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIE9waWVjZVwiKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFhQaWVjZV8xLlhQaWVjZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZCA9PT0gXCJKXCIpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IEpQaWVjZV8xLkpQaWVjZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUUGllY2UucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoYm9hcmRtYXAsIGxlZnQpIHtcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcImNhbGxpbmcgZHJhd1wiKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IElQaWVjZV8xLklQaWVjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXR1cm52YWwgPSB0aGlzLnBsYXllci5kcmF3KGJvYXJkbWFwLCBsZWZ0KTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IElQaWVjZV8xLklQaWVjZSgpO1xuICAgICAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldHVybnZhbDtcbiAgICB9O1xuICAgIC8vIGRyYXdJRmxpcHBlZChib2FyZG1hcDpQaWVjZVtdW10sbGVmdDpudW1iZXIpey8vdmVydGljbGVcbiAgICAvLyAgICAgIHZhciB2YWx0b3JldHVybiA9IHRoaXMucGxheWVyLmRyYXdGbGlwcGVkKGJvYXJkbWFwLGxlZnQpO1xuICAgIC8vICAgICAgaWYgKHRoaXMucGxheWVyLmRvbmUpe1xuICAgIC8vICAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgLy8gICAgICB9XG4gICAgLy8gICAgICByZXR1cm4gdmFsdG9yZXR1cm47XG4gICAgLy8gfVxuICAgIC8vIGRyYXdJTm90RmxpcHBlZChib2FyZG1hcDpQaWVjZVtdW10sbGVmdDpudW1iZXIpeyAvL2hvcml6b250YWxcbiAgICAvLyAgICAgdmFyIHZhbHRvcmV0dXJuID0gdGhpcy5wbGF5ZXIuZHJhd05vdEZsaXBwZWQoYm9hcmRtYXAsbGVmdCk7XG4gICAgLy8gICAgIGlmKHRoaXMucGxheWVyLmRvbmUpe1xuICAgIC8vICAgICAgICAgdGhpcy5pbml0UChib2FyZG1hcCk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgcmV0dXJuIHZhbHRvcmV0dXJuO1xuICAgIC8vIH1cbiAgICBUUGllY2UucHJvdG90eXBlLmRlY3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGxheWVyLmRlY3IoKTtcbiAgICB9O1xuICAgIFRQaWVjZS5wcm90b3R5cGUuY2hlY2tCb2FyZEZvclJvd3MgPSBmdW5jdGlvbiAoYm9hcmRtYXApIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJDYWxsaW5nIGRyYXdcIik7XG4gICAgICAgIHZhciBoZWlnaHQgPSAyMDtcbiAgICAgICAgdmFyIHdpZHRoID0gMTA7XG4gICAgICAgIGZvciAodmFyIGkgPSBoZWlnaHQgLSAxOyBpID4gLTE7IGktLSkge1xuICAgICAgICAgICAgdmFyIE5lZWRUb0RlbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gd2lkdGggLSAxOyBqID4gLTE7IGotLSkge1xuICAgICAgICAgICAgICAgIGlmIChib2FyZG1hcFtpXVtqXS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBOZWVkVG9EZWxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTmVlZFRvRGVsZXRlKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IGk7IGsgPiAxOyAtLWspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCB3aWR0aDsgKytsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFtrXVtsXS5lbXB0eSA9IGJvYXJkbWFwW2sgLSAxXVtsXS5lbXB0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwW2tdW2xdLmNvbG9yID0gYm9hcmRtYXBbayAtIDFdW2xdLmNvbG9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgd2lkdGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBib2FyZG1hcFswXVtqXS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkbWFwWzBdW2pdLmNvbG9yID0gdGhpcy5vcmlnaW5hbENvbG9yOyAvLyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tCb2FyZEZvclJvd3MoYm9hcmRtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVFBpZWNlO1xufSgpKTtcbmV4cG9ydHMuVFBpZWNlID0gVFBpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUGllY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGllY2UoY29sb3IsIGxlZnQsIHRvcCkge1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMudG9wID0gdG9wO1xuICAgIH1cbiAgICBQaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChjdHgsIG9mZnNldCkge1xuICAgICAgICAvLyB0aGlzLmxlZnQgPSBvZmZzZXQ7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5sZWZ0ICsgMiArIG9mZnNldCwgdGhpcy50b3AgKyAyICsgNjAsIDM4LCAzOCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGllY2U7XG59KCkpO1xuZXhwb3J0cy5QaWVjZSA9IFBpZWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QaWVjZS9QaWVjZVwiKTtcbnZhciBUUGllY2VfMSA9IHJlcXVpcmUoXCIuLi9QaWVjZS9UUGllY2VcIik7XG52YXIgQm9hcmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm9hcmQoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15Q2FudmFzJyk7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gJ3JnYigzOCwgMzcsIDM3KSc7IC8vYmxhY2tcbiAgICAgICAgdGhpcy5ib2FyZG1hcCA9IFtdO1xuICAgICAgICB0aGlzLnplcm9Cb2FyZCgpO1xuICAgICAgICB0aGlzLmluaXRCb2FyZCgpO1xuICAgICAgICB0aGlzLmdhbWVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50ID0gbmV3IFRQaWVjZV8xLlRQaWVjZSh0aGlzLmJvYXJkbWFwKTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgICAgIHRoaXMubGVmdCA9IGNlbnRlciAtIDIwMDtcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBtb3VzZVBvcyA9IHRoaXMuZ2V0VG91Y2hQb3ModGhpcy5jYW52YXMsIGUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUb3VjaGluZ1wiKTtcbiAgICAgICAgICAgIGlmIChtb3VzZVBvcy54ID4gY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50LnJpZ2h0UHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vdXNlUG9zLnggPCBjZW50ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnQubGVmdFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG4gICAgQm9hcmQucHJvdG90eXBlLmdldFRvdWNoUG9zID0gZnVuY3Rpb24gKGNhbnZhc0RvbSwgdG91Y2hFdmVudCkge1xuICAgICAgICB2YXIgcmVjdCA9IGNhbnZhc0RvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHRvdWNoRXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0gcmVjdC5sZWZ0LFxuICAgICAgICAgICAgeTogdG91Y2hFdmVudC50b3VjaGVzWzBdLmNsaWVudFkgLSByZWN0LnRvcFxuICAgICAgICB9O1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmdldFBpZWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50O1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmdldENlbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy53aWR0aCAvIDIpO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmtleVByZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAnMzgnKSB7XG4gICAgICAgICAgICAvLyB1cCBhcnJvd1xuICAgICAgICAgICAgdGhpcy50LnVwUHJlc3ModGhpcy5ib2FyZG1hcCwgdGhpcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gJzQwJykge1xuICAgICAgICAgICAgdGhpcy50LmRvd25QcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PSAnMzcnKSB7XG4gICAgICAgICAgICAvLyBsZWZ0IGFycm93XG4gICAgICAgICAgICB0aGlzLnQubGVmdFByZXNzKHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICczOScpIHtcbiAgICAgICAgICAgIC8vIHJpZ2h0IGFycm93XG4gICAgICAgICAgICB0aGlzLnQucmlnaHRQcmVzcyh0aGlzLmJvYXJkbWFwLCB0aGlzLmxlZnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZGVjclRpbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiR2FtZSBpbiBwb3JncmVzc1wiKTtcbiAgICAgICAgICAgIHRoaXMudC5kZWNyKCk7XG4gICAgICAgICAgICB2YXIgc3VjY2VzcyA9IHRoaXMudC5kcmF3KHRoaXMuYm9hcmRtYXAsIHRoaXMubGVmdCk7XG4gICAgICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJObyBpbiBwcm9ncmVzc1wiKTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS56ZXJvQm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmluaXRCb2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgICAgIHZhciBsZWZ0ID0gY2VudGVyIC0gMjAwO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB2YXIgdG9wID0gNjA7XG4gICAgICAgIHZhciBsb2NhbGNvbG9yID0gXCJyZ2IoNjYsIDY2LCA2NilcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gICAgICAgICAgICAvL2kgPSByb3dzXG4gICAgICAgICAgICB2YXIgbWlkZGxlTGlzdCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxMDsgKytqKSB7XG4gICAgICAgICAgICAgICAgLy9jb2x1bW5zXG4gICAgICAgICAgICAgICAgdmFyIHB1c2htZVBlYWNlID0gbmV3IFBpZWNlXzEuUGllY2UobG9jYWxjb2xvciwgKGogKiA0MCksIChpICogNDApKTtcbiAgICAgICAgICAgICAgICBwdXNobWVQZWFjZS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbWlkZGxlTGlzdC5wdXNoKHB1c2htZVBlYWNlKTtcbiAgICAgICAgICAgICAgICAvL3RoaXMuYm9hcmRtYXBbaS0xXVtqLTFdID0gbmV3IFNwZWFjZShsb2NhbGNvbG9yLGxlZnQrKGoqNDApLHRvcCsoaSo0MCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ib2FyZG1hcC5wdXNoKG1pZGRsZUxpc3QpO1xuICAgICAgICAgICAgbWlkZGxlTGlzdCA9IFtdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZHJhd0JvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnplcm9Cb2FyZCgpO1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcbiAgICAgICAgdmFyIGxlZnQgPSBjZW50ZXIgLSAyMDA7XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ3JnYigyNTUsIDI1NSwgMjU1KSc7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QobGVmdCwgNjAsIDQwMCwgODAwKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZXMobGVmdCk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmJvYXJkbWFwOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHRvcGVudHJ5ID0gX2FbX2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCB0b3BlbnRyeV8xID0gdG9wZW50cnk7IF9iIDwgdG9wZW50cnlfMS5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSB0b3BlbnRyeV8xW19iXTtcbiAgICAgICAgICAgICAgICBlbnRyeS5kcmF3KHRoaXMuY3R4LCBsZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmRyYXdMaW5lcyA9IGZ1bmN0aW9uIChsZWZ0KSB7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ3JnYig5MSwgODksIDg5KSc7XG4gICAgICAgIHZhciBsaW5lQm90dG9tID0gNjA7XG4gICAgICAgIHZhciBsaW5lVG9wID0gNjAgKyA4MDA7XG4gICAgICAgIC8vRHJhdyBob3Jpem9udGFsIGxpbmVzXG4gICAgICAgIGZvciAodmFyIG9mZnNldCA9IDQwOyBvZmZzZXQgPCA0MDA7IG9mZnNldCA9IG9mZnNldCArIDQwKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8obGVmdCArIG9mZnNldCwgbGluZUJvdHRvbSk7XG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8obGVmdCArIG9mZnNldCwgbGluZVRvcCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSA2MDsgb2Zmc2V0IDwgODAwICsgNjA7IG9mZnNldCA9IG9mZnNldCArIDQwKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8obGVmdCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyhsZWZ0ICsgNDAwLCBvZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCb2FyZDtcbn0oKSk7XG5leHBvcnRzLkJvYXJkID0gQm9hcmQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBCb2FyZF8xID0gcmVxdWlyZShcIi4vQm9hcmQvQm9hcmRcIik7XG52YXIgYm9hcmQgPSBuZXcgQm9hcmRfMS5Cb2FyZCgpO1xuZnVuY3Rpb24gZHJhd0JvYXJkKCkge1xuICAgIC8vY29uc29sZS5sb2coXCJDYWxsaW5nIGRyYXcgYm9hcmRcIilcbiAgICBib2FyZC5kcmF3Qm9hcmQoKTtcbn1cbjtcbmZ1bmN0aW9uIGRlc2NUaW1lKCkge1xuICAgIGJvYXJkLmRlY3JUaW1lKCk7XG59XG4vLyBib2FyZC5kcmF3Qm9hcmQoKTtcbnZhciB0aW1lckZvckxvYWRpbmdSZXN1bHQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZHJhd0JvYXJkLCAyMCk7XG52YXIgdGltZXJGb3JMb2FkaW5nUmVzdWx0ID0gd2luZG93LnNldEludGVydmFsKGRlc2NUaW1lLCA0MDApO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjaGVjaywgZmFsc2UpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJnYW1lcGFkY29ubmVjdGVkXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgY29uc29sZS5sb2coXCJHYW1lcGFkIGNvbm5lY3RlZCBhdCBpbmRleCAlZDogJXMuICVkIGJ1dHRvbnMsICVkIGF4ZXMuXCIsIGUuZ2FtZXBhZC5pbmRleCwgZS5nYW1lcGFkLmlkLCBlLmdhbWVwYWQuYnV0dG9ucy5sZW5ndGgsIGUuZ2FtZXBhZC5heGVzLmxlbmd0aCk7XG59KTtcbmZ1bmN0aW9uIGNoZWNrKGUpIHtcbiAgICBib2FyZC5rZXlQcmVzcyhlKTtcbn1cbndpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGJvYXJkLmRyYXdCb2FyZCgpO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=